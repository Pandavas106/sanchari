function z4(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function H4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sj={exports:{}},Vh={},kj={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),q4=Symbol.for("react.portal"),W4=Symbol.for("react.fragment"),G4=Symbol.for("react.strict_mode"),K4=Symbol.for("react.profiler"),Q4=Symbol.for("react.provider"),Y4=Symbol.for("react.context"),X4=Symbol.for("react.forward_ref"),J4=Symbol.for("react.suspense"),Z4=Symbol.for("react.memo"),eC=Symbol.for("react.lazy"),Dv=Symbol.iterator;function tC(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var Ij={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cj=Object.assign,Aj={};function Co(t,e,n){this.props=t,this.context=e,this.refs=Aj,this.updater=n||Ij}Co.prototype.isReactComponent={};Co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pj(){}Pj.prototype=Co.prototype;function h0(t,e,n){this.props=t,this.context=e,this.refs=Aj,this.updater=n||Ij}var f0=h0.prototype=new Pj;f0.constructor=h0;Cj(f0,Co.prototype);f0.isPureReactComponent=!0;var $v=Array.isArray,Rj=Object.prototype.hasOwnProperty,m0={current:null},Dj={key:!0,ref:!0,__self:!0,__source:!0};function $j(t,e,n){var s,r={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Rj.call(e,s)&&!Dj.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Dc,type:t,key:a,ref:o,props:r,_owner:m0.current}}function nC(t,e){return{$$typeof:Dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function p0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dc}function sC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ov=/\/+/g;function dm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sC(""+t.key):e.toString(36)}function td(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dc:case q4:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+dm(o,0):s,$v(r)?(n="",t!=null&&(n=t.replace(Ov,"$&/")+"/"),td(r,e,n,"",function(u){return u})):r!=null&&(p0(r)&&(r=nC(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Ov,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",$v(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+dm(a,l);o+=td(a,e,n,c,r)}else if(c=tC(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+dm(a,l++),o+=td(a,e,n,c,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var s=[],r=0;return td(t,s,"","",function(a){return e.call(n,a,r++)}),s}function rC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},nd={transition:null},iC={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:nd,ReactCurrentOwner:m0};function Oj(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!p0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Co;be.Fragment=W4;be.Profiler=K4;be.PureComponent=h0;be.StrictMode=G4;be.Suspense=J4;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iC;be.act=Oj;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Cj({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=m0.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Rj.call(e,c)&&!Dj.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Dc,type:t.type,key:r,ref:a,props:s,_owner:o}};be.createContext=function(t){return t={$$typeof:Y4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q4,_context:t},t.Consumer=t};be.createElement=$j;be.createFactory=function(t){var e=$j.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:X4,render:t}};be.isValidElement=p0;be.lazy=function(t){return{$$typeof:eC,_payload:{_status:-1,_result:t},_init:rC}};be.memo=function(t,e){return{$$typeof:Z4,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=nd.transition;nd.transition={};try{t()}finally{nd.transition=e}};be.unstable_act=Oj;be.useCallback=function(t,e){return tn.current.useCallback(t,e)};be.useContext=function(t){return tn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};be.useEffect=function(t,e){return tn.current.useEffect(t,e)};be.useId=function(){return tn.current.useId()};be.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return tn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};be.useRef=function(t){return tn.current.useRef(t)};be.useState=function(t){return tn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return tn.current.useTransition()};be.version="18.3.1";kj.exports=be;var T=kj.exports;const Ao=H4(T),aC=z4({__proto__:null,default:Ao},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC=T,lC=Symbol.for("react.element"),cC=Symbol.for("react.fragment"),uC=Object.prototype.hasOwnProperty,dC=oC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hC={key:!0,ref:!0,__self:!0,__source:!0};function Vj(t,e,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)uC.call(e,s)&&!hC.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:lC,type:t,key:a,ref:o,props:r,_owner:dC.current}}Vh.Fragment=cC;Vh.jsx=Vj;Vh.jsxs=Vj;Sj.exports=Vh;var i=Sj.exports,vp={},Lj={exports:{}},Rn={},Mj={exports:{}},Fj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Y){var M=q.length;q.push(Y);e:for(;0<M;){var H=M-1>>>1,se=q[H];if(0<r(se,Y))q[H]=Y,q[M]=se,M=H;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Y=q[0],M=q.pop();if(M!==Y){q[0]=M;e:for(var H=0,se=q.length,xe=se>>>1;H<xe;){var Be=2*(H+1)-1,ze=q[Be],_e=Be+1,Ze=q[_e];if(0>r(ze,M))_e<se&&0>r(Ze,ze)?(q[H]=Ze,q[_e]=M,H=_e):(q[H]=ze,q[Be]=M,H=Be);else if(_e<se&&0>r(Ze,M))q[H]=Ze,q[_e]=M,H=_e;else break e}}return Y}function r(q,Y){var M=q.sortIndex-Y.sortIndex;return M!==0?M:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,p=!1,y=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(q){for(var Y=n(u);Y!==null;){if(Y.callback===null)s(u);else if(Y.startTime<=q)s(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function C(q){if(N=!1,x(q),!y)if(n(c)!==null)y=!0,ge(R);else{var Y=n(u);Y!==null&&re(C,Y.startTime-q)}}function R(q,Y){y=!1,N&&(N=!1,_(w),w=-1),p=!0;var M=m;try{for(x(Y),f=n(c);f!==null&&(!(f.expirationTime>Y)||q&&!$());){var H=f.callback;if(typeof H=="function"){f.callback=null,m=f.priorityLevel;var se=H(f.expirationTime<=Y);Y=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(c)&&s(c),x(Y)}else s(c);f=n(c)}if(f!==null)var xe=!0;else{var Be=n(u);Be!==null&&re(C,Be.startTime-Y),xe=!1}return xe}finally{f=null,m=M,p=!1}}var O=!1,E=null,w=-1,k=5,A=-1;function $(){return!(t.unstable_now()-A<k)}function D(){if(E!==null){var q=t.unstable_now();A=q;var Y=!0;try{Y=E(!0,q)}finally{Y?P():(O=!1,E=null)}}else O=!1}var P;if(typeof b=="function")P=function(){b(D)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,pe=ae.port2;ae.port1.onmessage=D,P=function(){pe.postMessage(null)}}else P=function(){j(D,0)};function ge(q){E=q,O||(O=!0,P())}function re(q,Y){w=j(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ge(R))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var M=m;m=Y;try{return q()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var M=m;m=q;try{return Y()}finally{m=M}},t.unstable_scheduleCallback=function(q,Y,M){var H=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=M+se,q={id:h++,callback:Y,priorityLevel:q,startTime:M,expirationTime:se,sortIndex:-1},M>H?(q.sortIndex=M,e(u,q),n(c)===null&&q===n(u)&&(N?(_(w),w=-1):N=!0,re(C,M-H))):(q.sortIndex=se,e(c,q),y||p||(y=!0,ge(R))),q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(q){var Y=m;return function(){var M=m;m=Y;try{return q.apply(this,arguments)}finally{m=M}}}})(Fj);Mj.exports=Fj;var fC=Mj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC=T,An=fC;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uj=new Set,Ql={};function ma(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Ql[t]=e,t=0;t<e.length;t++)Uj.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=Object.prototype.hasOwnProperty,pC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vv={},Lv={};function gC(t){return wp.call(Lv,t)?!0:wp.call(Vv,t)?!1:pC.test(t)?Lv[t]=!0:(Vv[t]=!0,!1)}function yC(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xC(t,e,n,s){if(e===null||typeof e>"u"||yC(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,s,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var g0=/[\-:]([a-z])/g;function y0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(g0,y0);Rt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(g0,y0);Rt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(g0,y0);Rt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function x0(t,e,n,s){var r=Rt.hasOwnProperty(e)?Rt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xC(e,n,r,s)&&(n=null),s||r===null?gC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var mr=mC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),Oa=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),v0=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),Bj=Symbol.for("react.provider"),zj=Symbol.for("react.context"),w0=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),jp=Symbol.for("react.suspense_list"),b0=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),Hj=Symbol.for("react.offscreen"),Mv=Symbol.iterator;function el(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,hm;function hl(t){if(hm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hm=e&&e[1]||""}return`
`+hm+t}var fm=!1;function mm(t,e){if(!t||fm)return"";fm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{fm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hl(t):""}function vC(t){switch(t.tag){case 5:return hl(t.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return t=mm(t.type,!1),t;case 11:return t=mm(t.type.render,!1),t;case 1:return t=mm(t.type,!0),t;default:return""}}function _p(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case Oa:return"Portal";case bp:return"Profiler";case v0:return"StrictMode";case Np:return"Suspense";case jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zj:return(t.displayName||"Context")+".Consumer";case Bj:return(t._context.displayName||"Context")+".Provider";case w0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case b0:return e=t.displayName||null,e!==null?e:_p(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return _p(t(e))}catch{}}return null}function wC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _p(e);case 8:return e===v0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bC(t){var e=qj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){t._valueTracker||(t._valueTracker=bC(t))}function Wj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=qj(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tp(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gj(t,e){e=e.checked,e!=null&&x0(t,"checked",e,!1)}function Ep(t,e){Gj(t,e);var n=Zr(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sp(t,e.type,Zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sp(t,e,n){(e!=="number"||Ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fl=Array.isArray;function eo(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Zr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(fl(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zr(n)}}function Kj(t,e){var n=Zr(e.value),s=Zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function zv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Iu,Yj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NC=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){NC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function Xj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function Jj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Xj(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var jC=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(t,e){if(e){if(jC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=null;function N0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rp=null,to=null,no=null;function Hv(t){if(t=Vc(t)){if(typeof Rp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Bh(e),Rp(t.stateNode,t.type,e))}}function Zj(t){to?no?no.push(t):no=[t]:to=t}function e2(){if(to){var t=to,e=no;if(no=to=null,Hv(t),e)for(t=0;t<e.length;t++)Hv(e[t])}}function t2(t,e){return t(e)}function n2(){}var pm=!1;function s2(t,e,n){if(pm)return t(e,n);pm=!0;try{return t2(t,e,n)}finally{pm=!1,(to!==null||no!==null)&&(n2(),e2())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var s=Bh(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Dp=!1;if(ir)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Dp=!1}function _C(t,e,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Tl=!1,Pd=null,Rd=!1,$p=null,TC={onError:function(t){Tl=!0,Pd=t}};function EC(t,e,n,s,r,a,o,l,c){Tl=!1,Pd=null,_C.apply(TC,arguments)}function SC(t,e,n,s,r,a,o,l,c){if(EC.apply(this,arguments),Tl){if(Tl){var u=Pd;Tl=!1,Pd=null}else throw Error(G(198));Rd||(Rd=!0,$p=u)}}function pa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qv(t){if(pa(t)!==t)throw Error(G(188))}function kC(t){var e=t.alternate;if(!e){if(e=pa(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return qv(r),t;if(a===s)return qv(r),e;a=a.sibling}throw Error(G(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==s)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function i2(t){return t=kC(t),t!==null?a2(t):null}function a2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a2(t);if(e!==null)return e;t=t.sibling}return null}var o2=An.unstable_scheduleCallback,Wv=An.unstable_cancelCallback,IC=An.unstable_shouldYield,CC=An.unstable_requestPaint,it=An.unstable_now,AC=An.unstable_getCurrentPriorityLevel,j0=An.unstable_ImmediatePriority,l2=An.unstable_UserBlockingPriority,Dd=An.unstable_NormalPriority,PC=An.unstable_LowPriority,c2=An.unstable_IdlePriority,Lh=null,Ss=null;function RC(t){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:OC,DC=Math.log,$C=Math.LN2;function OC(t){return t>>>=0,t===0?32:31-(DC(t)/$C|0)|0}var Cu=64,Au=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $d(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=ml(l):(a&=o,a!==0&&(s=ml(a)))}else o=n&~r,o!==0?s=ml(o):a!==0&&(s=ml(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-ls(e),r=1<<n,s|=t[n],e&=~r;return s}function VC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ls(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=VC(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u2(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function MC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ls(n),a=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~a}}function _0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ls(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Ce=0;function d2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h2,T0,f2,m2,p2,Vp=!1,Pu=[],Lr=null,Mr=null,Fr=null,Jl=new Map,Zl=new Map,kr=[],FC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gv(t,e){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function nl(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Vc(e),e!==null&&T0(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function UC(t,e,n,s,r){switch(e){case"focusin":return Lr=nl(Lr,t,e,n,s,r),!0;case"dragenter":return Mr=nl(Mr,t,e,n,s,r),!0;case"mouseover":return Fr=nl(Fr,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return Jl.set(a,nl(Jl.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Zl.set(a,nl(Zl.get(a)||null,t,e,n,s,r)),!0}return!1}function g2(t){var e=Li(t.target);if(e!==null){var n=pa(e);if(n!==null){if(e=n.tag,e===13){if(e=r2(n),e!==null){t.blockedOn=e,p2(t.priority,function(){f2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Pp=s,n.target.dispatchEvent(s),Pp=null}else return e=Vc(n),e!==null&&T0(e),t.blockedOn=n,!1;e.shift()}return!0}function Kv(t,e,n){sd(t)&&n.delete(e)}function BC(){Vp=!1,Lr!==null&&sd(Lr)&&(Lr=null),Mr!==null&&sd(Mr)&&(Mr=null),Fr!==null&&sd(Fr)&&(Fr=null),Jl.forEach(Kv),Zl.forEach(Kv)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,Vp||(Vp=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,BC)))}function ec(t){function e(r){return sl(r,t)}if(0<Pu.length){sl(Pu[0],t);for(var n=1;n<Pu.length;n++){var s=Pu[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Lr!==null&&sl(Lr,t),Mr!==null&&sl(Mr,t),Fr!==null&&sl(Fr,t),Jl.forEach(e),Zl.forEach(e),n=0;n<kr.length;n++)s=kr[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)g2(n),n.blockedOn===null&&kr.shift()}var so=mr.ReactCurrentBatchConfig,Od=!0;function zC(t,e,n,s){var r=Ce,a=so.transition;so.transition=null;try{Ce=1,E0(t,e,n,s)}finally{Ce=r,so.transition=a}}function HC(t,e,n,s){var r=Ce,a=so.transition;so.transition=null;try{Ce=4,E0(t,e,n,s)}finally{Ce=r,so.transition=a}}function E0(t,e,n,s){if(Od){var r=Lp(t,e,n,s);if(r===null)Em(t,e,s,Vd,n),Gv(t,s);else if(UC(r,t,e,n,s))s.stopPropagation();else if(Gv(t,s),e&4&&-1<FC.indexOf(t)){for(;r!==null;){var a=Vc(r);if(a!==null&&h2(a),a=Lp(t,e,n,s),a===null&&Em(t,e,s,Vd,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else Em(t,e,s,null,n)}}var Vd=null;function Lp(t,e,n,s){if(Vd=null,t=N0(s),t=Li(t),t!==null)if(e=pa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=r2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vd=t,null}function y2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AC()){case j0:return 1;case l2:return 4;case Dd:case PC:return 16;case c2:return 536870912;default:return 16}default:return 16}}var Dr=null,S0=null,rd=null;function x2(){if(rd)return rd;var t,e=S0,n=e.length,s,r="value"in Dr?Dr.value:Dr.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[a-s];s++);return rd=r.slice(t,1<s?1-s:void 0)}function id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function Qv(){return!1}function Dn(t){function e(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ru:Qv,this.isPropagationStopped=Qv,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k0=Dn(Po),Oc=Xe({},Po,{view:0,detail:0}),qC=Dn(Oc),ym,xm,rl,Mh=Xe({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rl&&(rl&&t.type==="mousemove"?(ym=t.screenX-rl.screenX,xm=t.screenY-rl.screenY):xm=ym=0,rl=t),ym)},movementY:function(t){return"movementY"in t?t.movementY:xm}}),Yv=Dn(Mh),WC=Xe({},Mh,{dataTransfer:0}),GC=Dn(WC),KC=Xe({},Oc,{relatedTarget:0}),vm=Dn(KC),QC=Xe({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=Dn(QC),XC=Xe({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JC=Dn(XC),ZC=Xe({},Po,{data:0}),Xv=Dn(ZC),eA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nA[t])?!!e[t]:!1}function I0(){return sA}var rA=Xe({},Oc,{key:function(t){if(t.key){var e=eA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(t){return t.type==="keypress"?id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iA=Dn(rA),aA=Xe({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jv=Dn(aA),oA=Xe({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),lA=Dn(oA),cA=Xe({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),uA=Dn(cA),dA=Xe({},Mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hA=Dn(dA),fA=[9,13,27,32],C0=ir&&"CompositionEvent"in window,El=null;ir&&"documentMode"in document&&(El=document.documentMode);var mA=ir&&"TextEvent"in window&&!El,v2=ir&&(!C0||El&&8<El&&11>=El),Zv=" ",ew=!1;function w2(t,e){switch(t){case"keyup":return fA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function pA(t,e){switch(t){case"compositionend":return b2(e);case"keypress":return e.which!==32?null:(ew=!0,Zv);case"textInput":return t=e.data,t===Zv&&ew?null:t;default:return null}}function gA(t,e){if(La)return t==="compositionend"||!C0&&w2(t,e)?(t=x2(),rd=S0=Dr=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v2&&e.locale!=="ko"?null:e.data;default:return null}}var yA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yA[t.type]:e==="textarea"}function N2(t,e,n,s){Zj(s),e=Ld(e,"onChange"),0<e.length&&(n=new k0("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Sl=null,tc=null;function xA(t){R2(t,0)}function Fh(t){var e=Ua(t);if(Wj(e))return t}function vA(t,e){if(t==="change")return e}var j2=!1;if(ir){var wm;if(ir){var bm="oninput"in document;if(!bm){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),bm=typeof nw.oninput=="function"}wm=bm}else wm=!1;j2=wm&&(!document.documentMode||9<document.documentMode)}function sw(){Sl&&(Sl.detachEvent("onpropertychange",_2),tc=Sl=null)}function _2(t){if(t.propertyName==="value"&&Fh(tc)){var e=[];N2(e,tc,t,N0(t)),s2(xA,e)}}function wA(t,e,n){t==="focusin"?(sw(),Sl=e,tc=n,Sl.attachEvent("onpropertychange",_2)):t==="focusout"&&sw()}function bA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(tc)}function NA(t,e){if(t==="click")return Fh(e)}function jA(t,e){if(t==="input"||t==="change")return Fh(e)}function _A(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ds=typeof Object.is=="function"?Object.is:_A;function nc(t,e){if(ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!wp.call(e,r)||!ds(t[r],e[r]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iw(t,e){var n=rw(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function T2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E2(){for(var t=window,e=Ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ad(t.document)}return e}function A0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TA(t){var e=E2(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&T2(n.ownerDocument.documentElement,n)){if(s!==null&&A0(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!t.extend&&a>s&&(r=s,s=a,a=r),r=iw(n,a);var o=iw(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EA=ir&&"documentMode"in document&&11>=document.documentMode,Ma=null,Mp=null,kl=null,Fp=!1;function aw(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fp||Ma==null||Ma!==Ad(s)||(s=Ma,"selectionStart"in s&&A0(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),kl&&nc(kl,s)||(kl=s,s=Ld(Mp,"onSelect"),0<s.length&&(e=new k0("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Ma)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fa={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},Nm={},S2={};ir&&(S2=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Uh(t){if(Nm[t])return Nm[t];if(!Fa[t])return t;var e=Fa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in S2)return Nm[t]=e[n];return t}var k2=Uh("animationend"),I2=Uh("animationiteration"),C2=Uh("animationstart"),A2=Uh("transitionend"),P2=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(t,e){P2.set(t,e),ma(e,[t])}for(var jm=0;jm<ow.length;jm++){var _m=ow[jm],SA=_m.toLowerCase(),kA=_m[0].toUpperCase()+_m.slice(1);di(SA,"on"+kA)}di(k2,"onAnimationEnd");di(I2,"onAnimationIteration");di(C2,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(A2,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function lw(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,SC(s,e,void 0,t),t.currentTarget=null}function R2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;lw(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;lw(r,l,u),a=c}}}if(Rd)throw t=$p,Rd=!1,$p=null,t}function Le(t,e){var n=e[qp];n===void 0&&(n=e[qp]=new Set);var s=t+"__bubble";n.has(s)||(D2(e,t,2,!1),n.add(s))}function Tm(t,e,n){var s=0;e&&(s|=4),D2(n,t,s,e)}var $u="_reactListening"+Math.random().toString(36).slice(2);function sc(t){if(!t[$u]){t[$u]=!0,Uj.forEach(function(n){n!=="selectionchange"&&(IA.has(n)||Tm(n,!1,t),Tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$u]||(e[$u]=!0,Tm("selectionchange",!1,e))}}function D2(t,e,n,s){switch(y2(e)){case 1:var r=zC;break;case 4:r=HC;break;default:r=E0}n=r.bind(null,e,n,t),r=void 0,!Dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Em(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Li(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}s2(function(){var u=a,h=N0(n),f=[];e:{var m=P2.get(t);if(m!==void 0){var p=k0,y=t;switch(t){case"keypress":if(id(n)===0)break e;case"keydown":case"keyup":p=iA;break;case"focusin":y="focus",p=vm;break;case"focusout":y="blur",p=vm;break;case"beforeblur":case"afterblur":p=vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lA;break;case k2:case I2:case C2:p=YC;break;case A2:p=uA;break;case"scroll":p=qC;break;case"wheel":p=hA;break;case"copy":case"cut":case"paste":p=JC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jv}var N=(e&4)!==0,j=!N&&t==="scroll",_=N?m!==null?m+"Capture":null:m;N=[];for(var b=u,x;b!==null;){x=b;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,_!==null&&(C=Xl(b,_),C!=null&&N.push(rc(b,C,x)))),j)break;b=b.return}0<N.length&&(m=new p(m,y,null,n,h),f.push({event:m,listeners:N}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Pp&&(y=n.relatedTarget||n.fromElement)&&(Li(y)||y[ar]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Li(y):null,y!==null&&(j=pa(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(N=Yv,C="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(N=Jv,C="onPointerLeave",_="onPointerEnter",b="pointer"),j=p==null?m:Ua(p),x=y==null?m:Ua(y),m=new N(C,b+"leave",p,n,h),m.target=j,m.relatedTarget=x,C=null,Li(h)===u&&(N=new N(_,b+"enter",y,n,h),N.target=x,N.relatedTarget=j,C=N),j=C,p&&y)t:{for(N=p,_=y,b=0,x=N;x;x=Ca(x))b++;for(x=0,C=_;C;C=Ca(C))x++;for(;0<b-x;)N=Ca(N),b--;for(;0<x-b;)_=Ca(_),x--;for(;b--;){if(N===_||_!==null&&N===_.alternate)break t;N=Ca(N),_=Ca(_)}N=null}else N=null;p!==null&&cw(f,m,p,N,!1),y!==null&&j!==null&&cw(f,j,y,N,!0)}}e:{if(m=u?Ua(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var R=vA;else if(tw(m))if(j2)R=jA;else{R=bA;var O=wA}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=NA);if(R&&(R=R(t,u))){N2(f,R,n,h);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Sp(m,"number",m.value)}switch(O=u?Ua(u):window,t){case"focusin":(tw(O)||O.contentEditable==="true")&&(Ma=O,Mp=u,kl=null);break;case"focusout":kl=Mp=Ma=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,aw(f,n,h);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":aw(f,n,h)}var E;if(C0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else La?w2(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(v2&&n.locale!=="ko"&&(La||w!=="onCompositionStart"?w==="onCompositionEnd"&&La&&(E=x2()):(Dr=h,S0="value"in Dr?Dr.value:Dr.textContent,La=!0)),O=Ld(u,w),0<O.length&&(w=new Xv(w,t,null,n,h),f.push({event:w,listeners:O}),E?w.data=E:(E=b2(n),E!==null&&(w.data=E)))),(E=mA?pA(t,n):gA(t,n))&&(u=Ld(u,"onBeforeInput"),0<u.length&&(h=new Xv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=E))}R2(f,e)})}function rc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ld(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Xl(t,n),a!=null&&s.unshift(rc(t,a,r)),a=Xl(t,e),a!=null&&s.push(rc(t,a,r))),t=t.return}return s}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cw(t,e,n,s,r){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Xl(n,a),c!=null&&o.unshift(rc(n,c,l))):r||(c=Xl(n,a),c!=null&&o.push(rc(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CA=/\r\n?/g,AA=/\u0000|\uFFFD/g;function uw(t){return(typeof t=="string"?t:""+t).replace(CA,`
`).replace(AA,"")}function Ou(t,e,n){if(e=uw(e),uw(t)!==e&&n)throw Error(G(425))}function Md(){}var Up=null,Bp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof dw<"u"?function(t){return dw.resolve(null).then(t).catch(DA)}:Hp;function DA(t){setTimeout(function(){throw t})}function Sm(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),ec(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ec(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Es="__reactFiber$"+Ro,ic="__reactProps$"+Ro,ar="__reactContainer$"+Ro,qp="__reactEvents$"+Ro,$A="__reactListeners$"+Ro,OA="__reactHandles$"+Ro;function Li(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ar]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hw(t);t!==null;){if(n=t[Es])return n;t=hw(t)}return e}t=n,n=t.parentNode}return null}function Vc(t){return t=t[Es]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Bh(t){return t[ic]||null}var Wp=[],Ba=-1;function hi(t){return{current:t}}function Ue(t){0>Ba||(t.current=Wp[Ba],Wp[Ba]=null,Ba--)}function De(t,e){Ba++,Wp[Ba]=t.current,t.current=e}var ei={},Gt=hi(ei),hn=hi(!1),Ji=ei;function mo(t,e){var n=t.type.contextTypes;if(!n)return ei;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function fn(t){return t=t.childContextTypes,t!=null}function Fd(){Ue(hn),Ue(Gt)}function fw(t,e,n){if(Gt.current!==ei)throw Error(G(168));De(Gt,e),De(hn,n)}function $2(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(G(108,wC(t)||"Unknown",r));return Xe({},n,s)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,Ji=Gt.current,De(Gt,t),De(hn,hn.current),!0}function mw(t,e,n){var s=t.stateNode;if(!s)throw Error(G(169));n?(t=$2(t,e,Ji),s.__reactInternalMemoizedMergedChildContext=t,Ue(hn),Ue(Gt),De(Gt,t)):Ue(hn),De(hn,n)}var Gs=null,zh=!1,km=!1;function O2(t){Gs===null?Gs=[t]:Gs.push(t)}function VA(t){zh=!0,O2(t)}function fi(){if(!km&&Gs!==null){km=!0;var t=0,e=Ce;try{var n=Gs;for(Ce=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Gs=null,zh=!1}catch(r){throw Gs!==null&&(Gs=Gs.slice(t+1)),o2(j0,fi),r}finally{Ce=e,km=!1}}return null}var za=[],Ha=0,Bd=null,zd=0,Ln=[],Mn=0,Zi=null,Ks=1,Qs="";function Pi(t,e){za[Ha++]=zd,za[Ha++]=Bd,Bd=t,zd=e}function V2(t,e,n){Ln[Mn++]=Ks,Ln[Mn++]=Qs,Ln[Mn++]=Zi,Zi=t;var s=Ks;t=Qs;var r=32-ls(s)-1;s&=~(1<<r),n+=1;var a=32-ls(e)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Ks=1<<32-ls(e)+r|n<<r|s,Qs=a+t}else Ks=1<<a|n<<r|s,Qs=t}function P0(t){t.return!==null&&(Pi(t,1),V2(t,1,0))}function R0(t){for(;t===Bd;)Bd=za[--Ha],za[Ha]=null,zd=za[--Ha],za[Ha]=null;for(;t===Zi;)Zi=Ln[--Mn],Ln[Mn]=null,Qs=Ln[--Mn],Ln[Mn]=null,Ks=Ln[--Mn],Ln[Mn]=null}var kn=null,En=null,qe=!1,ns=null;function L2(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,En=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:Ks,overflow:Qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,En=null,!0):!1;default:return!1}}function Gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kp(t){if(qe){var e=En;if(e){var n=e;if(!pw(t,e)){if(Gp(t))throw Error(G(418));e=Ur(n.nextSibling);var s=kn;e&&pw(t,e)?L2(s,n):(t.flags=t.flags&-4097|2,qe=!1,kn=t)}}else{if(Gp(t))throw Error(G(418));t.flags=t.flags&-4097|2,qe=!1,kn=t}}}function gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function Vu(t){if(t!==kn)return!1;if(!qe)return gw(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=En)){if(Gp(t))throw M2(),Error(G(418));for(;e;)L2(t,e),e=Ur(e.nextSibling)}if(gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=kn?Ur(t.stateNode.nextSibling):null;return!0}function M2(){for(var t=En;t;)t=Ur(t.nextSibling)}function po(){En=kn=null,qe=!1}function D0(t){ns===null?ns=[t]:ns.push(t)}var LA=mr.ReactCurrentBatchConfig;function il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var s=n.stateNode}if(!s)throw Error(G(147,t));var r=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Lu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yw(t){var e=t._init;return e(t._payload)}function F2(t){function e(_,b){if(t){var x=_.deletions;x===null?(_.deletions=[b],_.flags|=16):x.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function s(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function r(_,b){return _=qr(_,b),_.index=0,_.sibling=null,_}function a(_,b,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<b?(_.flags|=2,b):x):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,b,x,C){return b===null||b.tag!==6?(b=$m(x,_.mode,C),b.return=_,b):(b=r(b,x),b.return=_,b)}function c(_,b,x,C){var R=x.type;return R===Va?h(_,b,x.props.children,C,x.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Tr&&yw(R)===b.type)?(C=r(b,x.props),C.ref=il(_,b,x),C.return=_,C):(C=hd(x.type,x.key,x.props,null,_.mode,C),C.ref=il(_,b,x),C.return=_,C)}function u(_,b,x,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Om(x,_.mode,C),b.return=_,b):(b=r(b,x.children||[]),b.return=_,b)}function h(_,b,x,C,R){return b===null||b.tag!==7?(b=Wi(x,_.mode,C,R),b.return=_,b):(b=r(b,x),b.return=_,b)}function f(_,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=$m(""+b,_.mode,x),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Su:return x=hd(b.type,b.key,b.props,null,_.mode,x),x.ref=il(_,null,b),x.return=_,x;case Oa:return b=Om(b,_.mode,x),b.return=_,b;case Tr:var C=b._init;return f(_,C(b._payload),x)}if(fl(b)||el(b))return b=Wi(b,_.mode,x,null),b.return=_,b;Lu(_,b)}return null}function m(_,b,x,C){var R=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:l(_,b,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Su:return x.key===R?c(_,b,x,C):null;case Oa:return x.key===R?u(_,b,x,C):null;case Tr:return R=x._init,m(_,b,R(x._payload),C)}if(fl(x)||el(x))return R!==null?null:h(_,b,x,C,null);Lu(_,x)}return null}function p(_,b,x,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(x)||null,l(b,_,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Su:return _=_.get(C.key===null?x:C.key)||null,c(b,_,C,R);case Oa:return _=_.get(C.key===null?x:C.key)||null,u(b,_,C,R);case Tr:var O=C._init;return p(_,b,x,O(C._payload),R)}if(fl(C)||el(C))return _=_.get(x)||null,h(b,_,C,R,null);Lu(b,C)}return null}function y(_,b,x,C){for(var R=null,O=null,E=b,w=b=0,k=null;E!==null&&w<x.length;w++){E.index>w?(k=E,E=null):k=E.sibling;var A=m(_,E,x[w],C);if(A===null){E===null&&(E=k);break}t&&E&&A.alternate===null&&e(_,E),b=a(A,b,w),O===null?R=A:O.sibling=A,O=A,E=k}if(w===x.length)return n(_,E),qe&&Pi(_,w),R;if(E===null){for(;w<x.length;w++)E=f(_,x[w],C),E!==null&&(b=a(E,b,w),O===null?R=E:O.sibling=E,O=E);return qe&&Pi(_,w),R}for(E=s(_,E);w<x.length;w++)k=p(E,_,w,x[w],C),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?w:k.key),b=a(k,b,w),O===null?R=k:O.sibling=k,O=k);return t&&E.forEach(function($){return e(_,$)}),qe&&Pi(_,w),R}function N(_,b,x,C){var R=el(x);if(typeof R!="function")throw Error(G(150));if(x=R.call(x),x==null)throw Error(G(151));for(var O=R=null,E=b,w=b=0,k=null,A=x.next();E!==null&&!A.done;w++,A=x.next()){E.index>w?(k=E,E=null):k=E.sibling;var $=m(_,E,A.value,C);if($===null){E===null&&(E=k);break}t&&E&&$.alternate===null&&e(_,E),b=a($,b,w),O===null?R=$:O.sibling=$,O=$,E=k}if(A.done)return n(_,E),qe&&Pi(_,w),R;if(E===null){for(;!A.done;w++,A=x.next())A=f(_,A.value,C),A!==null&&(b=a(A,b,w),O===null?R=A:O.sibling=A,O=A);return qe&&Pi(_,w),R}for(E=s(_,E);!A.done;w++,A=x.next())A=p(E,_,w,A.value,C),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?w:A.key),b=a(A,b,w),O===null?R=A:O.sibling=A,O=A);return t&&E.forEach(function(D){return e(_,D)}),qe&&Pi(_,w),R}function j(_,b,x,C){if(typeof x=="object"&&x!==null&&x.type===Va&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Su:e:{for(var R=x.key,O=b;O!==null;){if(O.key===R){if(R=x.type,R===Va){if(O.tag===7){n(_,O.sibling),b=r(O,x.props.children),b.return=_,_=b;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Tr&&yw(R)===O.type){n(_,O.sibling),b=r(O,x.props),b.ref=il(_,O,x),b.return=_,_=b;break e}n(_,O);break}else e(_,O);O=O.sibling}x.type===Va?(b=Wi(x.props.children,_.mode,C,x.key),b.return=_,_=b):(C=hd(x.type,x.key,x.props,null,_.mode,C),C.ref=il(_,b,x),C.return=_,_=C)}return o(_);case Oa:e:{for(O=x.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(_,b.sibling),b=r(b,x.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=Om(x,_.mode,C),b.return=_,_=b}return o(_);case Tr:return O=x._init,j(_,b,O(x._payload),C)}if(fl(x))return y(_,b,x,C);if(el(x))return N(_,b,x,C);Lu(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(_,b.sibling),b=r(b,x),b.return=_,_=b):(n(_,b),b=$m(x,_.mode,C),b.return=_,_=b),o(_)):n(_,b)}return j}var go=F2(!0),U2=F2(!1),Hd=hi(null),qd=null,qa=null,$0=null;function O0(){$0=qa=qd=null}function V0(t){var e=Hd.current;Ue(Hd),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){qd=t,$0=qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if($0!==t)if(t={context:t,memoizedValue:e,next:null},qa===null){if(qd===null)throw Error(G(308));qa=t,qd.dependencies={lanes:0,firstContext:t}}else qa=qa.next=t;return e}var Mi=null;function L0(t){Mi===null?Mi=[t]:Mi.push(t)}function B2(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,L0(e)):(n.next=r.next,r.next=n),e.interleaved=n,or(t,s)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function M0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ee&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,or(t,n)}return r=s.interleaved,r===null?(e.next=e,L0(s)):(e.next=r.next,r.next=e),s.interleaved=e,or(t,n)}function ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,_0(t,n)}}function xw(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wd(t,e,n,s){var r=t.updateQueue;Er=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;o=0,h=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,N=l;switch(m=e,p=n,N.tag){case 1:if(y=N.payload,typeof y=="function"){f=y.call(p,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=N.payload,m=typeof y=="function"?y.call(p,f,m):y,m==null)break e;f=Xe({},f,m);break e;case 2:Er=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=f):h=h.next=p,o|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(h===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);ta|=o,t.lanes=o,t.memoizedState=f}}function vw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(G(191,r));r.call(s)}}}var Lc={},ks=hi(Lc),ac=hi(Lc),oc=hi(Lc);function Fi(t){if(t===Lc)throw Error(G(174));return t}function F0(t,e){switch(De(oc,e),De(ac,t),De(ks,Lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ip(e,t)}Ue(ks),De(ks,e)}function yo(){Ue(ks),Ue(ac),Ue(oc)}function H2(t){Fi(oc.current);var e=Fi(ks.current),n=Ip(e,t.type);e!==n&&(De(ac,t),De(ks,n))}function U0(t){ac.current===t&&(Ue(ks),Ue(ac))}var Ge=hi(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Im=[];function B0(){for(var t=0;t<Im.length;t++)Im[t]._workInProgressVersionPrimary=null;Im.length=0}var od=mr.ReactCurrentDispatcher,Cm=mr.ReactCurrentBatchConfig,ea=0,Ye=null,gt=null,wt=null,Kd=!1,Il=!1,lc=0,MA=0;function Mt(){throw Error(G(321))}function z0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ds(t[n],e[n]))return!1;return!0}function H0(t,e,n,s,r,a){if(ea=a,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,od.current=t===null||t.memoizedState===null?zA:HA,t=n(s,r),Il){a=0;do{if(Il=!1,lc=0,25<=a)throw Error(G(301));a+=1,wt=gt=null,e.updateQueue=null,od.current=qA,t=n(s,r)}while(Il)}if(od.current=Qd,e=gt!==null&&gt.next!==null,ea=0,wt=gt=Ye=null,Kd=!1,e)throw Error(G(300));return t}function q0(){var t=lc!==0;return lc=0,t}function js(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ye.memoizedState=wt=t:wt=wt.next=t,wt}function Wn(){if(gt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=wt===null?Ye.memoizedState:wt.next;if(e!==null)wt=e,gt=t;else{if(t===null)throw Error(G(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?Ye.memoizedState=wt=t:wt=wt.next=t}return wt}function cc(t,e){return typeof e=="function"?e(t):e}function Am(t){var e=Wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var s=gt,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ea&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Ye.lanes|=h,ta|=h}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,ds(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do a=r.lane,Ye.lanes|=a,ta|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pm(t){var e=Wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);ds(a,e.memoizedState)||(un=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function q2(){}function W2(t,e){var n=Ye,s=Wn(),r=e(),a=!ds(s.memoizedState,r);if(a&&(s.memoizedState=r,un=!0),s=s.queue,W0(Q2.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,uc(9,K2.bind(null,n,s,r,e),void 0,null),bt===null)throw Error(G(349));ea&30||G2(n,e,r)}return r}function G2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K2(t,e,n,s){e.value=n,e.getSnapshot=s,Y2(e)&&X2(t)}function Q2(t,e,n){return n(function(){Y2(e)&&X2(t)})}function Y2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ds(t,n)}catch{return!0}}function X2(t){var e=or(t,1);e!==null&&cs(e,t,1,-1)}function ww(t){var e=js();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:t},e.queue=t,t=t.dispatch=BA.bind(null,Ye,t),[e.memoizedState,t]}function uc(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function J2(){return Wn().memoizedState}function ld(t,e,n,s){var r=js();Ye.flags|=t,r.memoizedState=uc(1|e,n,void 0,s===void 0?null:s)}function Hh(t,e,n,s){var r=Wn();s=s===void 0?null:s;var a=void 0;if(gt!==null){var o=gt.memoizedState;if(a=o.destroy,s!==null&&z0(s,o.deps)){r.memoizedState=uc(e,n,a,s);return}}Ye.flags|=t,r.memoizedState=uc(1|e,n,a,s)}function bw(t,e){return ld(8390656,8,t,e)}function W0(t,e){return Hh(2048,8,t,e)}function Z2(t,e){return Hh(4,2,t,e)}function e_(t,e){return Hh(4,4,t,e)}function t_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function n_(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,t_.bind(null,e,t),n)}function G0(){}function s_(t,e){var n=Wn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&z0(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function r_(t,e){var n=Wn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&z0(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function i_(t,e,n){return ea&21?(ds(n,e)||(n=u2(),Ye.lanes|=n,ta|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function FA(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var s=Cm.transition;Cm.transition={};try{t(!1),e()}finally{Ce=n,Cm.transition=s}}function a_(){return Wn().memoizedState}function UA(t,e,n){var s=Hr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},o_(t))l_(e,n);else if(n=B2(t,e,n,s),n!==null){var r=Zt();cs(n,t,s,r),c_(n,e,s)}}function BA(t,e,n){var s=Hr(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(o_(t))l_(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,ds(l,o)){var c=e.interleaved;c===null?(r.next=r,L0(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=B2(t,e,r,s),n!==null&&(r=Zt(),cs(n,t,s,r),c_(n,e,s))}}function o_(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function l_(t,e){Il=Kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c_(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,_0(t,n)}}var Qd={readContext:qn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},zA={readContext:qn,useCallback:function(t,e){return js().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:bw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ld(4194308,4,t_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return ld(4,2,t,e)},useMemo:function(t,e){var n=js();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=js();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=UA.bind(null,Ye,t),[s.memoizedState,t]},useRef:function(t){var e=js();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:G0,useDeferredValue:function(t){return js().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=FA.bind(null,t[1]),js().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Ye,r=js();if(qe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),bt===null)throw Error(G(349));ea&30||G2(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,bw(Q2.bind(null,s,a,t),[t]),s.flags|=2048,uc(9,K2.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=js(),e=bt.identifierPrefix;if(qe){var n=Qs,s=Ks;n=(s&~(1<<32-ls(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HA={readContext:qn,useCallback:s_,useContext:qn,useEffect:W0,useImperativeHandle:n_,useInsertionEffect:Z2,useLayoutEffect:e_,useMemo:r_,useReducer:Am,useRef:J2,useState:function(){return Am(cc)},useDebugValue:G0,useDeferredValue:function(t){var e=Wn();return i_(e,gt.memoizedState,t)},useTransition:function(){var t=Am(cc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:q2,useSyncExternalStore:W2,useId:a_,unstable_isNewReconciler:!1},qA={readContext:qn,useCallback:s_,useContext:qn,useEffect:W0,useImperativeHandle:n_,useInsertionEffect:Z2,useLayoutEffect:e_,useMemo:r_,useReducer:Pm,useRef:J2,useState:function(){return Pm(cc)},useDebugValue:G0,useDeferredValue:function(t){var e=Wn();return gt===null?e.memoizedState=t:i_(e,gt.memoizedState,t)},useTransition:function(){var t=Pm(cc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:q2,useSyncExternalStore:W2,useId:a_,unstable_isNewReconciler:!1};function es(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yp(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qh={isMounted:function(t){return(t=t._reactInternals)?pa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Zt(),r=Hr(t),a=Zs(s,r);a.payload=e,n!=null&&(a.callback=n),e=Br(t,a,r),e!==null&&(cs(e,t,r,s),ad(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Zt(),r=Hr(t),a=Zs(s,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Br(t,a,r),e!==null&&(cs(e,t,r,s),ad(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),s=Hr(t),r=Zs(n,s);r.tag=2,e!=null&&(r.callback=e),e=Br(t,r,s),e!==null&&(cs(e,t,s,n),ad(e,t,s))}};function Nw(t,e,n,s,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!nc(n,s)||!nc(r,a):!0}function u_(t,e,n){var s=!1,r=ei,a=e.contextType;return typeof a=="object"&&a!==null?a=qn(a):(r=fn(e)?Ji:Gt.current,s=e.contextTypes,a=(s=s!=null)?mo(t,r):ei),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qh,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function jw(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function Xp(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},M0(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=qn(a):(a=fn(e)?Ji:Gt.current,r.context=mo(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Yp(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&qh.enqueueReplaceState(r,r.state,null),Wd(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",s=e;do n+=vC(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function Rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WA=typeof WeakMap=="function"?WeakMap:Map;function d_(t,e,n){n=Zs(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Xd||(Xd=!0,lg=s),Jp(t,e)},n}function h_(t,e,n){n=Zs(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Jp(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Jp(t,e),typeof s!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _w(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new WA;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=aP.bind(null,t,e,n),e.then(t,t))}function Tw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ew(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zs(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var GA=mr.ReactCurrentOwner,un=!1;function Xt(t,e,n,s){e.child=t===null?U2(e,null,n,s):go(e,t.child,n,s)}function Sw(t,e,n,s,r){n=n.render;var a=e.ref;return ro(e,r),s=H0(t,e,n,s,a,r),n=q0(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,lr(t,e,r)):(qe&&n&&P0(e),e.flags|=1,Xt(t,e,s,r),e.child)}function kw(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!ty(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,f_(t,e,a,s,r)):(t=hd(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:nc,n(o,s)&&t.ref===e.ref)return lr(t,e,r)}return e.flags|=1,t=qr(a,s),t.ref=e.ref,t.return=e,e.child=t}function f_(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(nc(a,s)&&t.ref===e.ref)if(un=!1,e.pendingProps=s=a,(t.lanes&r)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,lr(t,e,r)}return Zp(t,e,n,s,r)}function m_(t,e,n){var s=e.pendingProps,r=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ga,_n),_n|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Ga,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,De(Ga,_n),_n|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,De(Ga,_n),_n|=s;return Xt(t,e,r,n),e.child}function p_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,n,s,r){var a=fn(n)?Ji:Gt.current;return a=mo(e,a),ro(e,r),n=H0(t,e,n,s,a,r),s=q0(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,lr(t,e,r)):(qe&&s&&P0(e),e.flags|=1,Xt(t,e,n,r),e.child)}function Iw(t,e,n,s,r){if(fn(n)){var a=!0;Ud(e)}else a=!1;if(ro(e,r),e.stateNode===null)cd(t,e),u_(e,n,s),Xp(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=fn(n)?Ji:Gt.current,u=mo(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&jw(e,o,s,u),Er=!1;var m=e.memoizedState;o.state=m,Wd(e,s,o,r),c=e.memoizedState,l!==s||m!==c||hn.current||Er?(typeof h=="function"&&(Yp(e,n,h,s),c=e.memoizedState),(l=Er||Nw(e,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,z2(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:es(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=qn(c):(c=fn(n)?Ji:Gt.current,c=mo(e,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&jw(e,o,s,c),Er=!1,m=e.memoizedState,o.state=m,Wd(e,s,o,r);var y=e.memoizedState;l!==f||m!==y||hn.current||Er?(typeof p=="function"&&(Yp(e,n,p,s),y=e.memoizedState),(u=Er||Nw(e,n,u,s,m,y,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return eg(t,e,n,s,a,r)}function eg(t,e,n,s,r,a){p_(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&mw(e,n,!1),lr(t,e,a);s=e.stateNode,GA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,a),e.child=go(e,null,l,a)):Xt(t,e,l,a),e.memoizedState=s.state,r&&mw(e,n,!0),e.child}function g_(t){var e=t.stateNode;e.pendingContext?fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fw(t,e.context,!1),F0(t,e.containerInfo)}function Cw(t,e,n,s,r){return po(),D0(r),e.flags|=256,Xt(t,e,n,s),e.child}var tg={dehydrated:null,treeContext:null,retryLane:0};function ng(t){return{baseLanes:t,cachePool:null,transitions:null}}function y_(t,e,n){var s=e.pendingProps,r=Ge.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),De(Ge,r&1),t===null)return Kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Kh(o,s,0,null),t=Wi(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ng(n),e.memoizedState=tg,t):K0(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return KA(t,e,o,s,l,r,n);if(a){a=s.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=qr(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=qr(l,a):(a=Wi(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?ng(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=tg,s}return a=t.child,t=a.sibling,s=qr(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function K0(t,e){return e=Kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mu(t,e,n,s){return s!==null&&D0(s),go(e,t.child,null,n),t=K0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KA(t,e,n,s,r,a,o){if(n)return e.flags&256?(e.flags&=-257,s=Rm(Error(G(422))),Mu(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,r=e.mode,s=Kh({mode:"visible",children:s.children},r,0,null),a=Wi(a,r,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=ng(o),e.memoizedState=tg,a);if(!(e.mode&1))return Mu(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(G(419)),s=Rm(a,s,void 0),Mu(t,e,o,s)}if(l=(o&t.childLanes)!==0,un||l){if(s=bt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,or(t,r),cs(s,t,r,-1))}return ey(),s=Rm(Error(G(421))),Mu(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=oP.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,En=Ur(r.nextSibling),kn=e,qe=!0,ns=null,t!==null&&(Ln[Mn++]=Ks,Ln[Mn++]=Qs,Ln[Mn++]=Zi,Ks=t.id,Qs=t.overflow,Zi=e),e=K0(e,s.children),e.flags|=4096,e)}function Aw(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Qp(t.return,e,n)}function Dm(t,e,n,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function x_(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;if(Xt(t,e,s.children,n),s=Ge.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Aw(t,n,e);else if(t.tag===19)Aw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(De(Ge,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Dm(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Gd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Dm(e,!0,n,null,a);break;case"together":Dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ta|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QA(t,e,n){switch(e.tag){case 3:g_(e),po();break;case 5:H2(e);break;case 1:fn(e.type)&&Ud(e);break;case 4:F0(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;De(Hd,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(De(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?y_(t,e,n):(De(Ge,Ge.current&1),t=lr(t,e,n),t!==null?t.sibling:null);De(Ge,Ge.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return x_(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),De(Ge,Ge.current),s)break;return null;case 22:case 23:return e.lanes=0,m_(t,e,n)}return lr(t,e,n)}var v_,sg,w_,b_;v_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sg=function(){};w_=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Fi(ks.current);var a=null;switch(n){case"input":r=Tp(t,r),s=Tp(t,s),a=[];break;case"select":r=Xe({},r,{value:void 0}),s=Xe({},s,{value:void 0}),a=[];break;case"textarea":r=kp(t,r),s=kp(t,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Md)}Cp(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};b_=function(t,e,n,s){n!==s&&(e.flags|=4)};function al(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function YA(t,e,n){var s=e.pendingProps;switch(R0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return fn(e.type)&&Fd(),Ft(e),null;case 3:return s=e.stateNode,yo(),Ue(hn),Ue(Gt),B0(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ns!==null&&(dg(ns),ns=null))),sg(t,e),Ft(e),null;case 5:U0(e);var r=Fi(oc.current);if(n=e.type,t!==null&&e.stateNode!=null)w_(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(G(166));return Ft(e),null}if(t=Fi(ks.current),Vu(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[Es]=e,s[ic]=a,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(r=0;r<pl.length;r++)Le(pl[r],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Fv(s,a),Le("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Le("invalid",s);break;case"textarea":Bv(s,a),Le("invalid",s)}Cp(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ou(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ou(s.textContent,l,t),r=["children",""+l]):Ql.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Le("scroll",s)}switch(n){case"input":ku(s),Uv(s,a,!0);break;case"textarea":ku(s),zv(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Md)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Es]=e,t[ic]=s,v_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ap(n,s),n){case"dialog":Le("cancel",t),Le("close",t),r=s;break;case"iframe":case"object":case"embed":Le("load",t),r=s;break;case"video":case"audio":for(r=0;r<pl.length;r++)Le(pl[r],t);r=s;break;case"source":Le("error",t),r=s;break;case"img":case"image":case"link":Le("error",t),Le("load",t),r=s;break;case"details":Le("toggle",t),r=s;break;case"input":Fv(t,s),r=Tp(t,s),Le("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Xe({},s,{value:void 0}),Le("invalid",t);break;case"textarea":Bv(t,s),r=kp(t,s),Le("invalid",t);break;default:r=s}Cp(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Jj(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yj(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yl(t,c):typeof c=="number"&&Yl(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ql.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Le("scroll",t):c!=null&&x0(t,a,c,o))}switch(n){case"input":ku(t),Uv(t,s,!1);break;case"textarea":ku(t),zv(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Zr(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?eo(t,!!s.multiple,a,!1):s.defaultValue!=null&&eo(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Md)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)b_(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(G(166));if(n=Fi(oc.current),Fi(ks.current),Vu(e)){if(s=e.stateNode,n=e.memoizedProps,s[Es]=e,(a=s.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Ou(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Es]=e,e.stateNode=s}return Ft(e),null;case 13:if(Ue(Ge),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&En!==null&&e.mode&1&&!(e.flags&128))M2(),po(),e.flags|=98560,a=!1;else if(a=Vu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(G(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Es]=e}else po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),a=!1}else ns!==null&&(dg(ns),ns=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?yt===0&&(yt=3):ey())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return yo(),sg(t,e),t===null&&sc(e.stateNode.containerInfo),Ft(e),null;case 10:return V0(e.type._context),Ft(e),null;case 17:return fn(e.type)&&Fd(),Ft(e),null;case 19:if(Ue(Ge),a=e.memoizedState,a===null)return Ft(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)al(a,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,al(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Ge,Ge.current&1|2),e.child}t=t.sibling}a.tail!==null&&it()>vo&&(e.flags|=128,s=!0,al(a,!1),e.lanes=4194304)}else{if(!s)if(t=Gd(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),al(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!qe)return Ft(e),null}else 2*it()-a.renderingStartTime>vo&&n!==1073741824&&(e.flags|=128,s=!0,al(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=it(),e.sibling=null,n=Ge.current,De(Ge,s?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Z0(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?_n&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function XA(t,e){switch(R0(e),e.tag){case 1:return fn(e.type)&&Fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Ue(hn),Ue(Gt),B0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return U0(e),null;case 13:if(Ue(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ge),null;case 4:return yo(),null;case 10:return V0(e.type._context),null;case 22:case 23:return Z0(),null;case 24:return null;default:return null}}var Fu=!1,Ht=!1,JA=typeof WeakSet=="function"?WeakSet:Set,te=null;function Wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){nt(t,e,s)}else n.current=null}function rg(t,e,n){try{n()}catch(s){nt(t,e,s)}}var Pw=!1;function ZA(t,e){if(Up=Od,t=E2(),A0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===r&&(l=o),m===a&&++h===s&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},Od=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var N=y.memoizedProps,j=y.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?N:es(e.type,N),j);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(C){nt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return y=Pw,Pw=!1,y}function Cl(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&rg(e,n,a)}r=r.next}while(r!==s)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function N_(t){var e=t.alternate;e!==null&&(t.alternate=null,N_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[ic],delete e[qp],delete e[$A],delete e[OA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j_(t){return t.tag===5||t.tag===3||t.tag===4}function Rw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ag(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Md));else if(s!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}function og(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(og(t,e,n),t=t.sibling;t!==null;)og(t,e,n),t=t.sibling}var St=null,ts=!1;function wr(t,e,n){for(n=n.child;n!==null;)__(t,e,n),n=n.sibling}function __(t,e,n){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:Ht||Wa(n,e);case 6:var s=St,r=ts;St=null,wr(t,e,n),St=s,ts=r,St!==null&&(ts?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(ts?(t=St,n=n.stateNode,t.nodeType===8?Sm(t.parentNode,n):t.nodeType===1&&Sm(t,n),ec(t)):Sm(St,n.stateNode));break;case 4:s=St,r=ts,St=n.stateNode.containerInfo,ts=!0,wr(t,e,n),St=s,ts=r;break;case 0:case 11:case 14:case 15:if(!Ht&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&rg(n,e,o),r=r.next}while(r!==s)}wr(t,e,n);break;case 1:if(!Ht&&(Wa(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){nt(n,e,l)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(Ht=(s=Ht)||n.memoizedState!==null,wr(t,e,n),Ht=s):wr(t,e,n);break;default:wr(t,e,n)}}function Dw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JA),e.forEach(function(s){var r=lP.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,ts=!1;break e;case 3:St=l.stateNode.containerInfo,ts=!0;break e;case 4:St=l.stateNode.containerInfo,ts=!0;break e}l=l.return}if(St===null)throw Error(G(160));__(a,o,r),St=null,ts=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){nt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)T_(e,t),e=e.sibling}function T_(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),bs(t),s&4){try{Cl(3,t,t.return),Wh(3,t)}catch(N){nt(t,t.return,N)}try{Cl(5,t,t.return)}catch(N){nt(t,t.return,N)}}break;case 1:Zn(e,t),bs(t),s&512&&n!==null&&Wa(n,n.return);break;case 5:if(Zn(e,t),bs(t),s&512&&n!==null&&Wa(n,n.return),t.flags&32){var r=t.stateNode;try{Yl(r,"")}catch(N){nt(t,t.return,N)}}if(s&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Gj(r,a),Ap(l,o);var u=Ap(l,a);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Jj(r,f):h==="dangerouslySetInnerHTML"?Yj(r,f):h==="children"?Yl(r,f):x0(r,h,f,u)}switch(l){case"input":Ep(r,a);break;case"textarea":Kj(r,a);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?eo(r,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?eo(r,!!a.multiple,a.defaultValue,!0):eo(r,!!a.multiple,a.multiple?[]:"",!1))}r[ic]=a}catch(N){nt(t,t.return,N)}}break;case 6:if(Zn(e,t),bs(t),s&4){if(t.stateNode===null)throw Error(G(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(N){nt(t,t.return,N)}}break;case 3:if(Zn(e,t),bs(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(N){nt(t,t.return,N)}break;case 4:Zn(e,t),bs(t);break;case 13:Zn(e,t),bs(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(X0=it())),s&4&&Dw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(u=Ht)||h,Zn(e,t),Ht=u):Zn(e,t),bs(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,p=m.child,m.tag){case 0:case 11:case 14:case 15:Cl(4,m,m.return);break;case 1:Wa(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){s=m,n=m.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(N){nt(s,n,N)}}break;case 5:Wa(m,m.return);break;case 22:if(m.memoizedState!==null){Ow(f);continue}}p!==null?(p.return=m,te=p):Ow(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xj("display",o))}catch(N){nt(t,t.return,N)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(N){nt(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),bs(t),s&4&&Dw(t);break;case 21:break;default:Zn(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j_(n)){var s=n;break e}n=n.return}throw Error(G(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Yl(r,""),s.flags&=-33);var a=Rw(t);og(t,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Rw(t);ag(t,l,o);break;default:throw Error(G(161))}}catch(c){nt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eP(t,e,n){te=t,E_(t)}function E_(t,e,n){for(var s=(t.mode&1)!==0;te!==null;){var r=te,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Fu;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ht;l=Fu;var u=Ht;if(Fu=o,(Ht=c)&&!u)for(te=r;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?Vw(r):c!==null?(c.return=o,te=c):Vw(r);for(;a!==null;)te=a,E_(a),a=a.sibling;te=r,Fu=l,Ht=u}$w(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,te=a):$w(t)}}function $w(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Wh(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ht)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:es(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&vw(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ec(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ht||e.flags&512&&ig(e)}catch(m){nt(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Ow(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Vw(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(c){nt(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){nt(e,r,c)}}var a=e.return;try{ig(e)}catch(c){nt(e,a,c)}break;case 5:var o=e.return;try{ig(e)}catch(c){nt(e,o,c)}}}catch(c){nt(e,e.return,c)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var tP=Math.ceil,Yd=mr.ReactCurrentDispatcher,Q0=mr.ReactCurrentOwner,zn=mr.ReactCurrentBatchConfig,Ee=0,bt=null,ut=null,At=0,_n=0,Ga=hi(0),yt=0,dc=null,ta=0,Gh=0,Y0=0,Al=null,ln=null,X0=0,vo=1/0,Ws=null,Xd=!1,lg=null,zr=null,Uu=!1,$r=null,Jd=0,Pl=0,cg=null,ud=-1,dd=0;function Zt(){return Ee&6?it():ud!==-1?ud:ud=it()}function Hr(t){return t.mode&1?Ee&2&&At!==0?At&-At:LA.transition!==null?(dd===0&&(dd=u2()),dd):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:y2(t.type)),t):1}function cs(t,e,n,s){if(50<Pl)throw Pl=0,cg=null,Error(G(185));$c(t,n,s),(!(Ee&2)||t!==bt)&&(t===bt&&(!(Ee&2)&&(Gh|=n),yt===4&&Ir(t,At)),mn(t,s),n===1&&Ee===0&&!(e.mode&1)&&(vo=it()+500,zh&&fi()))}function mn(t,e){var n=t.callbackNode;LC(t,e);var s=$d(t,t===bt?At:0);if(s===0)n!==null&&Wv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Wv(n),e===1)t.tag===0?VA(Lw.bind(null,t)):O2(Lw.bind(null,t)),RA(function(){!(Ee&6)&&fi()}),n=null;else{switch(d2(s)){case 1:n=j0;break;case 4:n=l2;break;case 16:n=Dd;break;case 536870912:n=c2;break;default:n=Dd}n=D_(n,S_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function S_(t,e){if(ud=-1,dd=0,Ee&6)throw Error(G(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var s=$d(t,t===bt?At:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Zd(t,s);else{e=s;var r=Ee;Ee|=2;var a=I_();(bt!==t||At!==e)&&(Ws=null,vo=it()+500,qi(t,e));do try{rP();break}catch(l){k_(t,l)}while(!0);O0(),Yd.current=a,Ee=r,ut!==null?e=0:(bt=null,At=0,e=yt)}if(e!==0){if(e===2&&(r=Op(t),r!==0&&(s=r,e=ug(t,r))),e===1)throw n=dc,qi(t,0),Ir(t,s),mn(t,it()),n;if(e===6)Ir(t,s);else{if(r=t.current.alternate,!(s&30)&&!nP(r)&&(e=Zd(t,s),e===2&&(a=Op(t),a!==0&&(s=a,e=ug(t,a))),e===1))throw n=dc,qi(t,0),Ir(t,s),mn(t,it()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(G(345));case 2:Ri(t,ln,Ws);break;case 3:if(Ir(t,s),(s&130023424)===s&&(e=X0+500-it(),10<e)){if($d(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Zt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Hp(Ri.bind(null,t,ln,Ws),e);break}Ri(t,ln,Ws);break;case 4:if(Ir(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-ls(s);a=1<<o,o=e[o],o>r&&(r=o),s&=~a}if(s=r,s=it()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*tP(s/1960))-s,10<s){t.timeoutHandle=Hp(Ri.bind(null,t,ln,Ws),s);break}Ri(t,ln,Ws);break;case 5:Ri(t,ln,Ws);break;default:throw Error(G(329))}}}return mn(t,it()),t.callbackNode===n?S_.bind(null,t):null}function ug(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=ln,ln=n,e!==null&&dg(e)),t}function dg(t){ln===null?ln=t:ln.push.apply(ln,t)}function nP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!ds(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~Y0,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),s=1<<n;t[n]=-1,e&=~s}}function Lw(t){if(Ee&6)throw Error(G(327));io();var e=$d(t,0);if(!(e&1))return mn(t,it()),null;var n=Zd(t,e);if(t.tag!==0&&n===2){var s=Op(t);s!==0&&(e=s,n=ug(t,s))}if(n===1)throw n=dc,qi(t,0),Ir(t,e),mn(t,it()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,ln,Ws),mn(t,it()),null}function J0(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(vo=it()+500,zh&&fi())}}function na(t){$r!==null&&$r.tag===0&&!(Ee&6)&&io();var e=Ee;Ee|=1;var n=zn.transition,s=Ce;try{if(zn.transition=null,Ce=1,t)return t()}finally{Ce=s,zn.transition=n,Ee=e,!(Ee&6)&&fi()}}function Z0(){_n=Ga.current,Ue(Ga)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PA(n)),ut!==null)for(n=ut.return;n!==null;){var s=n;switch(R0(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Fd();break;case 3:yo(),Ue(hn),Ue(Gt),B0();break;case 5:U0(s);break;case 4:yo();break;case 13:Ue(Ge);break;case 19:Ue(Ge);break;case 10:V0(s.type._context);break;case 22:case 23:Z0()}n=n.return}if(bt=t,ut=t=qr(t.current,null),At=_n=e,yt=0,dc=null,Y0=Gh=ta=0,ln=Al=null,Mi!==null){for(e=0;e<Mi.length;e++)if(n=Mi[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Mi=null}return t}function k_(t,e){do{var n=ut;try{if(O0(),od.current=Qd,Kd){for(var s=Ye.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Kd=!1}if(ea=0,wt=gt=Ye=null,Il=!1,lc=0,Q0.current=null,n===null||n.return===null){yt=1,dc=e,ut=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Tw(o);if(p!==null){p.flags&=-257,Ew(p,o,l,a,e),p.mode&1&&_w(a,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var N=new Set;N.add(c),e.updateQueue=N}else y.add(c);break e}else{if(!(e&1)){_w(a,u,e),ey();break e}c=Error(G(426))}}else if(qe&&l.mode&1){var j=Tw(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ew(j,o,l,a,e),D0(xo(c,l));break e}}a=c=xo(c,l),yt!==4&&(yt=2),Al===null?Al=[a]:Al.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=d_(a,c,e);xw(a,_);break e;case 1:l=c;var b=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zr===null||!zr.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=h_(a,l,e);xw(a,C);break e}}a=a.return}while(a!==null)}A_(n)}catch(R){e=R,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function I_(){var t=Yd.current;return Yd.current=Qd,t===null?Qd:t}function ey(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||!(ta&268435455)&&!(Gh&268435455)||Ir(bt,At)}function Zd(t,e){var n=Ee;Ee|=2;var s=I_();(bt!==t||At!==e)&&(Ws=null,qi(t,e));do try{sP();break}catch(r){k_(t,r)}while(!0);if(O0(),Ee=n,Yd.current=s,ut!==null)throw Error(G(261));return bt=null,At=0,yt}function sP(){for(;ut!==null;)C_(ut)}function rP(){for(;ut!==null&&!IC();)C_(ut)}function C_(t){var e=R_(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?A_(t):ut=e,Q0.current=null}function A_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XA(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ut=null;return}}else if(n=YA(n,e,_n),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);yt===0&&(yt=5)}function Ri(t,e,n){var s=Ce,r=zn.transition;try{zn.transition=null,Ce=1,iP(t,e,n,s)}finally{zn.transition=r,Ce=s}return null}function iP(t,e,n,s){do io();while($r!==null);if(Ee&6)throw Error(G(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(MC(t,a),t===bt&&(ut=bt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uu||(Uu=!0,D_(Dd,function(){return io(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zn.transition,zn.transition=null;var o=Ce;Ce=1;var l=Ee;Ee|=4,Q0.current=null,ZA(t,n),T_(n,t),TA(Bp),Od=!!Up,Bp=Up=null,t.current=n,eP(n),CC(),Ee=l,Ce=o,zn.transition=a}else t.current=n;if(Uu&&(Uu=!1,$r=t,Jd=r),a=t.pendingLanes,a===0&&(zr=null),RC(n.stateNode),mn(t,it()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Xd)throw Xd=!1,t=lg,lg=null,t;return Jd&1&&t.tag!==0&&io(),a=t.pendingLanes,a&1?t===cg?Pl++:(Pl=0,cg=t):Pl=0,fi(),null}function io(){if($r!==null){var t=d2(Jd),e=zn.transition,n=Ce;try{if(zn.transition=null,Ce=16>t?16:t,$r===null)var s=!1;else{if(t=$r,$r=null,Jd=0,Ee&6)throw Error(G(331));var r=Ee;for(Ee|=4,te=t.current;te!==null;){var a=te,o=a.child;if(te.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Cl(8,h,a)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,p=h.return;if(N_(h),h===u){te=null;break}if(m!==null){m.return=p,te=m;break}te=p}}}var y=a.alternate;if(y!==null){var N=y.child;if(N!==null){y.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,te=o;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cl(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}var b=t.current;for(te=b;te!==null;){o=te;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,te=x;else e:for(o=b;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wh(9,l)}}catch(R){nt(l,l.return,R)}if(l===o){te=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,te=C;break e}te=l.return}}if(Ee=r,fi(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Lh,t)}catch{}s=!0}return s}finally{Ce=n,zn.transition=e}}return!1}function Mw(t,e,n){e=xo(n,e),e=d_(t,e,1),t=Br(t,e,1),e=Zt(),t!==null&&($c(t,1,e),mn(t,e))}function nt(t,e,n){if(t.tag===3)Mw(t,t,n);else for(;e!==null;){if(e.tag===3){Mw(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zr===null||!zr.has(s))){t=xo(n,t),t=h_(e,t,1),e=Br(e,t,1),t=Zt(),e!==null&&($c(e,1,t),mn(e,t));break}}e=e.return}}function aP(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(At&n)===n&&(yt===4||yt===3&&(At&130023424)===At&&500>it()-X0?qi(t,0):Y0|=n),mn(t,e)}function P_(t,e){e===0&&(t.mode&1?(e=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):e=1);var n=Zt();t=or(t,e),t!==null&&($c(t,e,n),mn(t,n))}function oP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P_(t,n)}function lP(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(G(314))}s!==null&&s.delete(e),P_(t,n)}var R_;R_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,QA(t,e,n);un=!!(t.flags&131072)}else un=!1,qe&&e.flags&1048576&&V2(e,zd,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;cd(t,e),t=e.pendingProps;var r=mo(e,Gt.current);ro(e,n),r=H0(null,e,s,t,r,n);var a=q0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(s)?(a=!0,Ud(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,M0(e),r.updater=qh,e.stateNode=r,r._reactInternals=e,Xp(e,s,t,n),e=eg(null,e,s,!0,a,n)):(e.tag=0,qe&&a&&P0(e),Xt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(cd(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=uP(s),t=es(s,t),r){case 0:e=Zp(null,e,s,t,n);break e;case 1:e=Iw(null,e,s,t,n);break e;case 11:e=Sw(null,e,s,t,n);break e;case 14:e=kw(null,e,s,es(s.type,t),n);break e}throw Error(G(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),Zp(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),Iw(t,e,s,r,n);case 3:e:{if(g_(e),t===null)throw Error(G(387));s=e.pendingProps,a=e.memoizedState,r=a.element,z2(t,e),Wd(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=xo(Error(G(423)),e),e=Cw(t,e,s,n,r);break e}else if(s!==r){r=xo(Error(G(424)),e),e=Cw(t,e,s,n,r);break e}else for(En=Ur(e.stateNode.containerInfo.firstChild),kn=e,qe=!0,ns=null,n=U2(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),s===r){e=lr(t,e,n);break e}Xt(t,e,s,n)}e=e.child}return e;case 5:return H2(e),t===null&&Kp(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,zp(s,r)?o=null:a!==null&&zp(s,a)&&(e.flags|=32),p_(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Kp(e),null;case 13:return y_(t,e,n);case 4:return F0(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=go(e,null,s,n):Xt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),Sw(t,e,s,r,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,De(Hd,s._currentValue),s._currentValue=o,a!==null)if(ds(a.value,o)){if(a.children===r.children&&!hn.current){e=lr(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Zs(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Qp(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qp(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Xt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,ro(e,n),r=qn(r),s=s(r),e.flags|=1,Xt(t,e,s,n),e.child;case 14:return s=e.type,r=es(s,e.pendingProps),r=es(s.type,r),kw(t,e,s,r,n);case 15:return f_(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),cd(t,e),e.tag=1,fn(s)?(t=!0,Ud(e)):t=!1,ro(e,n),u_(e,s,r),Xp(e,s,r,n),eg(null,e,s,!0,t,n);case 19:return x_(t,e,n);case 22:return m_(t,e,n)}throw Error(G(156,e.tag))};function D_(t,e){return o2(t,e)}function cP(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,s){return new cP(t,e,n,s)}function ty(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uP(t){if(typeof t=="function")return ty(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w0)return 11;if(t===b0)return 14}return 2}function qr(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hd(t,e,n,s,r,a){var o=2;if(s=t,typeof t=="function")ty(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Va:return Wi(n.children,r,a,e);case v0:o=8,r|=8;break;case bp:return t=Bn(12,n,e,r|2),t.elementType=bp,t.lanes=a,t;case Np:return t=Bn(13,n,e,r),t.elementType=Np,t.lanes=a,t;case jp:return t=Bn(19,n,e,r),t.elementType=jp,t.lanes=a,t;case Hj:return Kh(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bj:o=10;break e;case zj:o=9;break e;case w0:o=11;break e;case b0:o=14;break e;case Tr:o=16,s=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Bn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function Wi(t,e,n,s){return t=Bn(7,t,s,e),t.lanes=n,t}function Kh(t,e,n,s){return t=Bn(22,t,s,e),t.elementType=Hj,t.lanes=n,t.stateNode={isHidden:!1},t}function $m(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Om(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dP(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gm(0),this.expirationTimes=gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gm(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ny(t,e,n,s,r,a,o,l,c){return t=new dP(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Bn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},M0(a),t}function hP(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oa,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function $_(t){if(!t)return ei;t=t._reactInternals;e:{if(pa(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(fn(n))return $2(t,n,e)}return e}function O_(t,e,n,s,r,a,o,l,c){return t=ny(n,s,!0,t,r,a,o,l,c),t.context=$_(null),n=t.current,s=Zt(),r=Hr(n),a=Zs(s,r),a.callback=e??null,Br(n,a,r),t.current.lanes=r,$c(t,r,s),mn(t,s),t}function Qh(t,e,n,s){var r=e.current,a=Zt(),o=Hr(r);return n=$_(n),e.context===null?e.context=n:e.pendingContext=n,e=Zs(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Br(r,e,o),t!==null&&(cs(t,r,o,a),ad(t,r,o)),o}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sy(t,e){Fw(t,e),(t=t.alternate)&&Fw(t,e)}function fP(){return null}var V_=typeof reportError=="function"?reportError:function(t){console.error(t)};function ry(t){this._internalRoot=t}Yh.prototype.render=ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Qh(t,e,null,null)};Yh.prototype.unmount=ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;na(function(){Qh(null,t,null,null)}),e[ar]=null}};function Yh(t){this._internalRoot=t}Yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=m2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&g2(t)}};function iy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uw(){}function mP(t,e,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=eh(o);a.call(u)}}var o=O_(e,s,t,0,null,!1,!1,"",Uw);return t._reactRootContainer=o,t[ar]=o.current,sc(t.nodeType===8?t.parentNode:t),na(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=eh(c);l.call(u)}}var c=ny(t,0,!1,null,null,!1,!1,"",Uw);return t._reactRootContainer=c,t[ar]=c.current,sc(t.nodeType===8?t.parentNode:t),na(function(){Qh(e,c,n,s)}),c}function Jh(t,e,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=eh(o);l.call(c)}}Qh(e,o,t,r)}else o=mP(n,e,t,r,s);return eh(o)}h2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ml(e.pendingLanes);n!==0&&(_0(e,n|1),mn(e,it()),!(Ee&6)&&(vo=it()+500,fi()))}break;case 13:na(function(){var s=or(t,1);if(s!==null){var r=Zt();cs(s,t,1,r)}}),sy(t,1)}};T0=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=Zt();cs(e,t,134217728,n)}sy(t,134217728)}};f2=function(t){if(t.tag===13){var e=Hr(t),n=or(t,e);if(n!==null){var s=Zt();cs(n,t,e,s)}sy(t,e)}};m2=function(){return Ce};p2=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Rp=function(t,e,n){switch(e){case"input":if(Ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Bh(s);if(!r)throw Error(G(90));Wj(s),Ep(s,r)}}}break;case"textarea":Kj(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};t2=J0;n2=na;var pP={usingClientEntryPoint:!1,Events:[Vc,Ua,Bh,Zj,e2,J0]},ol={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gP={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i2(t),t===null?null:t.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||fP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Lh=Bu.inject(gP),Ss=Bu}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pP;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(e))throw Error(G(200));return hP(t,e,null,n)};Rn.createRoot=function(t,e){if(!iy(t))throw Error(G(299));var n=!1,s="",r=V_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ny(t,1,!1,null,null,n,!1,s,r),t[ar]=e.current,sc(t.nodeType===8?t.parentNode:t),new ry(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=i2(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return na(t)};Rn.hydrate=function(t,e,n){if(!Xh(e))throw Error(G(200));return Jh(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!iy(t))throw Error(G(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=V_;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=O_(e,null,t,1,n??null,r,!1,a,o),t[ar]=e.current,sc(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yh(e)};Rn.render=function(t,e,n){if(!Xh(e))throw Error(G(200));return Jh(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(G(40));return t._reactRootContainer?(na(function(){Jh(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1};Rn.unstable_batchedUpdates=J0;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Xh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Jh(t,e,n,!1,s)};Rn.version="18.3.1-next-f1338f8080-20240426";function L_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L_)}catch(t){console.error(t)}}L_(),Lj.exports=Rn;var yP=Lj.exports,Bw=yP;vp.createRoot=Bw.createRoot,vp.hydrateRoot=Bw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hc.apply(this,arguments)}var Or;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Or||(Or={}));const zw="popstate";function xP(t){t===void 0&&(t={});function e(s,r){let{pathname:a,search:o,hash:l}=s.location;return hg("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:F_(r)}return wP(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vP(){return Math.random().toString(36).substr(2,8)}function Hw(t,e){return{usr:t.state,key:t.key,idx:e}}function hg(t,e,n,s){return n===void 0&&(n=null),hc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:n,key:e&&e.key||s||vP()})}function F_(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function wP(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=Or.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(hc({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Or.Pop;let j=h(),_=j==null?null:j-u;u=j,c&&c({action:l,location:N.location,delta:_})}function m(j,_){l=Or.Push;let b=hg(N.location,j,_);u=h()+1;let x=Hw(b,u),C=N.createHref(b);try{o.pushState(x,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(C)}a&&c&&c({action:l,location:N.location,delta:1})}function p(j,_){l=Or.Replace;let b=hg(N.location,j,_);u=h();let x=Hw(b,u),C=N.createHref(b);o.replaceState(x,"",C),a&&c&&c({action:l,location:N.location,delta:0})}function y(j){let _=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof j=="string"?j:F_(j);return b=b.replace(/ $/,"%20"),ft(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let N={get action(){return l},get location(){return t(r,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(zw,f),c=j,()=>{r.removeEventListener(zw,f),c=null}},createHref(j){return e(r,j)},createURL:y,encodeLocation(j){let _=y(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(j){return o.go(j)}};return N}var qw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qw||(qw={}));function bP(t,e,n){return n===void 0&&(n="/"),NP(t,e,n)}function NP(t,e,n,s){let r=typeof e=="string"?Do(e):e,a=z_(r.pathname||"/",n);if(a==null)return null;let o=U_(t);jP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$P(a);l=PP(o[c],u)}return l}function U_(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ft(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Gi([s,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U_(a.children,e,h,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:CP(u,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of B_(a.path))r(a,o,c)}),e}function B_(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=B_(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function jP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AP(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const _P=/^:[\w-]+$/,TP=3,EP=2,SP=1,kP=10,IP=-2,Ww=t=>t==="*";function CP(t,e){let n=t.split("/"),s=n.length;return n.some(Ww)&&(s+=IP),e&&(s+=EP),n.filter(r=>!Ww(r)).reduce((r,a)=>r+(_P.test(a)?TP:a===""?SP:kP),s)}function AP(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function PP(t,e,n){let{routesMeta:s}=t,r={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=RP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:Gi([a,f.pathname]),pathnameBase:MP(Gi([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=Gi([a,f.pathnameBase]))}return o}function RP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=DP(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let N=l[f]||"";o=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function DP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),M_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function $P(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return M_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function z_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function OP(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Do(t):t;return{pathname:n?n.startsWith("/")?n:VP(n,e):e,search:FP(s),hash:UP(r)}}function VP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Vm(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H_(t,e){let n=LP(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function q_(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Do(t):(r=hc({},t),ft(!r.pathname||!r.pathname.includes("?"),Vm("?","pathname","search",r)),ft(!r.pathname||!r.pathname.includes("#"),Vm("#","pathname","hash",r)),ft(!r.search||!r.search.includes("#"),Vm("#","search","hash",r)));let a=t===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=OP(r,l),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Gi=t=>t.join("/").replace(/\/\/+/g,"/"),MP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W_=["post","put","patch","delete"];new Set(W_);const zP=["get",...W_];new Set(zP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},fc.apply(this,arguments)}const ay=T.createContext(null),HP=T.createContext(null),Mc=T.createContext(null),Zh=T.createContext(null),mi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),G_=T.createContext(null);function Fc(){return T.useContext(Zh)!=null}function Yn(){return Fc()||ft(!1),T.useContext(Zh).location}function K_(t){T.useContext(Mc).static||T.useLayoutEffect(t)}function mt(){let{isDataRoute:t}=T.useContext(mi);return t?r5():qP()}function qP(){Fc()||ft(!1);let t=T.useContext(ay),{basename:e,future:n,navigator:s}=T.useContext(Mc),{matches:r}=T.useContext(mi),{pathname:a}=Yn(),o=JSON.stringify(H_(r,n.v7_relativeSplatPath)),l=T.useRef(!1);return K_(()=>{l.current=!0}),T.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=q_(u,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Gi([e,f.pathname])),(h.replace?s.replace:s.push)(f,h.state,h)},[e,s,o,a,t])}function WP(){let{matches:t}=T.useContext(mi),e=t[t.length-1];return e?e.params:{}}function GP(t,e){return KP(t,e)}function KP(t,e,n,s){Fc()||ft(!1);let{navigator:r}=T.useContext(Mc),{matches:a}=T.useContext(mi),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Yn(),h;if(e){var f;let j=typeof e=="string"?Do(e):e;c==="/"||(f=j.pathname)!=null&&f.startsWith(c)||ft(!1),h=j}else h=u;let m=h.pathname||"/",p=m;if(c!=="/"){let j=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=bP(t,{pathname:p}),N=ZP(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Gi([c,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Gi([c,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,n,s);return e&&N?T.createElement(Zh.Provider,{value:{location:fc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Or.Pop}},N):N}function QP(){let t=s5(),e=BP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:r},n):null,null)}const YP=T.createElement(QP,null);class XP extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(mi.Provider,{value:this.props.routeContext},T.createElement(G_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JP(t){let{routeContext:e,match:n,children:s}=t,r=T.useContext(ay);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(mi.Provider,{value:e},s)}function ZP(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ft(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:p}=n,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let p,y=!1,N=null,j=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,N=f.route.errorElement||YP,c&&(u<0&&m===0?(i5("route-fallback"),y=!0,j=null):u===m&&(y=!0,j=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),b=()=>{let x;return p?x=N:y?x=j:f.route.Component?x=T.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,T.createElement(JP,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?T.createElement(XP,{location:n.location,revalidation:n.revalidation,component:N,error:p,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var Q_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Q_||{}),Y_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Y_||{});function e5(t){let e=T.useContext(ay);return e||ft(!1),e}function t5(t){let e=T.useContext(HP);return e||ft(!1),e}function n5(t){let e=T.useContext(mi);return e||ft(!1),e}function X_(t){let e=n5(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function s5(){var t;let e=T.useContext(G_),n=t5(),s=X_();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function r5(){let{router:t}=e5(Q_.UseNavigateStable),e=X_(Y_.UseNavigateStable),n=T.useRef(!1);return K_(()=>{n.current=!0}),T.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,fc({fromRouteId:e},a)))},[t,e])}const Gw={};function i5(t,e,n){Gw[t]||(Gw[t]=!0)}function a5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function o5(t){let{to:e,replace:n,state:s,relative:r}=t;Fc()||ft(!1);let{future:a,static:o}=T.useContext(Mc),{matches:l}=T.useContext(mi),{pathname:c}=Yn(),u=mt(),h=q_(e,H_(l,a.v7_relativeSplatPath),c,r==="path"),f=JSON.stringify(h);return T.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:r}),[u,f,r,n,s]),null}function Bt(t){ft(!1)}function l5(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Or.Pop,navigator:a,static:o=!1,future:l}=t;Fc()&&ft(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:a,static:o,future:fc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Do(s));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:y="default"}=s,N=T.useMemo(()=>{let j=z_(h,c);return j==null?null:{location:{pathname:j,search:f,hash:m,state:p,key:y},navigationType:r}},[c,h,f,m,p,y,r]);return N==null?null:T.createElement(Mc.Provider,{value:u},T.createElement(Zh.Provider,{children:n,value:N}))}function c5(t){let{children:e,location:n}=t;return GP(fg(e),n)}new Promise(()=>{});function fg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(s,r)=>{if(!T.isValidElement(s))return;let a=[...e,r];if(s.type===T.Fragment){n.push.apply(n,fg(s.props.children,a));return}s.type!==Bt&&ft(!1),!s.props.index||!s.props.children||ft(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=fg(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const u5="6";try{window.__reactRouterVersion=u5}catch{}const d5="startTransition",Kw=aC[d5];function h5(t){let{basename:e,children:n,future:s,window:r}=t,a=T.useRef();a.current==null&&(a.current=xP({window:r,v5Compat:!0}));let o=a.current,[l,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},h=T.useCallback(f=>{u&&Kw?Kw(()=>c(f)):c(f)},[c,u]);return T.useLayoutEffect(()=>o.listen(h),[o,h]),T.useEffect(()=>a5(s),[s]),T.createElement(l5,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}var Qw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qw||(Qw={}));var Yw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yw||(Yw={}));const J_=T.createContext(),ye=()=>{const t=T.useContext(J_);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},f5=({children:t})=>{T.useEffect(()=>{localStorage.setItem("theme",JSON.stringify(!0)),document.documentElement.classList.add("dark")},[]);const n={isDark:!0};return i.jsx(J_.Provider,{value:n,children:t})},m5=()=>{};var Xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},p5=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],o=t[n++],l=t[n++],c=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],o=r+1<t.length,l=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),s.push(n[h],n[f],n[m],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||u==null||f==null)throw new g5;const m=a<<2|l>>4;if(s.push(m),u!==64){const p=l<<4&240|u>>2;if(s.push(p),f!==64){const y=u<<6&192|f;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y5=function(t){const e=Z_(t);return eT.encodeByteArray(e,!0)},th=function(t){return y5(t).replace(/\./g,"")},tT=function(t){try{return eT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=()=>x5().__FIREBASE_DEFAULTS__,w5=()=>{if(typeof process>"u"||typeof Xw>"u")return;const t=Xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tT(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return m5()||v5()||w5()||b5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nT=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sT=t=>{const e=nT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},rT=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config},iT=t=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[th(JSON.stringify(n)),th(JSON.stringify(o)),""].join(".")}const Rl={};function j5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rl))Rl[e]?t.emulator.push(e):t.prod.push(e);return t}function _5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Jw=!1;function ly(t,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||Rl[t]===e||Rl[t]||Jw)return;Rl[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",a=j5().prod.length>0;function o(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Jw=!0,o()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=_5(s),p=n("text"),y=document.getElementById(p)||document.createElement("span"),N=n("learnmore"),j=document.getElementById(N)||document.createElement("a"),_=n("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;l(x),h(j,N);const C=u();c(b,_),x.append(b,y,j,C),document.body.appendChild(x)}a?(y.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function E5(){var t;const e=(t=ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I5(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C5(){return!E5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function A5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="FirebaseError";class Xn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=P5,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?R5(a,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Xn(r,l,s)}}function R5(t,e){return t.replace(D5,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const D5=/\{\$([^}]+)}/g;function $5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ti(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const a=t[r],o=e[r];if(Zw(a)&&Zw(o)){if(!ti(a,o))return!1}else if(a!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Zw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,a]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O5(t,e){const n=new V5(t,e);return n.subscribe.bind(n)}class V5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");L5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Lm),r.error===void 0&&(r.error=Lm),r.complete===void 0&&(r.complete=Lm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=1e3,F5=2,U5=4*60*60*1e3,B5=.5;function eb(t,e=M5,n=F5){const s=e*Math.pow(n,t),r=Math.round(B5*s*(Math.random()-.5)*2);return Math.min(U5,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class Gn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new N5;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q5(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});s.resolve(a)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:H5(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H5(t){return t===Di?void 0:t}function q5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const G5={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},K5=Ne.INFO,Q5={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Y5=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Q5[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tf{constructor(e){this.name=e,this._logLevel=K5,this._logHandler=Y5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const X5=(t,e)=>e.some(n=>t instanceof n);let tb,nb;function J5(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z5(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,mg=new WeakMap,dT=new WeakMap,Mm=new WeakMap,cy=new WeakMap;function eR(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Wr(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function tR(t){if(mg.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});mg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nR(t){pg=t(pg)}function sR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Fm(this),e,...n);return dT.set(s,e.sort?e.sort():[e]),Wr(s)}:Z5().includes(t)?function(...e){return t.apply(Fm(this),e),Wr(uT.get(this))}:function(...e){return Wr(t.apply(Fm(this),e))}}function rR(t){return typeof t=="function"?sR(t):(t instanceof IDBTransaction&&tR(t),X5(t,J5())?new Proxy(t,pg):t)}function Wr(t){if(t instanceof IDBRequest)return eR(t);if(Mm.has(t))return Mm.get(t);const e=rR(t);return e!==t&&(Mm.set(t,e),cy.set(e,t)),e}const Fm=t=>cy.get(t);function hT(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const o=indexedDB.open(t,e),l=Wr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Wr(o.result),c.oldVersion,c.newVersion,Wr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const iR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Um=new Map;function sb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=aR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||iR.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return Um.set(e,a),a}nR(t=>({...t,get:(e,n,s)=>sb(e,n)||t.get(e,n,s),has:(e,n)=>!!sb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",rb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new tf("@firebase/app"),cR="@firebase/app-compat",uR="@firebase/analytics-compat",dR="@firebase/analytics",hR="@firebase/app-check-compat",fR="@firebase/app-check",mR="@firebase/auth",pR="@firebase/auth-compat",gR="@firebase/database",yR="@firebase/data-connect",xR="@firebase/database-compat",vR="@firebase/functions",wR="@firebase/functions-compat",bR="@firebase/installations",NR="@firebase/installations-compat",jR="@firebase/messaging",_R="@firebase/messaging-compat",TR="@firebase/performance",ER="@firebase/performance-compat",SR="@firebase/remote-config",kR="@firebase/remote-config-compat",IR="@firebase/storage",CR="@firebase/storage-compat",AR="@firebase/firestore",PR="@firebase/ai",RR="@firebase/firestore-compat",DR="firebase",$R="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",OR={[gg]:"fire-core",[cR]:"fire-core-compat",[dR]:"fire-analytics",[uR]:"fire-analytics-compat",[fR]:"fire-app-check",[hR]:"fire-app-check-compat",[mR]:"fire-auth",[pR]:"fire-auth-compat",[gR]:"fire-rtdb",[yR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[vR]:"fire-fn",[wR]:"fire-fn-compat",[bR]:"fire-iid",[NR]:"fire-iid-compat",[jR]:"fire-fcm",[_R]:"fire-fcm-compat",[TR]:"fire-perf",[ER]:"fire-perf-compat",[SR]:"fire-rc",[kR]:"fire-rc-compat",[IR]:"fire-gcs",[CR]:"fire-gcs-compat",[AR]:"fire-fst",[RR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,VR=new Map,xg=new Map;function ib(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(xg.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;xg.set(e,t);for(const n of nh.values())ib(n,t);for(const n of VR.values())ib(n,t);return!0}function pi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new ya("app","Firebase",LR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=$R;function fT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:yg,automaticDataCollectionEnabled:!0},e),r=s.name;if(typeof r!="string"||!r)throw Gr.create("bad-app-name",{appName:String(r)});if(n||(n=rT()),!n)throw Gr.create("no-options");const a=nh.get(r);if(a){if(ti(n,a.options)&&ti(s,a.config))return a;throw Gr.create("duplicate-app",{appName:r})}const o=new W5(r);for(const c of xg.values())o.addComponent(c);const l=new MR(n,s,o);return nh.set(r,l),l}function nf(t=yg){const e=nh.get(t);if(!e&&t===yg&&rT())return fT();if(!e)throw Gr.create("no-app",{appName:t});return e}function pn(t,e,n){var s;let r=(s=OR[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(l.join(" "));return}hs(new Gn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",UR=1,mc="firebase-heartbeat-store";let Bm=null;function mT(){return Bm||(Bm=hT(FR,UR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Bm}async function BR(t){try{const n=(await mT()).transaction(mc),s=await n.objectStore(mc).get(pT(t));return await n.done,s}catch(e){if(e instanceof Xn)cr.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function ab(t,e){try{const s=(await mT()).transaction(mc,"readwrite");await s.objectStore(mc).put(e,pT(t)),await s.done}catch(n){if(n instanceof Xn)cr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function pT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,HR=30;class qR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ob();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>HR){const o=KR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ob(),{heartbeatsToSend:s,unsentEntries:r}=WR(this._heartbeatsCache.heartbeats),a=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return cr.warn(n),""}}}function ob(){return new Date().toISOString().substring(0,10)}function WR(t,e=zR){const n=[];let s=t.slice();for(const r of t){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),lb(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),lb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lb(t){return th(JSON.stringify({version:2,heartbeats:t})).length}function KR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){hs(new Gn("platform-logger",e=>new oR(e),"PRIVATE")),hs(new Gn("heartbeat",e=>new qR(e),"PRIVATE")),pn(gg,rb,t),pn(gg,rb,"esm2017"),pn("fire-js","")}QR("");function uy(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=gT,yT=new ya("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new tf("@firebase/auth");function XR(t,...e){sh.logLevel<=Ne.WARN&&sh.warn(`Auth (${xa}): ${t}`,...e)}function fd(t,...e){sh.logLevel<=Ne.ERROR&&sh.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw dy(t,...e)}function Is(t,...e){return dy(t,...e)}function xT(t,e,n){const s=Object.assign(Object.assign({},YR()),{[e]:n});return new ya("auth","Firebase",s).create(e,{appName:t.name})}function er(t){return xT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return yT.create(t,...e)}function le(t,e,...n){if(!t)throw dy(e,...n)}function Ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function ur(t,e){t||Ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JR(){return cb()==="http:"||cb()==="https:"}function cb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||oT()||"connection"in navigator)?navigator.onLine:!0}function e3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=T5()||k5()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s3=new Bc(3e4,6e4);function pr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ys(t,e,n,s,r={}){return wT(t,r,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=Uc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return S5()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ga(t.emulatorConfig.host)&&(u.credentials="include"),vT.fetch()(await bT(t,t.config.apiHost,n,l),u)})}async function wT(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},t3),e);try{const r=new i3(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw zu(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zu(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xT(t,h,u);fs(t,h)}}catch(r){if(r instanceof Xn)throw r;fs(t,"network-request-failed",{message:String(r)})}}async function zc(t,e,n,s,r={}){const a=await ys(t,e,n,s,r);return"mfaPendingCredential"in a&&fs(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function bT(t,e,n,s){const r=`${e}${n}?${s}`,a=t,o=a.config.emulator?hy(t.config,r):`${t.config.apiScheme}://${r}`;return n3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function r3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Is(this.auth,"network-request-failed")),s3.get())})}}function zu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Is(t,e,s);return r.customData._tokenResponse=n,r}function ub(t){return t!==void 0&&t.enterprise!==void 0}class a3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o3(t,e){return ys(t,"GET","/v2/recaptchaConfig",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e){return ys(t,"POST","/v1/accounts:delete",e)}async function rh(t,e){return ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c3(t,e=!1){const n=$e(t),s=await n.getIdToken(e),r=fy(s);le(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:Dl(zm(r.auth_time)),issuedAtTime:Dl(zm(r.iat)),expirationTime:Dl(zm(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function zm(t){return Number(t)*1e3}function fy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{const r=tT(n);return r?JSON.parse(r):(fd("Failed to decode base64 JWT payload"),null)}catch(r){return fd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function db(t){const e=fy(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Xn&&u3(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function u3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){var e;const n=t.auth,s=await t.getIdToken(),r=await sa(t,rh(n,{idToken:s}));le(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NT(a.providerUserInfo):[],l=f3(t.providerData,o),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new wg(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function h3(t){const e=$e(t);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f3(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function NT(t){return t.map(e=>{var{providerId:n}=e,s=uy(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e){const n=await wT(t,{},async()=>{const s=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=await bT(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&ga(t.emulatorConfig.host)&&(c.credentials="include"),vT.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p3(t,e){return ys(t,"POST","/v2/accounts:revokeToken",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await m3(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,o=new ao;return s&&(le(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(le(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(le(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,a=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c3(this,e)}reload(){return h3(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await sa(this,l3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,a,o,l,c,u,h;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,j=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:C,isAnonymous:R,providerData:O,stsTokenManager:E}=n;le(x&&E,e,"internal-error");const w=ao.fromJSON(this.name,E);le(typeof x=="string",e,"internal-error"),br(f,e.name),br(m,e.name),le(typeof C=="boolean",e,"internal-error"),le(typeof R=="boolean",e,"internal-error"),br(p,e.name),br(y,e.name),br(N,e.name),br(j,e.name),br(_,e.name),br(b,e.name);const k=new rs({uid:x,auth:e,email:m,emailVerified:C,displayName:f,isAnonymous:R,photoURL:y,phoneNumber:p,tenantId:N,stsTokenManager:w,createdAt:_,lastLoginAt:b});return O&&Array.isArray(O)&&(k.providerData=O.map(A=>Object.assign({},A))),j&&(k._redirectEventId=j),k}static async _fromIdTokenResponse(e,n,s=!1){const r=new ao;r.updateFromServerResponse(n);const a=new rs({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await ih(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];le(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?NT(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new ao;l.updateFromIdToken(s);const c=new rs({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new wg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;function Xs(t){ur(t instanceof Function,"Expected a class definition");let e=hb.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const fb=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=md(this.userKey,r.apiKey,a),this.fullPersistenceKey=md("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(Xs(fb),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=r[0]||Xs(fb);const o=md(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await rh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await rs._fromGetAccountInfoResponse(e,m,h)}else f=rs._fromJSON(e,h);u!==a&&(l=f),a=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new oo(a,e,s):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new oo(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ST(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(CT(e))return"Webos";if(TT(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _T(t=Kt()){return/firefox\//i.test(t)}function TT(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(t=Kt()){return/crios\//i.test(t)}function ST(t=Kt()){return/iemobile/i.test(t)}function kT(t=Kt()){return/android/i.test(t)}function IT(t=Kt()){return/blackberry/i.test(t)}function CT(t=Kt()){return/webos/i.test(t)}function my(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g3(t=Kt()){var e;return my(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y3(){return I5()&&document.documentMode===10}function AT(t=Kt()){return my(t)||kT(t)||CT(t)||IT(t)||/windows phone/i.test(t)||ST(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e=[]){let n;switch(t){case"Browser":n=mb(Kt());break;case"Worker":n=`${mb(Kt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e={}){return ys(t,"GET","/v2/passwordPolicy",pr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=6;class b3{constructor(e){var n,s,r,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:w3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pb(this),this.idTokenSubscription=new pb(this),this.beforeStateQueue=new x3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xs(n)),this._initializationPromise=this.queue(async()=>{var s,r,a;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),s=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(er(this));const n=e?$e(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v3(this),n=new b3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await p3(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xs(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gi(t){return $e(t)}class pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=O5(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j3(t){sf=t}function RT(t){return sf.loadJS(t)}function _3(){return sf.recaptchaEnterpriseScript}function T3(){return sf.gapiScript}function E3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class S3{constructor(){this.enterprise=new k3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class k3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const I3="recaptcha-enterprise",DT="NO_RECAPTCHA";class C3{constructor(e){this.type=I3,this.auth=gi(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{o3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new a3(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function r(a,o,l){const c=window.grecaptcha;ub(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(DT)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S3().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{s(this.auth).then(l=>{if(!n&&ub(window.grecaptcha))r(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_3();c.length!==0&&(c+=l),RT(c).then(()=>{r(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function gb(t,e,n,s=!1,r=!1){const a=new C3(t);let o;if(r)o=DT;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ah(t,e,n,s,r){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gb(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await gb(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e){const n=pi(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(ti(a,e??{}))return r;fs(r,"already-initialized")}return n.initialize({options:e})}function P3(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function R3(t,e,n){const s=gi(t);le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,a=$T(e),{host:o,port:l}=D3(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),le(ti(u,s.config.emulator)&&ti(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,ga(o)?(oy(`${a}//${o}${c}`),ly("Auth",!0)):$3()}function $T(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D3(t){const e=$T(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const a=r[1];return{host:a,port:yb(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:yb(o)}}}function yb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ys("not implemented")}_getIdTokenResponse(e){return Ys("not implemented")}_linkToIdToken(e,n){return Ys("not implemented")}_getReauthenticationResolver(e){return Ys("not implemented")}}async function O3(t,e){return ys(t,"POST","/v1/accounts:update",e)}async function V3(t,e){return ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e){return zc(t,"POST","/v1/accounts:signInWithPassword",pr(t,e))}async function OT(t,e){return ys(t,"POST","/v1/accounts:sendOobCode",pr(t,e))}async function M3(t,e){return OT(t,e)}async function F3(t,e){return OT(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}async function B3(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends py{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(e,n,"signInWithPassword",L3);case"emailLink":return U3(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(e,s,"signUpPassword",V3);case"emailLink":return B3(e,{idToken:n,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e){return zc(t,"POST","/v1/accounts:signInWithIdp",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="http://localhost";class ra extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,a=uy(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new ra(s,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:z3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q3(t){const e=gl(yl(t)).link,n=e?gl(yl(e)).deep_link_id:null,s=gl(yl(t)).deep_link_id;return(s?gl(yl(s)).link:null)||s||n||e||t}class gy{constructor(e){var n,s,r,a,o,l;const c=gl(yl(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(s=c.oobCode)!==null&&s!==void 0?s:null,f=H3((r=c.mode)!==null&&r!==void 0?r:null);le(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=q3(e);try{return new gy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.providerId=va.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=gy.parseLink(n);return le(s,"argument-error"),pc._fromEmailAndCode(e,s.code,s.tenantId)}}va.PROVIDER_ID="password";va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Hc{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Hc{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Hc{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e){return zc(t,"POST","/v1/accounts:signUp",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const a=await rs._fromIdTokenResponse(e,s,r),o=xb(s);return new ia({user:a,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=xb(s);return new ia({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function xb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Xn{constructor(e,n,s,r){var a;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new oh(e,n,s,r)}}function LT(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,a,e,s):a})}async function G3(t,e,n=!1){const s=await sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t,e,n=!1){const{auth:s}=t;if(Tn(s.app))return Promise.reject(er(s));const r="reauthenticate";try{const a=await sa(t,LT(s,r,e,t),n);le(a.idToken,s,"internal-error");const o=fy(a.idToken);le(o,s,"internal-error");const{sub:l}=o;return le(t.uid===l,s,"user-mismatch"),ia._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fs(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(t,e,n=!1){if(Tn(t.app))return Promise.reject(er(t));const s="signIn",r=await LT(t,s,e),a=await ia._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(a.user),a}async function K3(t,e){return FT(gi(t),e)}async function Q3(t,e){return MT($e(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(t){const e=gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y3(t,e,n){const s=gi(t);await ah(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",F3)}async function X3(t,e,n){if(Tn(t.app))return Promise.reject(er(t));const s=gi(t),o=await ah(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&UT(t),c}),l=await ia._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function J3(t,e,n){return Tn(t.app)?Promise.reject(er(t)):K3($e(t),va.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UT(t),s})}async function BT(t,e){const n=$e(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await M3(n.auth,r);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e){return ys(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=$e(t),a={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await sa(s,Z3(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function t6(t,e){return n6($e(t),null,e)}async function n6(t,e,n){const{auth:s}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const o=await sa(t,O3(s,a));await t._updateTokensIfNecessary(o,!0)}function s6(t,e,n,s){return $e(t).onIdTokenChanged(e,n,s)}function r6(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function i6(t,e,n,s){return $e(t).onAuthStateChanged(e,n,s)}function a6(t){return $e(t).signOut()}async function o6(t){return $e(t).delete()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=1e3,c6=10;class HT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);y3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,c6):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},l6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HT.type="LOCAL";const u6=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qT.type="SESSION";const WT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:a}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async u=>u(n.origin,a)),c=await d6(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=yy("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(){return window}function f6(t){Cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof Cs().WorkerGlobalScope<"u"&&typeof Cs().importScripts=="function"}async function m6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g6(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebaseLocalStorageDb",y6=1,ch="firebaseLocalStorage",QT="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function af(t,e){return t.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function x6(){const t=indexedDB.deleteDatabase(KT);return new qc(t).toPromise()}function bg(){const t=indexedDB.open(KT,y6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ch,{keyPath:QT})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ch)?e(s):(s.close(),await x6(),e(await bg()))})})}async function vb(t,e,n){const s=af(t,!0).put({[QT]:e,value:n});return new qc(s).toPromise()}async function v6(t,e){const n=af(t,!1).get(e),s=await new qc(n).toPromise();return s===void 0?null:s.value}function wb(t,e){const n=af(t,!0).delete(e);return new qc(n).toPromise()}const w6=800,b6=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>b6)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(g6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await m6(),!this.activeServiceWorker)return;this.sender=new h6(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await vb(e,lh,"1"),await wb(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>v6(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=af(r,!1).getAll();return new qc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const N6=YT;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e){return e?Xs(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _6(t){return FT(t.auth,new xy(t),t.bypassAuthState)}function T6(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),MT(n,new xy(t),t.bypassAuthState)}async function E6(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),G3(n,new xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,r,a=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _6;case"linkViaPopup":case"linkViaRedirect":return E6;case"reauthViaPopup":case"reauthViaRedirect":return T6;default:fs(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new Bc(2e3,1e4);class Ka extends XT{constructor(e,n,s,r,a){super(e,n,r,a),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S6.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="pendingRedirect",pd=new Map;class I6 extends XT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const s=await C6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C6(t,e){const n=R6(e),s=P6(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function A6(t,e){pd.set(t._key(),e)}function P6(t){return Xs(t._redirectPersistence)}function R6(t){return md(k6,t.config.apiKey,t.name)}async function D6(t,e,n=!1){if(Tn(t.app))return Promise.reject(er(t));const s=gi(t),r=j6(s,e),o=await new I6(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=10*60*1e3;class O6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!JT(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$6&&this.cachedEventUids.clear(),this.cachedEventUids.has(bb(e))}saveEventToCache(e){this.cachedEventUids.add(bb(e)),this.lastProcessedEventTime=Date.now()}}function bb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e={}){return ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F6=/^https?/;async function U6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await L6(t);for(const n of e)try{if(B6(n))return}catch{}fs(t,"unauthorized-domain")}function B6(t){const e=vg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!F6.test(n))return!1;if(M6.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new Bc(3e4,6e4);function Nb(){const t=Cs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H6(t){return new Promise((e,n)=>{var s,r,a;function o(){Nb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nb(),n(Is(t,"network-request-failed"))},timeout:z6.get()})}if(!((r=(s=Cs().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=Cs().gapi)===null||a===void 0)&&a.load)o();else{const l=E3("iframefcb");return Cs()[l]=()=>{gapi.load?o():n(Is(t,"network-request-failed"))},RT(`${T3()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw gd=null,e})}let gd=null;function q6(t){return gd=gd||H6(t),gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=new Bc(5e3,15e3),G6="__/auth/iframe",K6="emulator/auth/iframe",Q6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X6(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hy(e,K6):`https://${t.config.authDomain}/${G6}`,s={apiKey:e.apiKey,appName:t.name,v:xa},r=Y6.get(t.config.apiHost);r&&(s.eid=r);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Uc(s).slice(1)}`}async function J6(t){const e=await q6(t),n=Cs().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:X6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q6,dontclear:!0},s=>new Promise(async(r,a)=>{await s.restyle({setHideOnLeave:!1});const o=Is(t,"network-request-failed"),l=Cs().setTimeout(()=>{a(o)},W6.get());function c(){Cs().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eD=500,tD=600,nD="_blank",sD="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rD(t,e,n,s=eD,r=tD){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Z6),{width:s.toString(),height:r.toString(),top:a,left:o}),u=Kt().toLowerCase();n&&(l=ET(u)?nD:n),_T(u)&&(e=e||sD,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[p,y])=>`${m}${p}=${y},`,"");if(g3(u)&&l!=="_self")return iD(e||"",l),new jb(null);const f=window.open(e||"",l,h);le(f,t,"popup-blocked");try{f.focus()}catch{}return new jb(f)}function iD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="__/auth/handler",oD="emulator/auth/handler",lD=encodeURIComponent("fac");async function _b(t,e,n,s,r,a){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:xa,eventId:r};if(e instanceof VT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Hc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${lD}=${encodeURIComponent(c)}`:"";return`${cD(t)}?${Uc(l).slice(1)}${u}`}function cD({config:t}){return t.emulator?hy(t,oD):`https://${t.authDomain}/${aD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class uD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=D6,this._overrideRedirectResult=A6}async _openPopup(e,n,s,r){var a;ur((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await _b(e,n,s,vg(),r);return rD(e,o,yy())}async _openRedirect(e,n,s,r){await this._originValidation(e);const a=await _b(e,n,s,vg(),r);return f6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(ur(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await J6(e),s=new O6(e);return n.register("authEvent",r=>(le(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},r=>{var a;const o=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[Hm];o!==void 0&&n(!!o),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=U6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AT()||TT()||my()}}const dD=uD;var Tb="@firebase/auth",Eb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mD(t){hs(new Gn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(t)},u=new N3(s,r,a,c);return P3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),hs(new Gn("auth-internal",e=>{const n=gi(e.getProvider("auth").getImmediate());return(s=>new hD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(Tb,Eb,fD(t)),pn(Tb,Eb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=5*60,gD=iT("authIdTokenMaxAge")||pD;let Sb=null;const yD=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gD)return;const r=n==null?void 0:n.token;Sb!==r&&(Sb=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function xD(t=nf()){const e=pi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=A3(t,{popupRedirectResolver:dD,persistence:[N6,u6,WT]}),s=iT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=yD(a.toString());r6(n,o,()=>o(n.currentUser)),s6(n,l=>o(l))}}const r=nT("auth");return r&&R3(n,`http://${r}`),n}function vD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}j3({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const a=Is("internal-error");a.customData=r,n(a)},s.type="text/javascript",s.charset="UTF-8",vD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mD("Browser");var wD="firebase",bD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(wD,bD,"app");var kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,ZT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,w){function k(){}k.prototype=w.prototype,E.D=w.prototype,E.prototype=new k,E.prototype.constructor=E,E.C=function(A,$,D){for(var P=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)P[ae-2]=arguments[ae];return w.prototype[$].apply(A,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,w,k){k||(k=0);var A=Array(16);if(typeof w=="string")for(var $=0;16>$;++$)A[$]=w.charCodeAt(k++)|w.charCodeAt(k++)<<8|w.charCodeAt(k++)<<16|w.charCodeAt(k++)<<24;else for($=0;16>$;++$)A[$]=w[k++]|w[k++]<<8|w[k++]<<16|w[k++]<<24;w=E.g[0],k=E.g[1],$=E.g[2];var D=E.g[3],P=w+(D^k&($^D))+A[0]+3614090360&4294967295;w=k+(P<<7&4294967295|P>>>25),P=D+($^w&(k^$))+A[1]+3905402710&4294967295,D=w+(P<<12&4294967295|P>>>20),P=$+(k^D&(w^k))+A[2]+606105819&4294967295,$=D+(P<<17&4294967295|P>>>15),P=k+(w^$&(D^w))+A[3]+3250441966&4294967295,k=$+(P<<22&4294967295|P>>>10),P=w+(D^k&($^D))+A[4]+4118548399&4294967295,w=k+(P<<7&4294967295|P>>>25),P=D+($^w&(k^$))+A[5]+1200080426&4294967295,D=w+(P<<12&4294967295|P>>>20),P=$+(k^D&(w^k))+A[6]+2821735955&4294967295,$=D+(P<<17&4294967295|P>>>15),P=k+(w^$&(D^w))+A[7]+4249261313&4294967295,k=$+(P<<22&4294967295|P>>>10),P=w+(D^k&($^D))+A[8]+1770035416&4294967295,w=k+(P<<7&4294967295|P>>>25),P=D+($^w&(k^$))+A[9]+2336552879&4294967295,D=w+(P<<12&4294967295|P>>>20),P=$+(k^D&(w^k))+A[10]+4294925233&4294967295,$=D+(P<<17&4294967295|P>>>15),P=k+(w^$&(D^w))+A[11]+2304563134&4294967295,k=$+(P<<22&4294967295|P>>>10),P=w+(D^k&($^D))+A[12]+1804603682&4294967295,w=k+(P<<7&4294967295|P>>>25),P=D+($^w&(k^$))+A[13]+4254626195&4294967295,D=w+(P<<12&4294967295|P>>>20),P=$+(k^D&(w^k))+A[14]+2792965006&4294967295,$=D+(P<<17&4294967295|P>>>15),P=k+(w^$&(D^w))+A[15]+1236535329&4294967295,k=$+(P<<22&4294967295|P>>>10),P=w+($^D&(k^$))+A[1]+4129170786&4294967295,w=k+(P<<5&4294967295|P>>>27),P=D+(k^$&(w^k))+A[6]+3225465664&4294967295,D=w+(P<<9&4294967295|P>>>23),P=$+(w^k&(D^w))+A[11]+643717713&4294967295,$=D+(P<<14&4294967295|P>>>18),P=k+(D^w&($^D))+A[0]+3921069994&4294967295,k=$+(P<<20&4294967295|P>>>12),P=w+($^D&(k^$))+A[5]+3593408605&4294967295,w=k+(P<<5&4294967295|P>>>27),P=D+(k^$&(w^k))+A[10]+38016083&4294967295,D=w+(P<<9&4294967295|P>>>23),P=$+(w^k&(D^w))+A[15]+3634488961&4294967295,$=D+(P<<14&4294967295|P>>>18),P=k+(D^w&($^D))+A[4]+3889429448&4294967295,k=$+(P<<20&4294967295|P>>>12),P=w+($^D&(k^$))+A[9]+568446438&4294967295,w=k+(P<<5&4294967295|P>>>27),P=D+(k^$&(w^k))+A[14]+3275163606&4294967295,D=w+(P<<9&4294967295|P>>>23),P=$+(w^k&(D^w))+A[3]+4107603335&4294967295,$=D+(P<<14&4294967295|P>>>18),P=k+(D^w&($^D))+A[8]+1163531501&4294967295,k=$+(P<<20&4294967295|P>>>12),P=w+($^D&(k^$))+A[13]+2850285829&4294967295,w=k+(P<<5&4294967295|P>>>27),P=D+(k^$&(w^k))+A[2]+4243563512&4294967295,D=w+(P<<9&4294967295|P>>>23),P=$+(w^k&(D^w))+A[7]+1735328473&4294967295,$=D+(P<<14&4294967295|P>>>18),P=k+(D^w&($^D))+A[12]+2368359562&4294967295,k=$+(P<<20&4294967295|P>>>12),P=w+(k^$^D)+A[5]+4294588738&4294967295,w=k+(P<<4&4294967295|P>>>28),P=D+(w^k^$)+A[8]+2272392833&4294967295,D=w+(P<<11&4294967295|P>>>21),P=$+(D^w^k)+A[11]+1839030562&4294967295,$=D+(P<<16&4294967295|P>>>16),P=k+($^D^w)+A[14]+4259657740&4294967295,k=$+(P<<23&4294967295|P>>>9),P=w+(k^$^D)+A[1]+2763975236&4294967295,w=k+(P<<4&4294967295|P>>>28),P=D+(w^k^$)+A[4]+1272893353&4294967295,D=w+(P<<11&4294967295|P>>>21),P=$+(D^w^k)+A[7]+4139469664&4294967295,$=D+(P<<16&4294967295|P>>>16),P=k+($^D^w)+A[10]+3200236656&4294967295,k=$+(P<<23&4294967295|P>>>9),P=w+(k^$^D)+A[13]+681279174&4294967295,w=k+(P<<4&4294967295|P>>>28),P=D+(w^k^$)+A[0]+3936430074&4294967295,D=w+(P<<11&4294967295|P>>>21),P=$+(D^w^k)+A[3]+3572445317&4294967295,$=D+(P<<16&4294967295|P>>>16),P=k+($^D^w)+A[6]+76029189&4294967295,k=$+(P<<23&4294967295|P>>>9),P=w+(k^$^D)+A[9]+3654602809&4294967295,w=k+(P<<4&4294967295|P>>>28),P=D+(w^k^$)+A[12]+3873151461&4294967295,D=w+(P<<11&4294967295|P>>>21),P=$+(D^w^k)+A[15]+530742520&4294967295,$=D+(P<<16&4294967295|P>>>16),P=k+($^D^w)+A[2]+3299628645&4294967295,k=$+(P<<23&4294967295|P>>>9),P=w+($^(k|~D))+A[0]+4096336452&4294967295,w=k+(P<<6&4294967295|P>>>26),P=D+(k^(w|~$))+A[7]+1126891415&4294967295,D=w+(P<<10&4294967295|P>>>22),P=$+(w^(D|~k))+A[14]+2878612391&4294967295,$=D+(P<<15&4294967295|P>>>17),P=k+(D^($|~w))+A[5]+4237533241&4294967295,k=$+(P<<21&4294967295|P>>>11),P=w+($^(k|~D))+A[12]+1700485571&4294967295,w=k+(P<<6&4294967295|P>>>26),P=D+(k^(w|~$))+A[3]+2399980690&4294967295,D=w+(P<<10&4294967295|P>>>22),P=$+(w^(D|~k))+A[10]+4293915773&4294967295,$=D+(P<<15&4294967295|P>>>17),P=k+(D^($|~w))+A[1]+2240044497&4294967295,k=$+(P<<21&4294967295|P>>>11),P=w+($^(k|~D))+A[8]+1873313359&4294967295,w=k+(P<<6&4294967295|P>>>26),P=D+(k^(w|~$))+A[15]+4264355552&4294967295,D=w+(P<<10&4294967295|P>>>22),P=$+(w^(D|~k))+A[6]+2734768916&4294967295,$=D+(P<<15&4294967295|P>>>17),P=k+(D^($|~w))+A[13]+1309151649&4294967295,k=$+(P<<21&4294967295|P>>>11),P=w+($^(k|~D))+A[4]+4149444226&4294967295,w=k+(P<<6&4294967295|P>>>26),P=D+(k^(w|~$))+A[11]+3174756917&4294967295,D=w+(P<<10&4294967295|P>>>22),P=$+(w^(D|~k))+A[2]+718787259&4294967295,$=D+(P<<15&4294967295|P>>>17),P=k+(D^($|~w))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+w&4294967295,E.g[1]=E.g[1]+($+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+$&4294967295,E.g[3]=E.g[3]+D&4294967295}s.prototype.u=function(E,w){w===void 0&&(w=E.length);for(var k=w-this.blockSize,A=this.B,$=this.h,D=0;D<w;){if($==0)for(;D<=k;)r(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<w;)if(A[$++]=E.charCodeAt(D++),$==this.blockSize){r(this,A),$=0;break}}else for(;D<w;)if(A[$++]=E[D++],$==this.blockSize){r(this,A),$=0;break}}this.h=$,this.o+=w},s.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var w=1;w<E.length-8;++w)E[w]=0;var k=8*this.o;for(w=E.length-8;w<E.length;++w)E[w]=k&255,k/=256;for(this.u(E),E=Array(16),w=k=0;4>w;++w)for(var A=0;32>A;A+=8)E[k++]=this.g[w]>>>A&255;return E};function a(E,w){var k=l;return Object.prototype.hasOwnProperty.call(k,E)?k[E]:k[E]=w(E)}function o(E,w){this.h=w;for(var k=[],A=!0,$=E.length-1;0<=$;$--){var D=E[$]|0;A&&D==w||(k[$]=D,A=!1)}this.g=k}var l={};function c(E){return-128<=E&&128>E?a(E,function(w){return new o([w|0],0>w?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return j(u(-E));for(var w=[],k=1,A=0;E>=k;A++)w[A]=E/k|0,k*=4294967296;return new o(w,0)}function h(E,w){if(E.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(E.charAt(0)=="-")return j(h(E.substring(1),w));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(w,8)),A=f,$=0;$<E.length;$+=8){var D=Math.min(8,E.length-$),P=parseInt(E.substring($,$+D),w);8>D?(D=u(Math.pow(w,D)),A=A.j(D).add(u(P))):(A=A.j(k),A=A.add(u(P)))}return A}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-j(this).m();for(var E=0,w=1,k=0;k<this.g.length;k++){var A=this.i(k);E+=(0<=A?A:4294967296+A)*w,w*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(N(this))return"-"+j(this).toString(E);for(var w=u(Math.pow(E,6)),k=this,A="";;){var $=C(k,w).g;k=_(k,$.j(w));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(E);if(k=$,y(k))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var w=0;w<E.g.length;w++)if(E.g[w]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=_(this,E),N(E)?-1:y(E)?0:1};function j(E){for(var w=E.g.length,k=[],A=0;A<w;A++)k[A]=~E.g[A];return new o(k,~E.h).add(m)}t.abs=function(){return N(this)?j(this):this},t.add=function(E){for(var w=Math.max(this.g.length,E.g.length),k=[],A=0,$=0;$<=w;$++){var D=A+(this.i($)&65535)+(E.i($)&65535),P=(D>>>16)+(this.i($)>>>16)+(E.i($)>>>16);A=P>>>16,D&=65535,P&=65535,k[$]=P<<16|D}return new o(k,k[k.length-1]&-2147483648?-1:0)};function _(E,w){return E.add(j(w))}t.j=function(E){if(y(this)||y(E))return f;if(N(this))return N(E)?j(this).j(j(E)):j(j(this).j(E));if(N(E))return j(this.j(j(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var w=this.g.length+E.g.length,k=[],A=0;A<2*w;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var $=0;$<E.g.length;$++){var D=this.i(A)>>>16,P=this.i(A)&65535,ae=E.i($)>>>16,pe=E.i($)&65535;k[2*A+2*$]+=P*pe,b(k,2*A+2*$),k[2*A+2*$+1]+=D*pe,b(k,2*A+2*$+1),k[2*A+2*$+1]+=P*ae,b(k,2*A+2*$+1),k[2*A+2*$+2]+=D*ae,b(k,2*A+2*$+2)}for(A=0;A<w;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=w;A<2*w;A++)k[A]=0;return new o(k,0)};function b(E,w){for(;(E[w]&65535)!=E[w];)E[w+1]+=E[w]>>>16,E[w]&=65535,w++}function x(E,w){this.g=E,this.h=w}function C(E,w){if(y(w))throw Error("division by zero");if(y(E))return new x(f,f);if(N(E))return w=C(j(E),w),new x(j(w.g),j(w.h));if(N(w))return w=C(E,j(w)),new x(j(w.g),w.h);if(30<E.g.length){if(N(E)||N(w))throw Error("slowDivide_ only works with positive integers.");for(var k=m,A=w;0>=A.l(E);)k=R(k),A=R(A);var $=O(k,1),D=O(A,1);for(A=O(A,2),k=O(k,2);!y(A);){var P=D.add(A);0>=P.l(E)&&($=$.add(k),D=P),A=O(A,1),k=O(k,1)}return w=_(E,$.j(w)),new x($,w)}for($=f;0<=E.l(w);){for(k=Math.max(1,Math.floor(E.m()/w.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=u(k),P=D.j(w);N(P)||0<P.l(E);)k-=A,D=u(k),P=D.j(w);y(D)&&(D=m),$=$.add(D),E=_(E,P)}return new x($,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var w=Math.max(this.g.length,E.g.length),k=[],A=0;A<w;A++)k[A]=this.i(A)&E.i(A);return new o(k,this.h&E.h)},t.or=function(E){for(var w=Math.max(this.g.length,E.g.length),k=[],A=0;A<w;A++)k[A]=this.i(A)|E.i(A);return new o(k,this.h|E.h)},t.xor=function(E){for(var w=Math.max(this.g.length,E.g.length),k=[],A=0;A<w;A++)k[A]=this.i(A)^E.i(A);return new o(k,this.h^E.h)};function R(E){for(var w=E.g.length+1,k=[],A=0;A<w;A++)k[A]=E.i(A)<<1|E.i(A-1)>>>31;return new o(k,E.h)}function O(E,w){var k=w>>5;w%=32;for(var A=E.g.length-k,$=[],D=0;D<A;D++)$[D]=0<w?E.i(D+k)>>>w|E.i(D+k+1)<<32-w:E.i(D+k);return new o($,E.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZT=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Kr=o}).apply(typeof kb<"u"?kb:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eE,xl,tE,yd,Ng,nE,sE,rE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,v){return d==Array.prototype||d==Object.prototype||(d[g]=v.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var g=0;g<d.length;++g){var v=d[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function r(d,g){if(g)e:{var v=s;d=d.split(".");for(var I=0;I<d.length-1;I++){var V=d[I];if(!(V in v))break e;v=v[V]}d=d[d.length-1],I=v[d],g=g(I),g!=I&&g!=null&&e(v,d,{configurable:!0,writable:!0,value:g})}}function a(d,g){d instanceof String&&(d+="");var v=0,I=!1,V={next:function(){if(!I&&v<d.length){var F=v++;return{value:g(F,d[F]),done:!1}}return I=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(d){return d||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function u(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function h(d,g,v){return d.call.apply(d.bind,arguments)}function f(d,g,v){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,I),d.apply(g,V)}}return function(){return d.apply(g,arguments)}}function m(d,g,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function p(d,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function y(d,g){function v(){}v.prototype=g.prototype,d.aa=g.prototype,d.prototype=new v,d.prototype.constructor=d,d.Qb=function(I,V,F){for(var K=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)K[Ae-2]=arguments[Ae];return g.prototype[V].apply(I,K)}}function N(d){const g=d.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=d[I];return v}return[]}function j(d,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(c(I)){const V=d.length||0,F=I.length||0;d.length=V+F;for(let K=0;K<F;K++)d[V+K]=I[K]}else d.push(I)}}class _{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function b(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var R=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(d,g,v){for(const I in d)g.call(v,d[I],I,d)}function E(d,g){for(const v in d)g.call(void 0,d[v],v,d)}function w(d){const g={};for(const v in d)g[v]=d[v];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,g){let v,I;for(let V=1;V<arguments.length;V++){I=arguments[V];for(v in I)d[v]=I[v];for(let F=0;F<k.length;F++)v=k[F],Object.prototype.hasOwnProperty.call(I,v)&&(d[v]=I[v])}}function $(d){var g=1;d=d.split(":");const v=[];for(;0<g&&d.length;)v.push(d.shift()),g--;return d.length&&v.push(d.join(":")),v}function D(d){l.setTimeout(()=>{throw d},0)}function P(){var d=Y;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class ae{constructor(){this.h=this.g=null}add(g,v){const I=pe.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var pe=new _(()=>new ge,d=>d.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,q=!1,Y=new ae,M=()=>{const d=l.Promise.resolve(void 0);re=()=>{d.then(H)}};var H=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(v){D(v)}var g=pe;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}q=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};l.addEventListener("test",v,g),l.removeEventListener("test",v,g)}catch{}return d}();function ze(d,g){if(xe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var v=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(R){e:{try{C(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else v=="mouseover"?g=d.fromElement:v=="mouseout"&&(g=d.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ze.aa.h.call(this)}}y(ze,xe);var _e={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),bn=0;function _t(d,g,v,I,V){this.listener=d,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=V,this.key=++bn,this.da=this.fa=!1}function Ot(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function pt(d){this.src=d,this.g={},this.h=0}pt.prototype.add=function(d,g,v,I,V){var F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);var K=et(d,g,I,V);return-1<K?(g=d[K],v||(g.fa=!1)):(g=new _t(g,this.src,F,!!I,V),g.fa=v,d.push(g)),g};function Nn(d,g){var v=g.type;if(v in d.g){var I=d.g[v],V=Array.prototype.indexOf.call(I,g,void 0),F;(F=0<=V)&&Array.prototype.splice.call(I,V,1),F&&(Ot(g),d.g[v].length==0&&(delete d.g[v],d.h--))}}function et(d,g,v,I){for(var V=0;V<d.length;++V){var F=d[V];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==I)return V}return-1}var Z="closure_lm_"+(1e6*Math.random()|0),ne={};function ue(d,g,v,I,V){if(Array.isArray(g)){for(var F=0;F<g.length;F++)ue(d,g[F],v,I,V);return null}return v=Ta(v),d&&d[Ze]?d.K(g,v,u(I)?!!I.capture:!1,V):X(d,g,v,!1,I,V)}function X(d,g,v,I,V,F){if(!g)throw Error("Invalid event type");var K=u(V)?!!V.capture:!!V,Ae=ji(d);if(Ae||(d[Z]=Ae=new pt(d)),v=Ae.add(g,v,I,K,F),v.proxy)return v;if(I=fe(),v.proxy=I,I.src=d,I.listener=v,d.addEventListener)Be||(V=K),V===void 0&&(V=!1),d.addEventListener(g.toString(),I,V);else if(d.attachEvent)d.attachEvent(ws(g.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fe(){function d(v){return g.call(d.src,d.listener,v)}const g=Qf;return d}function He(d,g,v,I,V){if(Array.isArray(g))for(var F=0;F<g.length;F++)He(d,g[F],v,I,V);else I=u(I)?!!I.capture:!!I,v=Ta(v),d&&d[Ze]?(d=d.i,g=String(g).toString(),g in d.g&&(F=d.g[g],v=et(F,v,I,V),-1<v&&(Ot(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete d.g[g],d.h--)))):d&&(d=ji(d))&&(g=d.g[g.toString()],d=-1,g&&(d=et(g,v,I,V)),(v=-1<d?g[d]:null)&&sn(v))}function sn(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Ze])Nn(g.i,d);else{var v=d.type,I=d.proxy;g.removeEventListener?g.removeEventListener(v,I,d.capture):g.detachEvent?g.detachEvent(ws(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=ji(g))?(Nn(v,d),v.h==0&&(v.src=null,g[Z]=null)):Ot(d)}}}function ws(d){return d in ne?ne[d]:ne[d]="on"+d}function Qf(d,g){if(d.da)d=!0;else{g=new ze(g,this);var v=d.listener,I=d.ha||d.src;d.fa&&sn(d),d=v.call(I,g)}return d}function ji(d){return d=d[Z],d instanceof pt?d:null}var _i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ta(d){return typeof d=="function"?d:(d[_i]||(d[_i]=function(g){return d.handleEvent(g)}),d[_i])}function ot(){se.call(this),this.i=new pt(this),this.M=this,this.F=null}y(ot,se),ot.prototype[Ze]=!0,ot.prototype.removeEventListener=function(d,g,v,I){He(this,d,g,v,I)};function Tt(d,g){var v,I=d.F;if(I)for(v=[];I;I=I.F)v.push(I);if(d=d.M,I=g.type||g,typeof g=="string")g=new xe(g,d);else if(g instanceof xe)g.target=g.target||d;else{var V=g;g=new xe(I,d),A(g,V)}if(V=!0,v)for(var F=v.length-1;0<=F;F--){var K=g.g=v[F];V=Ti(K,I,!0,g)&&V}if(K=g.g=d,V=Ti(K,I,!0,g)&&V,V=Ti(K,I,!1,g)&&V,v)for(F=0;F<v.length;F++)K=g.g=v[F],V=Ti(K,I,!1,g)&&V}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var v=d.g[g],I=0;I<v.length;I++)Ot(v[I]);delete d.g[g],d.h--}}this.F=null},ot.prototype.K=function(d,g,v,I){return this.i.add(String(d),g,!1,v,I)},ot.prototype.L=function(d,g,v,I){return this.i.add(String(d),g,!0,v,I)};function Ti(d,g,v,I){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,F=0;F<g.length;++F){var K=g[F];if(K&&!K.da&&K.capture==v){var Ae=K.listener,Et=K.ha||K.src;K.fa&&Nn(d.i,K),V=Ae.call(Et,I)!==!1&&V}}return V&&!I.defaultPrevented}function cu(d,g,v){if(typeof d=="function")v&&(d=m(d,v));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:l.setTimeout(d,g||0)}function uu(d){d.g=cu(()=>{d.g=null,d.i&&(d.i=!1,uu(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Yf extends se{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(d){se.call(this),this.h=d,this.g={}}y(Bs,se);var z=[];function Q(d){O(d.g,function(g,v){this.g.hasOwnProperty(v)&&sn(g)},d),d.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Q(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=l.JSON.stringify,Pe=l.JSON.parse,We=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function rn(){}rn.prototype.h=null;function zx(d){return d.h||(d.h=d.i())}function Hx(){}var Bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xf(){xe.call(this,"d")}y(Xf,xe);function Jf(){xe.call(this,"c")}y(Jf,xe);var Ei={},qx=null;function du(){return qx=qx||new ot}Ei.La="serverreachability";function Wx(d){xe.call(this,Ei.La,d)}y(Wx,xe);function zo(d){const g=du();Tt(g,new Wx(g))}Ei.STAT_EVENT="statevent";function Gx(d,g){xe.call(this,Ei.STAT_EVENT,d),this.stat=g}y(Gx,xe);function Qt(d){const g=du();Tt(g,new Gx(g,d))}Ei.Ma="timingevent";function Kx(d,g){xe.call(this,Ei.Ma,d),this.size=g}y(Kx,xe);function Ho(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},g)}function qo(){this.g=!0}qo.prototype.xa=function(){this.g=!1};function w4(d,g,v,I,V,F){d.info(function(){if(d.g)if(F)for(var K="",Ae=F.split("&"),Et=0;Et<Ae.length;Et++){var Se=Ae[Et].split("=");if(1<Se.length){var Vt=Se[0];Se=Se[1];var Lt=Vt.split("_");K=2<=Lt.length&&Lt[1]=="type"?K+(Vt+"="+Se+"&"):K+(Vt+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+I+") [attempt "+V+"]: "+g+`
`+v+`
`+K})}function b4(d,g,v,I,V,F,K){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+V+"]: "+g+`
`+v+`
`+F+" "+K})}function Ea(d,g,v,I){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+j4(d,v)+(I?" "+I:"")})}function N4(d,g){d.info(function(){return"TIMEOUT: "+g})}qo.prototype.info=function(){};function j4(d,g){if(!d.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(d=0;d<v.length;d++)if(Array.isArray(v[d])){var I=v[d];if(!(2>I.length)){var V=I[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return we(v)}catch{return g}}var hu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zf;function fu(){}y(fu,rn),fu.prototype.g=function(){return new XMLHttpRequest},fu.prototype.i=function(){return{}},Zf=new fu;function yr(d,g,v,I){this.j=d,this.i=g,this.l=v,this.R=I||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yx}function Yx(){this.i=null,this.g="",this.h=!1}var Xx={},em={};function tm(d,g,v){d.L=1,d.v=yu(zs(g)),d.m=v,d.P=!0,Jx(d,null)}function Jx(d,g){d.F=Date.now(),mu(d),d.A=zs(d.v);var v=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),hv(v.i,"t",I),d.C=0,v=d.j.J,d.h=new Yx,d.g=Cv(d.j,v?g:null,!d.m),0<d.O&&(d.M=new Yf(m(d.Y,d,d.g),d.O)),g=d.U,v=d.g,I=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(z[0]=V.toString()),V=z);for(var F=0;F<V.length;F++){var K=ue(v,V[F],I||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),zo(),w4(d.i,d.u,d.A,d.l,d.R,d.m)}yr.prototype.ca=function(d){d=d.target;const g=this.M;g&&Hs(d)==3?g.j():this.Y(d)},yr.prototype.Y=function(d){try{if(d==this.g)e:{const Lt=Hs(this.g);var g=this.g.Ba();const Ia=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||vv(this.g)))){this.J||Lt!=4||g==7||(g==8||0>=Ia?zo(3):zo(2)),nm(this);var v=this.g.Z();this.X=v;t:if(Zx(this)){var I=vv(this.g);d="";var V=I.length,F=Hs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),Wo(this);var K="";break t}this.h.i=new l.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,d+=this.h.i.decode(I[g],{stream:!(F&&g==V-1)});I.length=0,this.h.g+=d,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=v==200,b4(this.i,this.u,this.A,this.l,this.R,Lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,Et=this.g;if((Ae=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ae)){var Se=Ae;break t}}Se=null}if(v=Se)Ea(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sm(this,v);else{this.o=!1,this.s=3,Qt(12),Si(this),Wo(this);break e}}if(this.P){v=!0;let Jn;for(;!this.J&&this.C<K.length;)if(Jn=_4(this,K),Jn==em){Lt==4&&(this.s=4,Qt(14),v=!1),Ea(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Xx){this.s=4,Qt(15),Ea(this.i,this.l,K,"[Invalid Chunk]"),v=!1;break}else Ea(this.i,this.l,Jn,null),sm(this,Jn);if(Zx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||K.length!=0||this.h.h||(this.s=1,Qt(16),v=!1),this.o=this.o&&v,!v)Ea(this.i,this.l,K,"[Invalid Chunked Response]"),Si(this),Wo(this);else if(0<K.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),cm(Vt),Vt.M=!0,Qt(11))}}else Ea(this.i,this.l,K,null),sm(this,K);Lt==4&&Si(this),this.o&&!this.J&&(Lt==4?Ev(this.j,this):(this.o=!1,mu(this)))}else U4(this.g),v==400&&0<K.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Si(this),Wo(this)}}}catch{}finally{}};function Zx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function _4(d,g){var v=d.C,I=g.indexOf(`
`,v);return I==-1?em:(v=Number(g.substring(v,I)),isNaN(v)?Xx:(I+=1,I+v>g.length?em:(g=g.slice(I,I+v),d.C=I+v,g)))}yr.prototype.cancel=function(){this.J=!0,Si(this)};function mu(d){d.S=Date.now()+d.I,ev(d,d.I)}function ev(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ho(m(d.ba,d),g)}function nm(d){d.B&&(l.clearTimeout(d.B),d.B=null)}yr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(N4(this.i,this.A),this.L!=2&&(zo(),Qt(17)),Si(this),this.s=2,Wo(this)):ev(this,this.S-d)};function Wo(d){d.j.G==0||d.J||Ev(d.j,d)}function Si(d){nm(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Q(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function sm(d,g){try{var v=d.j;if(v.G!=0&&(v.g==d||rm(v.h,d))){if(!d.K&&rm(v.h,d)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var V=I;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<d.F)ju(v),bu(v);else break e;lm(v),Qt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ho(m(v.Za,v),6e3));if(1>=sv(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ii(v,11)}else if((d.K||v.g==d)&&ju(v),!b(g))for(V=v.Da.g.parse(g),g=0;g<V.length;g++){let Se=V[g];if(v.T=Se[0],Se=Se[1],v.G==2)if(Se[0]=="c"){v.K=Se[1],v.ia=Se[2];const Vt=Se[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Lt=Se[4];Lt!=null&&(v.Aa=Lt,v.j.info("SVER="+v.Aa));const Ia=Se[5];Ia!=null&&typeof Ia=="number"&&0<Ia&&(I=1.5*Ia,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Jn=d.g;if(Jn){const Tu=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var F=I.h;F.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(im(F,F.h),F.h=null))}if(I.D){const um=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;um&&(I.ya=um,Ve(I.I,I.D,um))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-d.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var K=d;if(I.qa=Iv(I,I.J?I.ia:null,I.W),K.K){rv(I.h,K);var Ae=K,Et=I.L;Et&&(Ae.I=Et),Ae.B&&(nm(Ae),mu(Ae)),I.g=K}else _v(I);0<v.i.length&&Nu(v)}else Se[0]!="stop"&&Se[0]!="close"||Ii(v,7);else v.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Ii(v,7):om(v):Se[0]!="noop"&&v.l&&v.l.ta(Se),v.v=0)}}zo(4)}catch{}}var T4=class{constructor(d,g){this.g=d,this.map=g}};function tv(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nv(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function sv(d){return d.h?1:d.g?d.g.size:0}function rm(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function im(d,g){d.g?d.g.add(g):d.h=g}function rv(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}tv.prototype.cancel=function(){if(this.i=iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function iv(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const v of d.g.values())g=g.concat(v.D);return g}return N(d.i)}function E4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],v=d.length,I=0;I<v;I++)g.push(d[I]);return g}g=[],v=0;for(I in d)g[v++]=d[I];return g}function S4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var v=0;v<d;v++)g.push(v);return g}g=[],v=0;for(const I in d)g[v++]=I;return g}}}function av(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var v=S4(d),I=E4(d),V=I.length,F=0;F<V;F++)g.call(void 0,I[F],v&&v[F],d)}var ov=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k4(d,g){if(d){d=d.split("&");for(var v=0;v<d.length;v++){var I=d[v].indexOf("="),V=null;if(0<=I){var F=d[v].substring(0,I);V=d[v].substring(I+1)}else F=d[v];g(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ki(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ki){this.h=d.h,pu(this,d.j),this.o=d.o,this.g=d.g,gu(this,d.s),this.l=d.l;var g=d.i,v=new Qo;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),lv(this,v),this.m=d.m}else d&&(g=String(d).match(ov))?(this.h=!1,pu(this,g[1]||"",!0),this.o=Go(g[2]||""),this.g=Go(g[3]||"",!0),gu(this,g[4]),this.l=Go(g[5]||"",!0),lv(this,g[6]||"",!0),this.m=Go(g[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}ki.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Ko(g,cv,!0),":");var v=this.g;return(v||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Ko(g,cv,!0),"@"),d.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&d.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Ko(v,v.charAt(0)=="/"?A4:C4,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Ko(v,R4)),d.join("")};function zs(d){return new ki(d)}function pu(d,g,v){d.j=v?Go(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function gu(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function lv(d,g,v){g instanceof Qo?(d.i=g,D4(d.i,d.h)):(v||(g=Ko(g,P4)),d.i=new Qo(g,d.h))}function Ve(d,g,v){d.i.set(g,v)}function yu(d){return Ve(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Go(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ko(d,g,v){return typeof d=="string"?(d=encodeURI(d).replace(g,I4),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function I4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var cv=/[#\/\?@]/g,C4=/[#\?:]/g,A4=/[#\?]/g,P4=/[#\?@]/g,R4=/#/g;function Qo(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function xr(d){d.g||(d.g=new Map,d.h=0,d.i&&k4(d.i,function(g,v){d.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}t=Qo.prototype,t.add=function(d,g){xr(this),this.i=null,d=Sa(this,d);var v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(g),this.h+=1,this};function uv(d,g){xr(d),g=Sa(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function dv(d,g){return xr(d),g=Sa(d,g),d.g.has(g)}t.forEach=function(d,g){xr(this),this.g.forEach(function(v,I){v.forEach(function(V){d.call(g,V,I,this)},this)},this)},t.na=function(){xr(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const V=d[I];for(let F=0;F<V.length;F++)v.push(g[I])}return v},t.V=function(d){xr(this);let g=[];if(typeof d=="string")dv(this,d)&&(g=g.concat(this.g.get(Sa(this,d))));else{d=Array.from(this.g.values());for(let v=0;v<d.length;v++)g=g.concat(d[v])}return g},t.set=function(d,g){return xr(this),this.i=null,d=Sa(this,d),dv(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function hv(d,g,v){uv(d,g),0<v.length&&(d.i=null,d.g.set(Sa(d,g),N(v)),d.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const F=encodeURIComponent(String(I)),K=this.V(I);for(I=0;I<K.length;I++){var V=F;K[I]!==""&&(V+="="+encodeURIComponent(String(K[I]))),d.push(V)}}return this.i=d.join("&")};function Sa(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function D4(d,g){g&&!d.j&&(xr(d),d.i=null,d.g.forEach(function(v,I){var V=I.toLowerCase();I!=V&&(uv(this,I),hv(this,V,v))},d)),d.j=g}function $4(d,g){const v=new qo;if(l.Image){const I=new Image;I.onload=p(vr,v,"TestLoadImage: loaded",!0,g,I),I.onerror=p(vr,v,"TestLoadImage: error",!1,g,I),I.onabort=p(vr,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=p(vr,v,"TestLoadImage: timeout",!1,g,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else g(!1)}function O4(d,g){const v=new qo,I=new AbortController,V=setTimeout(()=>{I.abort(),vr(v,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:I.signal}).then(F=>{clearTimeout(V),F.ok?vr(v,"TestPingServer: ok",!0,g):vr(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),vr(v,"TestPingServer: error",!1,g)})}function vr(d,g,v,I,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),I(v)}catch{}}function V4(){this.g=new We}function L4(d,g,v){const I=v||"";try{av(d,function(V,F){let K=V;u(V)&&(K=we(V)),g.push(I+F+"="+encodeURIComponent(K))})}catch(V){throw g.push(I+"type="+encodeURIComponent("_badmap")),V}}function xu(d){this.l=d.Ub||null,this.j=d.eb||!1}y(xu,rn),xu.prototype.g=function(){return new vu(this.l,this.j)},xu.prototype.i=function(d){return function(){return d}}({});function vu(d,g){ot.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(vu,ot),t=vu.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Xo(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||l).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fv(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function fv(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Yo(this):Xo(this),this.readyState==3&&fv(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Yo(this))},t.Qa=function(d){this.g&&(this.response=d,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xo(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=g.next();return d.join(`\r
`)};function Xo(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function mv(d){let g="";return O(d,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function am(d,g,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=mv(v),typeof d=="string"?v!=null&&encodeURIComponent(String(v)):Ve(d,g,v))}function tt(d){ot.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(tt,ot);var M4=/^https?$/i,F4=["POST","PUT"];t=tt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zf.g(),this.v=this.o?zx(this.o):zx(Zf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(F){pv(this,F);return}if(d=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var V in I)v.set(V,I[V]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())v.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),V=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(F4,g,void 0))||I||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of v)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xv(this),this.u=!0,this.g.send(d),this.u=!1}catch(F){pv(this,F)}};function pv(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,gv(d),wu(d)}function gv(d){d.A||(d.A=!0,Tt(d,"complete"),Tt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Tt(this,"complete"),Tt(this,"abort"),wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wu(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yv(this):this.bb())},t.bb=function(){yv(this)};function yv(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Hs(d)!=4||d.Z()!=2)){if(d.u&&Hs(d)==4)cu(d.Ea,0,d);else if(Tt(d,"readystatechange"),Hs(d)==4){d.h=!1;try{const K=d.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var I;if(I=K===0){var V=String(d.D).match(ov)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),I=!M4.test(V?V.toLowerCase():"")}v=I}if(v)Tt(d,"complete"),Tt(d,"success");else{d.m=6;try{var F=2<Hs(d)?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.Z()+"]",gv(d)}}finally{wu(d)}}}}function wu(d,g){if(d.g){xv(d);const v=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Tt(d,"ready");try{v.onreadystatechange=I}catch{}}}function xv(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Hs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Hs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Pe(g)}};function vv(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function U4(d){const g={};d=(d.g&&2<=Hs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(b(d[I]))continue;var v=$(d[I]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[V]||[];g[V]=F,F.push(v)}E(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(d,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||g}function wv(d){this.Aa=0,this.i=[],this.j=new qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,d),this.cb=Jo("retryDelaySeedMs",1e4,d),this.Wa=Jo("forwardChannelMaxRetries",2,d),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new tv(d&&d.concurrentRequestLimit),this.Da=new V4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wv.prototype,t.la=8,t.G=1,t.connect=function(d,g,v,I){Qt(0),this.W=d,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Iv(this,null,this.W),Nu(this)};function om(d){if(bv(d),d.G==3){var g=d.U++,v=zs(d.I);if(Ve(v,"SID",d.K),Ve(v,"RID",g),Ve(v,"TYPE","terminate"),Zo(d,v),g=new yr(d,d.j,g),g.L=2,g.v=yu(zs(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=g.v,v=!0),v||(g.g=Cv(g.j,null),g.g.ea(g.v)),g.F=Date.now(),mu(g)}kv(d)}function bu(d){d.g&&(cm(d),d.g.cancel(),d.g=null)}function bv(d){bu(d),d.u&&(l.clearTimeout(d.u),d.u=null),ju(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function Nu(d){if(!nv(d.h)&&!d.s){d.s=!0;var g=d.Ga;re||M(),q||(re(),q=!0),Y.add(g,d),d.B=0}}function B4(d,g){return sv(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ho(m(d.Ga,d,g),Sv(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new yr(this,this.j,d);let F=this.o;if(this.S&&(F?(F=w(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=jv(this,V,g),v=zs(this.I),Ve(v,"RID",d),Ve(v,"CVER",22),this.D&&Ve(v,"X-HTTP-Session-Id",this.D),Zo(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(mv(F)))+"&"+g:this.m&&am(v,this.m,F)),im(this.h,V),this.Ua&&Ve(v,"TYPE","init"),this.P?(Ve(v,"$req",g),Ve(v,"SID","null"),V.T=!0,tm(V,v,null)):tm(V,v,g),this.G=2}}else this.G==3&&(d?Nv(this,d):this.i.length==0||nv(this.h)||Nv(this))};function Nv(d,g){var v;g?v=g.l:v=d.U++;const I=zs(d.I);Ve(I,"SID",d.K),Ve(I,"RID",v),Ve(I,"AID",d.T),Zo(d,I),d.m&&d.o&&am(I,d.m,d.o),v=new yr(d,d.j,v,d.B+1),d.m===null&&(v.H=d.o),g&&(d.i=g.D.concat(d.i)),g=jv(d,v,1e3),v.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),im(d.h,v),tm(v,I,g)}function Zo(d,g){d.H&&O(d.H,function(v,I){Ve(g,I,v)}),d.l&&av({},function(v,I){Ve(g,I,v)})}function jv(d,g,v){v=Math.min(d.i.length,v);var I=d.l?m(d.l.Na,d.l,d):null;e:{var V=d.i;let F=-1;for(;;){const K=["count="+v];F==-1?0<v?(F=V[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let Ae=!0;for(let Et=0;Et<v;Et++){let Se=V[Et].g;const Vt=V[Et].map;if(Se-=F,0>Se)F=Math.max(0,V[Et].g-100),Ae=!1;else try{L4(Vt,K,"req"+Se+"_")}catch{I&&I(Vt)}}if(Ae){I=K.join("&");break e}}}return d=d.i.splice(0,v),g.D=d,I}function _v(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;re||M(),q||(re(),q=!0),Y.add(g,d),d.v=0}}function lm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ho(m(d.Fa,d),Sv(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Tv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ho(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),bu(this),Tv(this))};function cm(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function Tv(d){d.g=new yr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=zs(d.qa);Ve(g,"RID","rpc"),Ve(g,"SID",d.K),Ve(g,"AID",d.T),Ve(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ve(g,"TO",d.ja),Ve(g,"TYPE","xmlhttp"),Zo(d,g),d.m&&d.o&&am(g,d.m,d.o),d.L&&(d.g.I=d.L);var v=d.g;d=d.ia,v.L=1,v.v=yu(zs(g)),v.m=null,v.P=!0,Jx(v,d)}t.Za=function(){this.C!=null&&(this.C=null,bu(this),lm(this),Qt(19))};function ju(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Ev(d,g){var v=null;if(d.g==g){ju(d),cm(d),d.g=null;var I=2}else if(rm(d.h,g))v=g.D,rv(d.h,g),I=1;else return;if(d.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var V=d.B;I=du(),Tt(I,new Kx(I,v)),Nu(d)}else _v(d);else if(V=g.s,V==3||V==0&&0<g.X||!(I==1&&B4(d,g)||I==2&&lm(d)))switch(v&&0<v.length&&(g=d.h,g.i=g.i.concat(v)),V){case 1:Ii(d,5);break;case 4:Ii(d,10);break;case 3:Ii(d,6);break;default:Ii(d,2)}}}function Sv(d,g){let v=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(v*=2),v*g}function Ii(d,g){if(d.j.info("Error code "+g),g==2){var v=m(d.fb,d),I=d.Xa;const V=!I;I=new ki(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||pu(I,"https"),yu(I),V?$4(I.toString(),v):O4(I.toString(),v)}else Qt(2);d.G=0,d.l&&d.l.sa(g),kv(d),bv(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function kv(d){if(d.G=0,d.ka=[],d.l){const g=iv(d.h);(g.length!=0||d.i.length!=0)&&(j(d.ka,g),j(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function Iv(d,g,v){var I=v instanceof ki?zs(v):new ki(v);if(I.g!="")g&&(I.g=g+"."+I.g),gu(I,I.s);else{var V=l.location;I=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var F=new ki(null);I&&pu(F,I),g&&(F.g=g),V&&gu(F,V),v&&(F.l=v),I=F}return v=d.D,g=d.ya,v&&g&&Ve(I,v,g),Ve(I,"VER",d.la),Zo(d,I),I}function Cv(d,g,v){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new tt(new xu({eb:v})):new tt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Av(){}t=Av.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(d,g){return new jn(d,g)};function jn(d,g){ot.call(this),this.g=new wv(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!b(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ka(this)}y(jn,ot),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){om(this.g)},jn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.u&&(v={},v.__data__=we(d),d=v);g.i.push(new T4(g.Ya++,d)),g.G==3&&Nu(g)},jn.prototype.N=function(){this.g.l=null,delete this.j,om(this.g),delete this.g,jn.aa.N.call(this)};function Pv(d){Xf.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const v in g){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}y(Pv,Xf);function Rv(){Jf.call(this),this.status=1}y(Rv,Jf);function ka(d){this.g=d}y(ka,Av),ka.prototype.ua=function(){Tt(this.g,"a")},ka.prototype.ta=function(d){Tt(this.g,new Pv(d))},ka.prototype.sa=function(d){Tt(this.g,new Rv)},ka.prototype.ra=function(){Tt(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,rE=function(){return new _u},sE=function(){return du()},nE=Ei,Ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hu.NO_ERROR=0,hu.TIMEOUT=8,hu.HTTP_ERROR=6,yd=hu,Qx.COMPLETE="complete",tE=Qx,Hx.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",ot.prototype.listen=ot.prototype.K,xl=Hx,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,eE=tt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Ib="@firebase/firestore",Cb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new tf("@firebase/firestore");function Pa(){return aa.logLevel}function ee(t,...e){if(aa.logLevel<=Ne.DEBUG){const n=e.map(vy);aa.debug(`Firestore (${$o}): ${t}`,...n)}}function dr(t,...e){if(aa.logLevel<=Ne.ERROR){const n=e.map(vy);aa.error(`Firestore (${$o}): ${t}`,...n)}}function ni(t,...e){if(aa.logLevel<=Ne.WARN){const n=e.map(vy);aa.warn(`Firestore (${$o}): ${t}`,...n)}}function vy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,iE(t,s,n)}function iE(t,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Ie(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||iE(e,r,s)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class jD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _D{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let a=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new tr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ie(typeof s.accessToken=="string",31837,{l:s}),new aE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class TD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ED{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new TD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const s=a=>{a.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ab(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ab(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=kD(40);for(let a=0;a<r.length;++a)s.length<20&&r[a]<n&&(s+=e.charAt(r[a]%62))}return s}}function ve(t,e){return t<e?-1:t>e?1:0}function jg(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return ve(s,r);{const a=oE(),o=ID(a.encode(Pb(t,n)),a.encode(Pb(e,n)));return o!==0?o:ve(s,r)}}n+=s>65535?2:1}return ve(t.length,e.length)}function Pb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ID(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ve(t[n],e[n]);return ve(t.length,e.length)}function wo(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="__name__";class _s{constructor(e,n,s){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const a=_s.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return ve(e.length,n.length)}static compareSegments(e,n){const s=_s.isNumericId(e),r=_s.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?_s.extractNumericId(e).compare(_s.extractNumericId(n)):jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class Re extends _s{construct(e,n,s){return new Re(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends _s{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return CD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rb}static keyField(){return new Ct([Rb])}static fromServerFormat(e){const n=[];let s="",r=0;const a=()=>{if(s.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(a(),r++)}if(a(),o)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Re.fromString(e))}static fromName(e){return new ie(Re.fromString(e).popFirst(5))}static empty(){return new ie(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AD(t,e,n,s){if(e===!0&&s===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Db(t){if(!ie.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $b(t){if(ie.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function PD(t,e){if(e<=0)throw new J(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wc(t,e){if(!cE(t))throw new J(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${s}' field to equal '${a.value}'`;break}}if(n)throw new J(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=-62135596800,Vb=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Vb);return new Me(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ob)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vb}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wc(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ob;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:ht("string",Me._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Me(0,0))}static max(){return new de(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function RD(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=de.fromTimestamp(s===1e9?new Me(n+1,0):new Me(n,s));return new si(r,ie.empty(),e)}function DD(t){return new si(t.readTime,t.key,gc)}class si{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new si(de.min(),ie.empty(),gc)}static max(){return new si(de.max(),ie.empty(),gc)}}function $D(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==OD)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let r=0,a=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++a,o&&a===r&&n()},c=>s(c))}),o=!0,a===r&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(r=>r?B.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,a)=>{s.push(n.call(this,r,a))}),this.waitFor(s)}static mapArray(e,n){return new B((s,r)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===a&&s(o)},h=>r(h))}})}static doWhile(e,n){return new B((s,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):s()};a()})}}function LD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}lf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function cf(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function MD(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="";function FD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lb(e)),e=UD(t.get(n),e);return Lb(e)}function UD(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case uE:n+="";break;default:n+=a}}return n}function Lb(t){return t+uE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,s,r,a){this.key=e,this.value=n,this.color=s??It.RED,this.left=r??It.EMPTY,this.right=a??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,a){return new It(e??this.key,n??this.value,s??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const a=s(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,s),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,s,r,a){return this}insert(e,n,s){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new xt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hE("Invalid base64 string: "+a):a}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const BD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=BD.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ii(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="server_timestamp",mE="__type__",pE="__previous_value__",gE="__local_write_time__";function Ny(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mE])===null||n===void 0?void 0:n.stringValue)===fE}function uf(t){const e=t.mapValue.fields[pE];return Ny(e)?uf(e):e}function yc(t){const e=ri(t.mapValue.fields[gE].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,s,r,a,o,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const dh="(default)";class xc{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",HD="__max__",Wu={mapValue:{}},xE="__vector__",hh="value";function ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ny(t)?4:WD(t)?9007199254740991:qD(t)?10:11:ce(28295,{value:t})}function Vs(t,e){if(t===e)return!0;const n=ai(t);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const o=ri(r.timestampValue),l=ri(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return ii(r.bytesValue).isEqual(ii(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return rt(r.geoPointValue.latitude)===rt(a.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return rt(r.integerValue)===rt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const o=rt(r.doubleValue),l=rt(a.doubleValue);return o===l?uh(o)===uh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return function(r,a){const o=r.mapValue.fields||{},l=a.mapValue.fields||{};if(Mb(o)!==Mb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Vs(o[c],l[c])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function vc(t,e){return(t.values||[]).find(n=>Vs(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=ai(t),s=ai(e);if(n!==s)return ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=rt(a.integerValue||a.doubleValue),c=rt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Ub(t.timestampValue,e.timestampValue);case 4:return Ub(yc(t),yc(e));case 5:return jg(t.stringValue,e.stringValue);case 6:return function(a,o){const l=ii(a),c=ii(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=ve(l[u],c[u]);if(h!==0)return h}return ve(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ve(rt(a.latitude),rt(o.latitude));return l!==0?l:ve(rt(a.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bb(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,u,h;const f=a.fields||{},m=o.fields||{},p=(l=f[hh])===null||l===void 0?void 0:l.arrayValue,y=(c=m[hh])===null||c===void 0?void 0:c.arrayValue,N=ve(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:Bb(p,y)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Wu.mapValue&&o===Wu.mapValue)return 0;if(a===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=jg(c[f],h[f]);if(m!==0)return m;const p=bo(l[c[f]],u[h[f]]);if(p!==0)return p}return ve(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{le:n})}}function Ub(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=ri(t),s=ri(e),r=ve(n.seconds,s.seconds);return r!==0?r:ve(n.nanos,s.nanos)}function Bb(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const a=bo(n[r],s[r]);if(a)return a}return ve(n.length,s.length)}function No(t){return _g(t)}function _g(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ri(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const a of n.values||[])r?r=!1:s+=",",s+=_g(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const o of s)a?a=!1:r+=",",r+=`${o}:${_g(n.fields[o])}`;return r+"}"}(t.mapValue):ce(61005,{value:t})}function xd(t){switch(ai(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+xd(e):16;case 5:return 2*t.stringValue.length;case 6:return ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,a)=>r+xd(a),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return yi(s.fields,(a,o)=>{r+=a.length+xd(o)}),r}(t.mapValue);default:throw ce(13486,{value:t})}}function zb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tg(t){return!!t&&"integerValue"in t}function jy(t){return!!t&&"arrayValue"in t}function Hb(t){return!!t&&"nullValue"in t}function qb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function qD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yE])===null||n===void 0?void 0:n.stringValue)===xE}function $l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yi(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$l(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Ct.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=$l(o):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,r)}delete(e){const n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];vd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){yi(n,(r,a)=>e[r]=a);for(const r of s)delete e[r]}clone(){return new cn($l(this.value))}}function vE(t){const e=[];return yi(t.fields,(n,s)=>{const r=new Ct([n]);if(vd(s)){const a=vE(s.mapValue).fields;if(a.length===0)e.push(r);else for(const o of a)e.push(r.child(o))}else e.push(r)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,s,r,a,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new qt(e,0,de.min(),de.min(),de.min(),cn.empty(),0)}static newFoundDocument(e,n,s,r){return new qt(e,1,n,de.min(),s,r,0)}static newNoDocument(e,n){return new qt(e,2,n,de.min(),de.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,de.min(),de.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function Wb(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const a=e[r],o=t.position[r];if(a.field.isKeyField()?s=ie.comparator(ie.fromName(o.referenceValue),n.key):s=bo(o,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function GD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE=class{};class dt extends wE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new QD(e,n,s):n==="array-contains"?new JD(e,s):n==="in"?new ZD(e,s):n==="not-in"?new e$(e,s):n==="array-contains-any"?new t$(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new YD(e,s):new XD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends wE{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ps(e,n)}matches(e){return bE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function bE(t){return t.op==="and"}function NE(t){return KD(t)&&bE(t)}function KD(t){for(const e of t.filters)if(e instanceof ps)return!1;return!0}function Eg(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(NE(t))return t.filters.map(e=>Eg(e)).join(",");{const e=t.filters.map(n=>Eg(n)).join(",");return`${t.op}(${e})`}}function jE(t,e){return t instanceof dt?function(s,r){return r instanceof dt&&s.op===r.op&&s.field.isEqual(r.field)&&Vs(s.value,r.value)}(t,e):t instanceof ps?function(s,r){return r instanceof ps&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((a,o,l)=>a&&jE(o,r.filters[l]),!0):!1}(t,e):void ce(19439)}function _E(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof ps?function(n){return n.op.toString()+" {"+n.getFilters().map(_E).join(" ,")+"}"}(t):"Filter"}class QD extends dt{constructor(e,n,s){super(e,n,s),this.key=ie.fromName(s.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class YD extends dt{constructor(e,n){super(e,"in",n),this.keys=TE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XD extends dt{constructor(e,n){super(e,"not-in",n),this.keys=TE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ie.fromName(s.referenceValue))}class JD extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jy(n)&&vc(n.arrayValue,this.value)}}class ZD extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class e$ extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vc(this.value.arrayValue,n)}}class t$ extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n=null,s=[],r=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=a,this.startAt=o,this.endAt=l,this.Pe=null}}function Kb(t,e=null,n=[],s=[],r=null,a=null,o=null){return new n$(t,e,n,s,r,a,o)}function _y(t){const e=he(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Eg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>No(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>No(s)).join(",")),e.Pe=n}return e.Pe}function Ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gb(t.startAt,e.startAt)&&Gb(t.endAt,e.endAt)}function Sg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,s=[],r=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function s$(t,e,n,s,r,a,o,l){return new Lo(t,e,n,s,r,a,o,l)}function Ey(t){return new Lo(t)}function Qb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EE(t){return t.collectionGroup!==null}function Ol(t){const e=he(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new xt(Ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new wc(a,s))}),n.has(Ct.keyField().canonicalString())||e.Te.push(new wc(Ct.keyField(),s))}return e.Te}function As(t){const e=he(t);return e.Ie||(e.Ie=r$(e,Ol(t))),e.Ie}function r$(t,e){if(t.limitType==="F")return Kb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new wc(r.field,a)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return Kb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function kg(t,e){const n=t.filters.concat([e]);return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mh(t,e,n){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return Ty(As(t),As(e))&&t.limitType===e.limitType}function SE(t){return`${_y(As(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>_E(r)).join(", ")}]`),cf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>No(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>No(r)).join(",")),`Target(${s})`}(As(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(s,r){const a=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):ie.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,r){for(const a of Ol(s))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const a of s.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,c){const u=Wb(o,l,c);return o.inclusive?u<=0:u<0}(s.startAt,Ol(s),r)||s.endAt&&!function(o,l,c){const u=Wb(o,l,c);return o.inclusive?u>=0:u>0}(s.endAt,Ol(s),r))}(t,e)}function i$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kE(t){return(e,n)=>{let s=!1;for(const r of Ol(t)){const a=a$(r,e,n);if(a!==0)return a;s=s||r.field.isKeyField()}return 0}}function a$(t,e,n){const s=t.field.isKeyField()?ie.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?bo(c,u):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,a]of s)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(n,s)=>{for(const[r,a]of s)e(r,a)})}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=new Je(ie.comparator);function hr(){return o$}const IE=new Je(ie.comparator);function vl(...t){let e=IE;for(const n of t)e=e.insert(n.key,n);return e}function CE(t){let e=IE;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ui(){return Vl()}function AE(){return Vl()}function Vl(){return new wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const l$=new Je(ie.comparator),c$=new xt(ie.comparator);function je(...t){let e=c$;for(const n of t)e=e.add(n);return e}const u$=new xt(ve);function d$(){return u$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function PE(t){return{integerValue:""+t}}function RE(t,e){return MD(e)?PE(e):Sy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function h$(t,e,n){return t instanceof bc?function(r,a){const o={fields:{[mE]:{stringValue:fE},[gE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Ny(a)&&(a=uf(a)),a&&(o.fields[pE]=a),{mapValue:o}}(n,e):t instanceof Nc?$E(t,e):t instanceof jc?OE(t,e):function(r,a){const o=DE(r,a),l=Yb(o)+Yb(r.Ee);return Tg(o)&&Tg(r.Ee)?PE(l):Sy(r.serializer,l)}(t,e)}function f$(t,e,n){return t instanceof Nc?$E(t,e):t instanceof jc?OE(t,e):n}function DE(t,e){return t instanceof _c?function(s){return Tg(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class bc extends ff{}class Nc extends ff{constructor(e){super(),this.elements=e}}function $E(t,e){const n=VE(e);for(const s of t.elements)n.some(r=>Vs(r,s))||n.push(s);return{arrayValue:{values:n}}}class jc extends ff{constructor(e){super(),this.elements=e}}function OE(t,e){let n=VE(e);for(const s of t.elements)n=n.filter(r=>!Vs(r,s));return{arrayValue:{values:n}}}class _c extends ff{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Yb(t){return rt(t.integerValue||t.doubleValue)}function VE(t){return jy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.field=e,this.transform=n}}function m$(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Nc&&r instanceof Nc||s instanceof jc&&r instanceof jc?wo(s.elements,r.elements,Vs):s instanceof _c&&r instanceof _c?Vs(s.Ee,r.Ee):s instanceof bc&&r instanceof bc}(t.transform,e.transform)}class p${constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mf{}function ME(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ky(t.key,Hn.none()):new Gc(t.key,t.data,Hn.none());{const n=t.data,s=cn.empty();let r=new xt(Ct.comparator);for(let a of e.fields)if(!r.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?s.delete(a):s.set(a,o),r=r.add(a)}return new xi(t.key,s,new Sn(r.toArray()),Hn.none())}}function g$(t,e,n){t instanceof Gc?function(r,a,o){const l=r.value.clone(),c=Jb(r.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof xi?function(r,a,o){if(!wd(r.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Jb(r.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(FE(r)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ll(t,e,n,s){return t instanceof Gc?function(a,o,l,c){if(!wd(a.precondition,o))return l;const u=a.value.clone(),h=Zb(a.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof xi?function(a,o,l,c){if(!wd(a.precondition,o))return l;const u=Zb(a.fieldTransforms,c,o),h=o.data;return h.setAll(FE(a)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(a,o,l){return wd(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function y$(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),a=DE(s.transform,r||null);a!=null&&(n===null&&(n=cn.empty()),n.set(s.field,a))}return n||null}function Xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&wo(s,r,(a,o)=>m$(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gc extends mf{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xi extends mf{constructor(e,n,s,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Jb(t,e,n){const s=new Map;Ie(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let r=0;r<n.length;r++){const a=t[r],o=a.transform,l=e.data.field(a.field);s.set(a.field,f$(o,l,n[r]))}return s}function Zb(t,e,n){const s=new Map;for(const r of t){const a=r.transform,o=n.data.field(r.field);s.set(r.field,h$(a,o,e))}return s}class ky extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x$ extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&g$(a,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=AE();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(r.key)?null:l;const c=ME(o,l);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(de.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,s)=>Xb(n,s))&&wo(this.baseMutations,e.baseMutations,(n,s)=>Xb(n,s))}}class Iy{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ie(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let r=function(){return l$}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,s[o].version);return new Iy(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Te;function N$(t){switch(t){case U.OK:return ce(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function UE(t){if(t===void 0)return dr("GRPC error has no .code"),U.UNKNOWN;switch(t){case lt.OK:return U.OK;case lt.CANCELLED:return U.CANCELLED;case lt.UNKNOWN:return U.UNKNOWN;case lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case lt.INTERNAL:return U.INTERNAL;case lt.UNAVAILABLE:return U.UNAVAILABLE;case lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case lt.NOT_FOUND:return U.NOT_FOUND;case lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case lt.ABORTED:return U.ABORTED;case lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case lt.DATA_LOSS:return U.DATA_LOSS;default:return ce(39323,{code:t})}}(Te=lt||(lt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=new Kr([4294967295,4294967295],0);function e1(t){const e=oE().encode(t),n=new ZT;return n.update(e),new Uint8Array(n.digest())}function t1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Kr([n,s],0),new Kr([r,a],0)]}class Cy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Kr.fromNumber(this.fe)}pe(e,n,s){let r=e.add(n.multiply(Kr.fromNumber(s)));return r.compare(j$)===1&&(r=new Kr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=e1(e),[s,r]=t1(n);for(let a=0;a<this.hashCount;a++){const o=this.pe(s,r,a);if(!this.ye(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Cy(a,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const n=e1(e),[s,r]=t1(n);for(let a=0;a<this.hashCount;a++){const o=this.pe(s,r,a);this.we(o)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,s,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pf(de.min(),r,new Je(ve),hr(),je())}}class Kc{constructor(e,n,s,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Kc(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,s,r){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=r}}class BE{constructor(e,n){this.targetId=e,this.De=n}}class zE{constructor(e,n,s=Dt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class n1{constructor(){this.ve=0,this.Ce=s1(),this.Fe=Dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=je(),n=je(),s=je();return this.Ce.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ce(38017,{changeType:a})}}),new Kc(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=s1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class _${constructor(e){this.We=e,this.Ge=new Map,this.ze=hr(),this.je=Gu(),this.Je=Gu(),this.He=new Je(ve)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,r)=>{this.nt(r)&&n(r)})}it(e){const n=e.targetId,s=e.De.count,r=this.st(n);if(r){const a=r.target;if(Sg(a))if(s===0){const o=new ie(a.path);this.Xe(n,o,qt.newNoDocument(o,de.min()))}else Ie(s===1,20013,{expectedCount:s});else{const o=this.ot(n);if(o!==s){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:a=0}=n;let o,l;try{o=ii(s).toUint8Array()}catch(c){if(c instanceof hE)return ni("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Cy(o,r,a)}catch(c){return ni(c instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let r=0;return s.forEach(a=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,a,null),r++)}),r}Pt(e){const n=new Map;this.Ge.forEach((a,o)=>{const l=this.st(o);if(l){if(a.current&&Sg(l.target)){const c=new ie(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,qt.newNoDocument(c,e))}a.Ne&&(n.set(o,a.Le()),a.ke())}});let s=je();this.Je.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.ze.forEach((a,o)=>o.setReadTime(e));const r=new pf(e,n,this.He,this.ze,s);return this.ze=hr(),this.je=Gu(),this.Je=Gu(),this.He=new Je(ve),r}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const r=this.tt(e);this.It(e,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new n1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new xt(ve),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new xt(ve),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new n1),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Gu(){return new Je(ie.comparator)}function s1(){return new Je(ie.comparator)}const T$={asc:"ASCENDING",desc:"DESCENDING"},E$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S$={and:"AND",or:"OR"};class k${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ig(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function ph(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I$(t,e){return ph(t,e.toTimestamp())}function Ps(t){return Ie(!!t,49232),de.fromTimestamp(function(n){const s=ri(n);return new Me(s.seconds,s.nanos)}(t))}function Ay(t,e){return Cg(t,e).canonicalString()}function Cg(t,e){const n=function(r){return new Re(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qE(t){const e=Re.fromString(t);return Ie(YE(e),10190,{key:e.toString()}),e}function Ag(t,e){return Ay(t.databaseId,e.path)}function qm(t,e){const n=qE(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(GE(n))}function WE(t,e){return Ay(t.databaseId,e)}function C$(t){const e=qE(t);return e.length===4?Re.emptyPath():GE(e)}function Pg(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GE(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r1(t,e,n){return{name:Ag(t,e),fields:n.value.mapValue.fields}}function A$(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(u,h){return u.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),Dt.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?U.UNKNOWN:UE(u.code);return new J(h,u.message||"")}(o);n=new zE(s,r,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=qm(t,s.document.name),a=Ps(s.document.updateTime),o=s.document.createTime?Ps(s.document.createTime):de.min(),l=new cn({mapValue:{fields:s.document.fields}}),c=qt.newFoundDocument(r,a,o,l),u=s.targetIds||[],h=s.removedTargetIds||[];n=new bd(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=qm(t,s.document),a=s.readTime?Ps(s.readTime):de.min(),o=qt.newNoDocument(r,a),l=s.removedTargetIds||[];n=new bd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=qm(t,s.document),a=s.removedTargetIds||[];n=new bd([],a,r,null)}else{if(!("filter"in e))return ce(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:a}=s,o=new b$(r,a),l=s.targetId;n=new BE(l,o)}}return n}function P$(t,e){let n;if(e instanceof Gc)n={update:r1(t,e.key,e.value)};else if(e instanceof ky)n={delete:Ag(t,e.key)};else if(e instanceof xi)n={update:r1(t,e.key,e.data),updateMask:U$(e.fieldMask)};else{if(!(e instanceof x$))return ce(16599,{Rt:e.type});n={verify:Ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Nc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _c)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw ce(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:I$(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ce(27497)}(t,e.precondition)),n}function R$(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(r,a){let o=r.updateTime?Ps(r.updateTime):Ps(a);return o.isEqual(de.min())&&(o=Ps(a)),new p$(o,r.transformResults||[])}(n,e))):[]}function D$(t,e){return{documents:[WE(t,e.path)]}}function $$(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WE(t,r);const a=function(u){if(u.length!==0)return QE(ps.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Da(m.field),direction:L$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Ig(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:r}}function O$(t){let e=C$(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ie(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(f){const m=KE(f);return m instanceof ps&&NE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(y){return new wc($a(y.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,cf(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new fh(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new fh(p,m)}(n.endAt)),s$(e,r,o,a,l,"F",c,u)}function V$(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=$a(n.unaryFilter.field);return dt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$a(n.unaryFilter.field);return dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$a(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return dt.create($a(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ps.create(n.compositeFilter.filters.map(s=>KE(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function L$(t){return T$[t]}function M$(t){return E$[t]}function F$(t){return S$[t]}function Da(t){return{fieldPath:t.canonicalString()}}function $a(t){return Ct.fromServerFormat(t.fieldPath)}function QE(t){return t instanceof dt?function(n){if(n.op==="=="){if(qb(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NAN"}};if(Hb(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qb(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NAN"}};if(Hb(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(n.field),op:M$(n.op),value:n.value}}}(t):t instanceof ps?function(n){const s=n.getFilters().map(r=>QE(r));return s.length===1?s[0]:{compositeFilter:{op:F$(n.op),filters:s}}}(t):ce(54877,{filter:t})}function U$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,s,r,a=de.min(),o=de.min(),l=Dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.gt=e}}function z$(t){const e=O$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.Dn=new q$}addToCollectionParentIndex(e,n){return this.Dn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(si.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class q${constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new xt(Re.comparator),a=!r.has(s);return this.index[n]=r.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new xt(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(XE,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new jo(0)}static ur(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="LruGarbageCollector",W$=1048576;function o1([t,e],[n,s]){const r=ve(t,n);return r===0?ve(e,s):r}class G${constructor(e){this.Tr=e,this.buffer=new xt(o1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();o1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K${constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ee(a1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?ee(a1,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Rr(3e5)})}}class Q${constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(lf.ue);const s=new G$(n);return this.Vr.forEachTarget(e,r=>s.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>s.Er(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(i1)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,r,a,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,l=Date.now(),this.removeTargets(e,s,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(u=Date.now(),Pa()<=Ne.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:f})))}}function Y$(t,e){return new Q$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.changes=new wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Ll(s.mutation,r,Sn.empty(),Me.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(a=>{let o=vl();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Ui();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const r=[];return s.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let a=hr();const o=Vl(),l=function(){return Vl()}();return n.forEach((c,u)=>{const h=s.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof xi)?a=a.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ll(h.mutation,u,h.mutation.getFieldMask(),Me.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return l.set(u,new J$(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const s=Vl();let r=new Je((o,l)=>o-l),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=s.get(c)||Sn.empty();h=l.applyToLocalView(u,h),s.set(c,h);const f=(r.get(l.batchId)||je()).add(c);r=r.insert(l.batchId,f)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=AE();h.forEach(m=>{if(!a.has(m)){const p=ME(n.get(m),s.get(m));p!==null&&f.set(m,p),a=a.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return B.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-a.size):B.resolve(Ui());let l=gc,c=a;return o.next(u=>B.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,je())).next(h=>({batchId:l,changes:CE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(s=>{let r=vl();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const a=n.collectionGroup;let o=vl();return this.indexManager.getCollectionParents(e,a).next(l=>B.forEach(l,c=>{const u=function(f,m){return new Lo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,r))).next(o=>{a.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,qt.newInvalidDocument(h)))});let l=vl();return o.forEach((c,u)=>{const h=a.get(c);h!==void 0&&Ll(h.mutation,u,Sn.empty(),Me.now()),hf(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return B.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ps(r.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(r){return{name:r.name,query:z$(r.bundledQuery),readTime:Ps(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.overlays=new Je(ie.comparator),this.kr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ui();return B.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&s.set(r,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,a)=>{this.wt(e,n,a)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.kr.get(s);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const r=Ui(),a=n.length+1,o=new ie(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>s&&r.set(c.getKey(),c)}return B.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let a=new Je((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let h=a.get(u.largestBatchId);h===null&&(h=Ui(),a=a.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Ui(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=r)););return B.resolve(l)}wt(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.kr.get(r.largestBatchId).delete(s.key);this.kr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new w$(n,s));let a=this.kr.get(n);a===void 0&&(a=je(),this.kr.set(n,a)),this.kr.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.qr=new xt(vt.Qr),this.$r=new xt(vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new vt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new vt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ie(new Re([])),s=new vt(n,e),r=new vt(n,e+1),a=[];return this.$r.forEachInRange([s,r],o=>{this.Wr(o),a.push(o.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ie(new Re([])),s=new vt(n,e),r=new vt(n,e+1);let a=je();return this.$r.forEachInRange([s,r],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new vt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ie.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xt(vt.Qr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new v$(a,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Yr=this.Yr.add(new vt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Xr(s),a=r<0?0:r;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?by:this.er-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vt(n,0),r=new vt(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([s,r],o=>{const l=this.Zr(o.Hr);a.push(l)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(ve);return n.forEach(r=>{const a=new vt(r,0),o=new vt(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,o],l=>{s=s.add(l.Hr)})}),B.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let a=s;ie.isDocumentKey(a)||(a=a.child(""));const o=new vt(new ie(a),0);let l=new xt(ve);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Hr)),!0)},o),B.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(s=>{const r=this.Zr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ie(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return B.forEach(n.mutations,r=>{const a=new vt(r.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new vt(n,0),r=this.Yr.firstAfterOrEqual(s);return B.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.ni=e,this.docs=function(){return new Je(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),a=r?r.size:0,o=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach(r=>{const a=this.docs.get(r);s=s.insert(r,a?a.document.mutableCopy():qt.newInvalidDocument(r))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let a=hr();const o=n.path,l=new ie(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$D(DD(h),s)<=0||(r.has(h.key)||hf(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(e,n,s,r){ce(9500)}ri(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new iO(this)}getSize(e){return B.resolve(this.size)}}class iO extends X${constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(e,r)):this.Or.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.persistence=e,this.ii=new wa(n=>_y(n),Ty),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.si=0,this.oi=new Py,this.targetCount=0,this._i=jo.ar()}forEachTarget(e,n){return this.ii.forEach((s,r)=>n(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),B.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.hr(n),B.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let r=0;const a=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),B.waitFor(a).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(o=>{a.push(r.markPotentiallyOrphaned(e,o))}),B.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.ai={},this.overlays={},this.ui=new lf(0),this.ci=!1,this.ci=!0,this.li=new nO,this.referenceDelegate=e(this),this.hi=new aO(this),this.indexManager=new H$,this.remoteDocumentCache=function(r){return new rO(r)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new B$(n),this.Ti=new eO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new sO(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ee("MemoryPersistence","Starting transaction:",e);const r=new oO(this.ui.next());return this.referenceDelegate.Ii(),s(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ei(e,n){return B.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class oO extends VD{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Ai=new Py,this.Ri=null}static Vi(e){return new Ry(e)}get mi(){if(this.Ri)return this.Ri;throw ce(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(r=>this.mi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.mi.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.mi,s=>{const r=ie.fromPath(s);return this.fi(e,r).next(a=>{a||n.removeEntry(r,de.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return B.or([()=>B.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.gi=new wa(s=>FD(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=Y$(this,n)}static Vi(e,n){return new gh(e,n)}Ii(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return B.forEach(this.gi,(s,r)=>this.Sr(e,s,r).next(a=>a?B.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ri(e,o=>this.Sr(e,o,n).next(l=>{l||(s++,a.removeEntry(o,de.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}Sr(e,n,s){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.gi.get(n);return B.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=r}static Es(e,n){let s=je(),r=je();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Dy(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return C5()?8:LD(Kt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,r){const a={result:null};return this.ps(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ys(e,n,r,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new lO;return this.ws(e,n,o).next(l=>{if(a.result=l,this.Rs)return this.Ss(e,n,o,l.size)})}).next(()=>a.result)}Ss(e,n,s,r){return s.documentReadCount<this.Vs?(Pa()<=Ne.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(Pa()<=Ne.DEBUG&&ee("QueryEngine","Query:",Ra(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.fs*r?(Pa()<=Ne.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):B.resolve())}ps(e,n){if(Qb(n))return B.resolve(null);let s=As(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=mh(n,null,"F"),s=As(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=je(...a);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.bs(n,l);return this.Ds(n,u,o,c.readTime)?this.ps(e,mh(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,s,r){return Qb(n)||r.isEqual(de.min())?B.resolve(null):this.gs.getDocuments(e,s).next(a=>{const o=this.bs(n,a);return this.Ds(n,o,s,r)?B.resolve(null):(Pa()<=Ne.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ra(n)),this.vs(e,o,n,RD(r,gc)).next(l=>l))})}bs(e,n){let s=new xt(kE(e));return n.forEach((r,a)=>{hf(e,a)&&(s=s.add(a))}),s}Ds(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ws(e,n,s){return Pa()<=Ne.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.gs.getDocumentsMatchingQuery(e,n,si.min(),s)}vs(e,n,s,r){return this.gs.getDocumentsMatchingQuery(e,s,r).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="LocalStore",uO=3e8;class dO{constructor(e,n,s,r){this.persistence=e,this.Cs=n,this.serializer=r,this.Fs=new Je(ve),this.Ms=new wa(a=>_y(a),Ty),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z$(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function hO(t,e,n,s){return new dO(t,e,n,s)}async function ZE(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(a=>(r=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let c=je();for(const u of r){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of a){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:l}))})})}function fO(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let p=B.resolve();return m.forEach(y=>{p=p.next(()=>h.getEntry(c,y)).next(N=>{const j=u.docVersions.get(y);Ie(j!==null,48541),N.version.compareTo(j)<0&&(f.applyToRemoteDocument(N,u),N.isValidDocument()&&(N.setReadTime(u.commitVersion),h.addEntry(N)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=je();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function eS(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function mO(t,e){const n=he(t),s=e.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const m=r.get(f);if(!m)return;l.push(n.hi.removeMatchingKeys(a,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(a,h.addedDocuments,f)));let p=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Dt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,s)),r=r.insert(f,p),function(N,j,_){return N.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=uO?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,p,h)&&l.push(n.hi.updateTargetData(a,p))});let c=hr(),u=je();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(pO(a,o,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!s.isEqual(de.min())){const h=n.hi.getLastRemoteSnapshotVersion(a).next(f=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(h)}return B.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.Fs=r,a))}function pO(t,e,n){let s=je(),r=je();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=hr();return n.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(de.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ee($y,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:r}})}function gO(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=by),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function yO(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.hi.getTargetData(s,e).next(a=>a?(r=a,B.resolve(r)):n.hi.allocateTargetId(s).next(o=>(r=new Vr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Fs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Rg(t,e,n){const s=he(t),r=s.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Vo(o))throw o;ee($y,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(r.target)}function l1(t,e,n){const s=he(t);let r=de.min(),a=je();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=he(c),m=f.Ms.get(h);return m!==void 0?B.resolve(f.Fs.get(m)):f.hi.getTargetData(u,h)}(s,o,As(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>s.Cs.getDocumentsMatchingQuery(o,e,n?r:de.min(),n?a:je())).next(l=>(xO(s,i$(e),l),{documents:l,qs:a})))}function xO(t,e,n){let s=t.xs.get(e)||de.min();n.forEach((r,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.xs.set(e,s)}class c1{constructor(){this.activeTargetIds=d$()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vO{constructor(){this.Fo=new c1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new c1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="ConnectivityMonitor";class d1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ee(u1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ee(u1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Dg(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",bO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${r}`,this.Ko=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Wo(e,n,s,r,a){const o=Dg(),l=this.Go(e,n.toUriEncodedString());ee(Wm,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,r,a);const{host:u}=new URL(l),h=ga(u);return this.jo(e,l,c,s,h).then(f=>(ee(Wm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ni(Wm,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",s),f})}Jo(e,n,s,r,a,o){return this.Wo(e,n,s,r,a)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),s&&s.headers.forEach((r,a)=>e[a]=r)}Go(e,n){const s=bO[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class _O extends NO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,r,a){const o=Dg();return new Promise((l,c)=>{const u=new eE;u.setWithCredentials(!0),u.listenOnce(tE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yd.NO_ERROR:const f=u.getResponseJson();ee(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case yd.TIMEOUT:ee(Ut,`RPC '${e}' ${o} timed out`),c(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const m=u.getStatus();if(ee(Ut,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const N=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(b)>=0?b:U.UNKNOWN}(y.status);c(new J(N,y.message))}else c(new J(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(U.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{ee(Ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);ee(Ut,`RPC '${e}' ${o} sending request:`,r),u.send(n,"POST",h,s,15)})}P_(e,n,s){const r=Dg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rE(),l=sE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=a.join("");ee(Ut,`Creating RPC '${e}' stream ${r}: ${h}`,c);const f=o.createWebChannel(h,c);this.T_(f);let m=!1,p=!1;const y=new jO({Ho:j=>{p?ee(Ut,`Not sending because RPC '${e}' stream ${r} is closed:`,j):(m||(ee(Ut,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),ee(Ut,`RPC '${e}' stream ${r} sending:`,j),f.send(j))},Yo:()=>f.close()}),N=(j,_,b)=>{j.listen(_,x=>{try{b(x)}catch(C){setTimeout(()=>{throw C},0)}})};return N(f,xl.EventType.OPEN,()=>{p||(ee(Ut,`RPC '${e}' stream ${r} transport opened.`),y.s_())}),N(f,xl.EventType.CLOSE,()=>{p||(p=!0,ee(Ut,`RPC '${e}' stream ${r} transport closed`),y.__(),this.I_(f))}),N(f,xl.EventType.ERROR,j=>{p||(p=!0,ni(Ut,`RPC '${e}' stream ${r} transport errored. Name:`,j.name,"Message:",j.message),y.__(new J(U.UNAVAILABLE,"The operation could not be completed")))}),N(f,xl.EventType.MESSAGE,j=>{var _;if(!p){const b=j.data[0];Ie(!!b,16349);const x=b,C=(x==null?void 0:x.error)||((_=x[0])===null||_===void 0?void 0:_.error);if(C){ee(Ut,`RPC '${e}' stream ${r} received error:`,C);const R=C.status;let O=function(k){const A=lt[k];if(A!==void 0)return UE(A)}(R),E=C.message;O===void 0&&(O=U.INTERNAL,E="Unknown error status: "+R+" with message "+C.message),p=!0,y.__(new J(O,E)),f.close()}else ee(Ut,`RPC '${e}' stream ${r} received:`,b),y.a_(b)}}),N(l,nE.STAT_EVENT,j=>{j.stat===Ng.PROXY?ee(Ut,`RPC '${e}' stream ${r} detected buffering proxy`):j.stat===Ng.NOPROXY&&ee(Ut,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return new k$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,s=1e3,r=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-s);r>0&&ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="PersistentStream";class nS{constructor(e,n,s,r,a,o,l,c){this.Fi=e,this.w_=s,this.S_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new tS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.b_===n&&this.W_(s,r)},s=>{e(()=>{const r=new J(U.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(r)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{s(()=>this.G_(r))}),this.stream.onMessage(r=>{s(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ee(h1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ee(h1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TO extends nS{constructor(e,n,s,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=A$(this.serializer,e),s=function(a){if(!("targetChange"in a))return de.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Ps(o.readTime):de.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Pg(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=Sg(c)?{documents:D$(a,c)}:{query:$$(a,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=HE(a,o.resumeToken);const u=Ig(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){l.readTime=ph(a,o.snapshotVersion.toTimestamp());const u=Ig(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=V$(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Pg(this.serializer),n.removeTarget=e,this.k_(n)}}class EO extends nS{constructor(e,n,s,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=R$(e.writeResults,e.commitTime),s=Ps(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Pg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>P$(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{}class kO extends SO{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(e,Cg(n,s),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(U.UNKNOWN,a.toString())})}Jo(e,n,s,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,Cg(n,s),r,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class IO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(dr(n),this._a=!1):ee("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class CO{constructor(e,n,s,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(o=>{s.enqueueAndForget(async()=>{ba(this)&&(ee(oa,"Restarting streams for network reachability change."),await async function(c){const u=he(c);u.Ia.add(4),await Qc(u),u.Aa.set("Unknown"),u.Ia.delete(4),await yf(u)}(this))})}),this.Aa=new IO(s,r)}}async function yf(t){if(ba(t))for(const e of t.da)await e(!0)}async function Qc(t){for(const e of t.da)await e(!1)}function sS(t,e){const n=he(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),My(n)?Ly(n):Mo(n).x_()&&Vy(n,e))}function Oy(t,e){const n=he(t),s=Mo(n);n.Ta.delete(e),s.x_()&&rS(n,e),n.Ta.size===0&&(s.x_()?s.B_():ba(n)&&n.Aa.set("Unknown"))}function Vy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).H_(e)}function rS(t,e){t.Ra.$e(e),Mo(t).Y_(e)}function Ly(t){t.Ra=new _$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.Aa.aa()}function My(t){return ba(t)&&!Mo(t).M_()&&t.Ta.size>0}function ba(t){return he(t).Ia.size===0}function iS(t){t.Ra=void 0}async function AO(t){t.Aa.set("Online")}async function PO(t){t.Ta.forEach((e,n)=>{Vy(t,e)})}async function RO(t,e){iS(t),My(t)?(t.Aa.la(e),Ly(t)):t.Aa.set("Unknown")}async function DO(t,e,n){if(t.Aa.set("Online"),e instanceof zE&&e.state===2&&e.cause)try{await async function(r,a){const o=a.cause;for(const l of a.targetIds)r.Ta.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ta.delete(l),r.Ra.removeTarget(l))}(t,e)}catch(s){ee(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yh(t,s)}else if(e instanceof bd?t.Ra.Ye(e):e instanceof BE?t.Ra.it(e):t.Ra.et(e),!n.isEqual(de.min()))try{const s=await eS(t.localStore);n.compareTo(s)>=0&&await function(a,o){const l=a.Ra.Pt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ta.get(u);h&&a.Ta.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=a.Ta.get(c);if(!h)return;a.Ta.set(c,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),rS(a,c);const f=new Vr(h.target,c,u,h.sequenceNumber);Vy(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){ee(oa,"Failed to raise snapshot:",s),await yh(t,s)}}async function yh(t,e,n){if(!Vo(e))throw e;t.Ia.add(1),await Qc(t),t.Aa.set("Offline"),n||(n=()=>eS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(oa,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await yf(t)})}function aS(t,e){return e().catch(n=>yh(t,n,e))}async function xf(t){const e=he(t),n=oi(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:by;for(;$O(e);)try{const r=await gO(e.localStore,s);if(r===null){e.Pa.length===0&&n.B_();break}s=r.batchId,OO(e,r)}catch(r){await yh(e,r)}oS(e)&&lS(e)}function $O(t){return ba(t)&&t.Pa.length<10}function OO(t,e){t.Pa.push(e);const n=oi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function oS(t){return ba(t)&&!oi(t).M_()&&t.Pa.length>0}function lS(t){oi(t).start()}async function VO(t){oi(t).na()}async function LO(t){const e=oi(t);for(const n of t.Pa)e.X_(n.mutations)}async function MO(t,e,n){const s=t.Pa.shift(),r=Iy.from(s,e,n);await aS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await xf(t)}async function FO(t,e){e&&oi(t).Z_&&await async function(s,r){if(function(o){return N$(o)&&o!==U.ABORTED}(r.code)){const a=s.Pa.shift();oi(s).N_(),await aS(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,r)),await xf(s)}}(t,e),oS(t)&&lS(t)}async function f1(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),ee(oa,"RemoteStore received new credentials");const s=ba(n);n.Ia.add(3),await Qc(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await yf(n)}async function UO(t,e){const n=he(t);e?(n.Ia.delete(2),await yf(n)):e||(n.Ia.add(2),await Qc(n),n.Aa.set("Unknown"))}function Mo(t){return t.Va||(t.Va=function(n,s,r){const a=he(n);return a.ia(),new TO(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Zo:AO.bind(null,t),e_:PO.bind(null,t),n_:RO.bind(null,t),J_:DO.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),My(t)?Ly(t):t.Aa.set("Unknown")):(await t.Va.stop(),iS(t))})),t.Va}function oi(t){return t.ma||(t.ma=function(n,s,r){const a=he(n);return a.ia(),new EO(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:VO.bind(null,t),n_:FO.bind(null,t),ea:LO.bind(null,t),ta:MO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await xf(t)):(await t.ma.stop(),t.Pa.length>0&&(ee(oa,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const o=Date.now()+s,l=new Fy(e,n,o,r,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(t,e){if(dr("AsyncQueue",`${e}: ${t}`),Vo(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ie.comparator(n.key,s.key):(n,s)=>ie.comparator(n.key,s.key),this.keyedMap=vl(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.fa=new Je(ie.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ce(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,r,a,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new _o(e,n,co.emptySet(n),o,s,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class zO{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const r=he(n),a=r.queries;r.queries=p1(),a.forEach((o,l)=>{for(const c of l.wa)c.onError(s)})})(this,new J(U.ABORTED,"Firestore shutting down"))}}function p1(){return new wa(t=>SE(t),df)}async function cS(t,e){const n=he(t);let s=3;const r=e.query;let a=n.queries.get(r);a?!a.Sa()&&e.ba()&&(s=2):(a=new BO,s=e.ba()?0:1);try{switch(s){case 0:a.ya=await n.onListen(r,!0);break;case 1:a.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=Uy(o,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&By(n)}async function uS(t,e){const n=he(t),s=e.query;let r=3;const a=n.queries.get(s);if(a){const o=a.wa.indexOf(e);o>=0&&(a.wa.splice(o,1),a.wa.length===0?r=e.ba()?0:1:!a.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function HO(t,e){const n=he(t);let s=!1;for(const r of e){const a=r.query,o=n.queries.get(a);if(o){for(const l of o.wa)l.Ca(r)&&(s=!0);o.ya=r}}s&&By(n)}function qO(t,e,n){const s=he(t),r=s.queries.get(e);if(r)for(const a of r.wa)a.onError(n);s.queries.delete(e)}function By(t){t.Da.forEach(e=>{e.next()})}var $g,g1;(g1=$g||($g={})).Fa="default",g1.Cache="cache";class dS{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class WO{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=je(),this.mutatedKeys=je(),this.Xa=kE(e),this.eu=new co(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new m1,r=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const m=r.get(h),p=hf(this.query,f)?f:null,y=!!m&&this.mutatedKeys.has(m.key),N=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let j=!1;m&&p?m.data.isEqual(p.data)?y!==N&&(s.track({type:3,doc:p}),j=!0):this.iu(m,p)||(s.track({type:2,doc:p}),j=!0,(c&&this.Xa(p,c)>0||u&&this.Xa(p,u)<0)&&(l=!0)):!m&&p?(s.track({type:0,doc:p}),j=!0):m&&!p&&(s.track({type:1,doc:m}),j=!0,(c||u)&&(l=!0)),j&&(p?(o=o.add(p),a=N?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),s.track({type:1,doc:h})}return{eu:o,ru:s,Ds:l,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(p,y){const N=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{At:j})}};return N(p)-N(y)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(s),r=r!=null&&r;const l=n&&!r?this.ou():[],c=this.Za.size===0&&this.current&&!r?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new _o(this.query,e.eu,a,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new m1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=je(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new fS(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new hS(s))}),n}uu(e){this.Ha=e.qs,this.Za=je();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return _o.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const zy="SyncEngine";class GO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class KO{constructor(e){this.key=e,this.lu=!1}}class QO{constructor(e,n,s,r,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new wa(l=>SE(l),df),this.Tu=new Map,this.Iu=new Set,this.du=new Je(ie.comparator),this.Eu=new Map,this.Au=new Py,this.Ru={},this.Vu=new Map,this.mu=jo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function YO(t,e,n=!0){const s=vS(t);let r;const a=s.Pu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.cu()):r=await mS(s,e,n,!0),r}async function XO(t,e){const n=vS(t);await mS(n,e,!0,!1)}async function mS(t,e,n,s){const r=await yO(t.localStore,As(e)),a=r.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return s&&(l=await JO(t,e,a,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&sS(t.remoteStore,r),l}async function JO(t,e,n,s,r){t.gu=(f,m,p)=>async function(N,j,_,b){let x=j.view.nu(_);x.Ds&&(x=await l1(N.localStore,j.query,!1).then(({documents:E})=>j.view.nu(E,x)));const C=b&&b.targetChanges.get(j.targetId),R=b&&b.targetMismatches.get(j.targetId)!=null,O=j.view.applyChanges(x,N.isPrimaryClient,C,R);return x1(N,j.targetId,O._u),O.snapshot}(t,f,m,p);const a=await l1(t.localStore,e,!0),o=new WO(e,a.qs),l=o.nu(a.documents),c=Kc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=o.applyChanges(l,t.isPrimaryClient,c);x1(t,n,u._u);const h=new GO(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function ZO(t,e,n){const s=he(t),r=s.Pu.get(e),a=s.Tu.get(r.targetId);if(a.length>1)return s.Tu.set(r.targetId,a.filter(o=>!df(o,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Rg(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Oy(s.remoteStore,r.targetId),Og(s,r.targetId)}).catch(Oo)):(Og(s,r.targetId),await Rg(s.localStore,r.targetId,!0))}async function eV(t,e){const n=he(t),s=n.Pu.get(e),r=n.Tu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Oy(n.remoteStore,s.targetId))}async function tV(t,e,n){const s=lV(t);try{const r=await function(o,l){const c=he(o),u=Me.now(),h=l.reduce((p,y)=>p.add(y.key),je());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=hr(),N=je();return c.Os.getEntries(p,h).next(j=>{y=j,y.forEach((_,b)=>{b.isValidDocument()||(N=N.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(j=>{f=j;const _=[];for(const b of l){const x=y$(b,f.get(b.key).overlayedDocument);x!=null&&_.push(new xi(b.key,x,vE(x.value.mapValue),Hn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,_,l)}).next(j=>{m=j;const _=j.applyToLocalDocumentSet(f,N);return c.documentOverlayCache.saveOverlays(p,j.batchId,_)})}).then(()=>({batchId:m.batchId,changes:CE(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,l,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new Je(ve)),u=u.insert(l,c),o.Ru[o.currentUser.toKey()]=u}(s,r.batchId,n),await Yc(s,r.changes),await xf(s.remoteStore)}catch(r){const a=Uy(r,"Failed to persist write");n.reject(a)}}async function pS(t,e){const n=he(t);try{const s=await mO(n.localStore,e);e.targetChanges.forEach((r,a)=>{const o=n.Eu.get(a);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.lu=!0:r.modifiedDocuments.size>0?Ie(o.lu,14607):r.removedDocuments.size>0&&(Ie(o.lu,42227),o.lu=!1))}),await Yc(n,s,e)}catch(s){await Oo(s)}}function y1(t,e,n){const s=he(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Pu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const c=he(o);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.wa)m.va(l)&&(u=!0)}),u&&By(c)}(s.eventManager,e),r.length&&s.hu.J_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nV(t,e,n){const s=he(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Eu.get(e),a=r&&r.key;if(a){let o=new Je(ie.comparator);o=o.insert(a,qt.newNoDocument(a,de.min()));const l=je().add(a),c=new pf(de.min(),new Map,new Je(ve),o,l);await pS(s,c),s.du=s.du.remove(a),s.Eu.delete(e),Hy(s)}else await Rg(s.localStore,e,!1).then(()=>Og(s,e,n)).catch(Oo)}async function sV(t,e){const n=he(t),s=e.batch.batchId;try{const r=await fO(n.localStore,e);yS(n,s,null),gS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yc(n,r)}catch(r){await Oo(r)}}async function rV(t,e,n){const s=he(t);try{const r=await function(o,l){const c=he(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ie(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(s.localStore,e);yS(s,e,n),gS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Yc(s,r)}catch(r){await Oo(r)}}function gS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function yS(t,e,n){const s=he(t);let r=s.Ru[s.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),s.Ru[s.currentUser.toKey()]=r}}function Og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Tu.get(e))t.Pu.delete(s),n&&t.hu.pu(s,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(s=>{t.Au.containsKey(s)||xS(t,s)})}function xS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Oy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Hy(t))}function x1(t,e,n){for(const s of n)s instanceof hS?(t.Au.addReference(s.key,e),iV(t,s)):s instanceof fS?(ee(zy,"Document no longer in limbo: "+s.key),t.Au.removeReference(s.key,e),t.Au.containsKey(s.key)||xS(t,s.key)):ce(19791,{yu:s})}function iV(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Iu.has(s)||(ee(zy,"New document in limbo: "+n),t.Iu.add(s),Hy(t))}function Hy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ie(Re.fromString(e)),s=t.mu.next();t.Eu.set(s,new KO(n)),t.du=t.du.insert(n,s),sS(t.remoteStore,new Vr(As(Ey(n.path)),s,"TargetPurposeLimboResolution",lf.ue))}}async function Yc(t,e,n){const s=he(t),r=[],a=[],o=[];s.Pu.isEmpty()||(s.Pu.forEach((l,c)=>{o.push(s.gu(c,e,n).then(u=>{var h;if((u||n)&&s.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);const f=Dy.Es(c.targetId,u);a.push(f)}}))}),await Promise.all(o),s.hu.J_(r),await async function(c,u){const h=he(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,m=>B.forEach(m.Is,p=>h.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>B.forEach(m.ds,p=>h.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Vo(f))throw f;ee($y,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=h.Fs.get(m),y=p.snapshotVersion,N=p.withLastLimboFreeSnapshotVersion(y);h.Fs=h.Fs.insert(m,N)}}}(s.localStore,a))}async function aV(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){ee(zy,"User change. New user:",e.toKey());const s=await ZE(n.localStore,e);n.currentUser=e,function(a,o){a.Vu.forEach(l=>{l.forEach(c=>{c.reject(new J(U.CANCELLED,o))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yc(n,s.Bs)}}function oV(t,e){const n=he(t),s=n.Eu.get(e);if(s&&s.lu)return je().add(s.key);{let r=je();const a=n.Tu.get(e);if(!a)return r;for(const o of a){const l=n.Pu.get(o);r=r.unionWith(l.view.tu)}return r}}function vS(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nV.bind(null,e),e.hu.J_=HO.bind(null,e.eventManager),e.hu.pu=qO.bind(null,e.eventManager),e}function lV(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rV.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return hO(this.persistence,new cO,e.initialUser,this.serializer)}Du(e){return new JE(Ry.Vi,this.serializer)}bu(e){return new vO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class cV extends xh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ie(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new K$(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new JE(s=>gh.Vi(s,n),this.serializer)}}class Vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>y1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aV.bind(null,this.syncEngine),await UO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zO}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),s=function(a){return new _O(a)}(e.databaseInfo);return function(a,o,l,c){return new kO(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,a,o,l){return new CO(s,r,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>y1(this.syncEngine,n,0),function(){return d1.C()?new d1:new wO}())}createSyncEngine(e,n){return function(r,a,o,l,c,u,h){const f=new QO(r,a,o,l,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=he(r);ee(oa,"RemoteStore shutting down."),a.Ia.add(5),await Qc(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vg.provider={build:()=>new Vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class uV{constructor(e,n,s,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=zt.UNAUTHENTICATED,this.clientId=wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{ee(li,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ee(li,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Uy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(t,e){t.asyncQueue.verifyOperationInProgress(),ee(li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await ZE(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>{ni("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ee("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{ni("Terminating Firestore due to IndexedDb database deletion failed",r)})}),t._offlineComponents=e}async function v1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dV(t);ee(li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>f1(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>f1(e.remoteStore,r)),t._onlineComponents=e}async function dV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(li,"Using user provided OfflineComponentProvider");try{await Km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ni("Error using user provided cache. Falling back to memory cache: "+n),await Km(t,new xh)}}else ee(li,"Using default OfflineComponentProvider"),await Km(t,new cV(void 0));return t._offlineComponents}async function bS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(li,"Using user provided OnlineComponentProvider"),await v1(t,t._uninitializedComponentsProvider._online)):(ee(li,"Using default OnlineComponentProvider"),await v1(t,new Vg))),t._onlineComponents}function hV(t){return bS(t).then(e=>e.syncEngine)}async function NS(t){const e=await bS(t),n=e.eventManager;return n.onListen=YO.bind(null,e.syncEngine),n.onUnlisten=ZO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eV.bind(null,e.syncEngine),n}function fV(t,e,n={}){const s=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const h=new wS({next:m=>{h.Ou(),o.enqueueAndForget(()=>uS(a,f));const p=m.docs.has(l);!p&&m.fromCache?u.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new dS(Ey(l.path),h,{includeMetadataChanges:!0,ka:!0});return cS(a,f)}(await NS(t),t.asyncQueue,e,n,s)),s.promise}function mV(t,e,n={}){const s=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const h=new wS({next:m=>{h.Ou(),o.enqueueAndForget(()=>uS(a,f)),m.fromCache&&c.source==="server"?u.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new dS(l,h,{includeMetadataChanges:!0,ka:!0});return cS(a,f)}(await NS(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firestore.googleapis.com",b1=!0;class N1{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=b1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:b1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W$)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ND;switch(s.type){case"firstParty":return new ED(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=w1.get(n);s&&(ee("ComponentProvider","Removing Datastore"),w1.delete(n),s.terminate())}(this),Promise.resolve()}}function pV(t,e,n,s={}){var r;t=ms(t,vf);const a=ga(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(oy(`https://${c}`),ly("Firestore",!0)),o.host!==_S&&o.host!==c&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:s});if(!ti(u,l)&&(t._setSettings(u),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=zt.MOCK_USER;else{h=aT(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(m)}t._authCredentials=new jD(new aE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vi(this.firestore,e,this._query)}}class at{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}toJSON(){return{type:at._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Wc(n,at._jsonSchema))return new at(e,s||null,new ie(Re.fromString(n.referencePath)))}}at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:ht("string",at._jsonSchemaVersion),referencePath:ht("string")};class Qr extends vi{constructor(e,n,s){super(e,n,Ey(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new ie(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function qy(t,e,...n){if(t=$e(t),lE("collection","path",e),t instanceof vf){const s=Re.fromString(e,...n);return $b(s),new Qr(t,null,s)}{if(!(t instanceof at||t instanceof Qr))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Re.fromString(e,...n));return $b(s),new Qr(t.firestore,null,s)}}function wi(t,e,...n){if(t=$e(t),arguments.length===1&&(e=wy.newId()),lE("doc","path",e),t instanceof vf){const s=Re.fromString(e,...n);return Db(s),new at(t,null,new ie(s))}{if(!(t instanceof at||t instanceof Qr))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Re.fromString(e,...n));return Db(s),new at(t.firestore,t instanceof Qr?t.converter:null,new ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="AsyncQueue";class _1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new tS(this,"async_queue_retry"),this.oc=()=>{const s=Gm();s&&ee(j1,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new tr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Vo(e))throw e;ee(j1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,dr("INTERNAL UNHANDLED ERROR: ",T1(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const r=Fy.createAndSchedule(this,e,n,s,a=>this.lc(a));return this.ec.push(r),r}ac(){this.tc&&ce(47125,{hc:T1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function T1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Na extends vf{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new _1,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _1(e),this._firestoreClient=void 0,await e}}}function gV(t,e){const n=typeof t=="object"?t:nf(),s=typeof t=="string"?t:dh,r=pi(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const a=sT("firestore");a&&pV(r,...a)}return r}function Wy(t){if(t._terminated)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yV(t),t._firestoreClient}function yV(t){var e,n,s;const r=t._freezeSettings(),a=function(l,c,u,h){return new zD(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new uV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Dt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wc(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:ht("string",Fn._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Wc(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:ht("string",Rs._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wc(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ds(e.vectorValues);throw new J(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:ht("string",Ds._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^__.*__$/;class vV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gc(e,this.data,n,this.fieldTransforms)}}class TS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ES(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ec:t})}}class Gy{constructor(e,n,s,r,a,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:s,mc:!1});return r.fc(e),r}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:s,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return vh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ES(this.Ec)&&xV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class wV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gf(e)}Dc(e,n,s,r=!1){return new Gy({Ec:e,methodName:n,bc:s,path:Ct.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bf(t){const e=t._freezeSettings(),n=gf(t._databaseId);return new wV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SS(t,e,n,s,r,a={}){const o=t.Dc(a.merge||a.mergeFields?2:0,e,n,r);Yy("Data must be an object, but it was:",o,s);const l=kS(s,o);let c,u;if(a.merge)c=new Sn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const f of a.mergeFields){const m=Lg(e,f,n);if(!o.contains(m))throw new J(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CS(h,m)||h.push(m)}c=new Sn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new vV(new cn(l),c,u)}class Nf extends Xc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class Ky extends Xc{_toFieldTransform(e){return new LE(e.path,new bc)}isEqual(e){return e instanceof Ky}}class Qy extends Xc{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new _c(e.serializer,RE(e.serializer,this.Cc));return new LE(e.path,n)}isEqual(e){return e instanceof Qy&&this.Cc===e.Cc}}function bV(t,e,n,s){const r=t.Dc(1,e,n);Yy("Data must be an object, but it was:",r,s);const a=[],o=cn.empty();yi(s,(c,u)=>{const h=Xy(e,c,n);u=$e(u);const f=r.gc(h);if(u instanceof Nf)a.push(h);else{const m=Jc(u,f);m!=null&&(a.push(h),o.set(h,m))}});const l=new Sn(a);return new TS(o,l,r.fieldTransforms)}function NV(t,e,n,s,r,a){const o=t.Dc(1,e,n),l=[Lg(e,s,n)],c=[r];if(a.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)l.push(Lg(e,a[m])),c.push(a[m+1]);const u=[],h=cn.empty();for(let m=l.length-1;m>=0;--m)if(!CS(u,l[m])){const p=l[m];let y=c[m];y=$e(y);const N=o.gc(p);if(y instanceof Nf)u.push(p);else{const j=Jc(y,N);j!=null&&(u.push(p),h.set(p,j))}}const f=new Sn(u);return new TS(h,f,o.fieldTransforms)}function jV(t,e,n,s=!1){return Jc(n,t.Dc(s?4:3,e))}function Jc(t,e){if(IS(t=$e(t)))return Yy("Unsupported field value:",e,t),kS(t,e);if(t instanceof Xc)return function(s,r){if(!ES(r.Ec))throw r.wc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,r){const a=[];let o=0;for(const l of s){let c=Jc(l,r.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,r){if((s=$e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RE(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Me.fromDate(s);return{timestampValue:ph(r.serializer,a)}}if(s instanceof Me){const a=new Me(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ph(r.serializer,a)}}if(s instanceof Rs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:HE(r.serializer,s._byteString)};if(s instanceof at){const a=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw r.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ay(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Ds)return function(o,l){return{mapValue:{fields:{[yE]:{stringValue:xE},[hh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return Sy(l.serializer,u)})}}}}}}(s,r);throw r.wc(`Unsupported field value: ${of(s)}`)}(t,e)}function kS(t,e){const n={};return dE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(t,(s,r)=>{const a=Jc(r,e.Vc(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function IS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof Rs||t instanceof Fn||t instanceof at||t instanceof Xc||t instanceof Ds)}function Yy(t,e,n){if(!IS(n)||!cE(n)){const s=of(n);throw s==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+s)}}function Lg(t,e,n){if((e=$e(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Xy(t,e);throw vh("Field path arguments must be of type string or ",t,!1,void 0,n)}const _V=new RegExp("[~\\*/\\[\\]]");function Xy(t,e,n){if(e.search(_V)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vh(t,e,n,s,r){const a=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new J(U.INVALID_ARGUMENT,l+t+c)}function CS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,s,r,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TV extends AS{data(){return super.data()}}function jf(t,e){return typeof e=="string"?Xy(t,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class Zy extends Jy{}function Qm(t,e,...n){let s=[];e instanceof Jy&&s.push(e),s=s.concat(n),function(a){const o=a.filter(c=>c instanceof ex).length,l=a.filter(c=>c instanceof _f).length;if(o>1||o>0&&l>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class _f extends Zy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _f(e,n,s)}_apply(e){const n=this._parse(e);return PS(e._query,n),new vi(e.firestore,e.converter,kg(e._query,n))}_parse(e){const n=bf(e.firestore);return function(a,o,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){S1(f,h);const y=[];for(const N of f)y.push(E1(c,a,N));m={arrayValue:{values:y}}}else m=E1(c,a,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||S1(f,h),m=jV(l,o,f,h==="in"||h==="not-in");return dt.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SV(t,e,n){const s=e,r=jf("where",t);return _f._create(r,s,n)}class ex extends Jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ex(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,a){let o=r;const l=a.getFlattenedFilters();for(const c of l)PS(o,c),o=kg(o,c)}(e._query,n),new vi(e.firestore,e.converter,kg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tx extends Zy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tx(e,n)}_apply(e){const n=function(r,a,o){if(r.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wc(a,o)}(e._query,this._field,this._direction);return new vi(e.firestore,e.converter,function(r,a){const o=r.explicitOrderBy.concat([a]);return new Lo(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function kV(t,e="asc"){const n=e,s=jf("orderBy",t);return tx._create(s,n)}class nx extends Zy{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new nx(e,n,s)}_apply(e){return new vi(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function IV(t){return PD("limit",t),nx._create("limit",t,"F")}function E1(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EE(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Re.fromString(n));if(!ie.isDocumentKey(s))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zb(t,new ie(s))}if(n instanceof at)return zb(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function S1(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PS(t,e){const n=function(r,a){for(const o of r)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CV{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return yi(e,(r,a)=>{s[r]=this.convertValue(a,n)}),s}convertVectorValue(e){var n,s,r;const a=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[hh].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>rt(o.doubleValue));return new Ds(a)}convertGeoPoint(e){return new Rs(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=ri(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Re.fromString(e);Ie(YE(s),9688,{name:e});const r=new xc(s.get(1),s.get(3)),a=new ie(s.popFirst(5));return r.isEqual(n)||dr(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ki extends AS{constructor(e,n,s,r,a,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ki._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ki._jsonSchema={type:ht("string",Ki._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class Nd extends Ki{data(e={}){return super.data(e)}}class uo{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new bl(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Nd(this._firestore,this._userDataWriter,s.key,s,new bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const c=new Nd(r._firestore,r._userDataWriter,l.doc.key,l.doc,new bl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Nd(r._firestore,r._userDataWriter,l.doc.key,l.doc,new bl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:AV(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){t=ms(t,at);const e=ms(t.firestore,Na);return fV(Wy(e),t._key).then(n=>$V(e,t,n))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:ht("string",uo._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class $S extends CV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function PV(t){t=ms(t,vi);const e=ms(t.firestore,Na),n=Wy(e),s=new $S(e);return EV(t._query),mV(n,t._query).then(r=>new uo(e,s,t,r))}function RV(t,e,n){t=ms(t,at);const s=ms(t.firestore,Na),r=RS(t.converter,e);return Ef(s,[SS(bf(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Hn.none())])}function Tf(t,e,n,...s){t=ms(t,at);const r=ms(t.firestore,Na),a=bf(r);let o;return o=typeof(e=$e(e))=="string"||e instanceof wf?NV(a,"updateDoc",t._key,e,n,s):bV(a,"updateDoc",t._key,e),Ef(r,[o.toMutation(t._key,Hn.exists(!0))])}function DV(t){return Ef(ms(t.firestore,Na),[new ky(t._key,Hn.none())])}function OS(t,e){const n=ms(t.firestore,Na),s=wi(t),r=RS(t.converter,e);return Ef(n,[SS(bf(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then(()=>s)}function Ef(t,e){return function(s,r){const a=new tr;return s.asyncQueue.enqueueAndForget(async()=>tV(await hV(s),r,a)),a.promise}(Wy(t),e)}function $V(t,e,n){const s=n.docs.get(e._key),r=new $S(t);return new Ki(t,r,e._key,s,new bl(n.hasPendingWrites,n.fromCache),e.converter)}function Pt(){return new Ky("serverTimestamp")}function VS(t){return new Qy("increment",t)}(function(e,n=!0){(function(r){$o=r})(xa),hs(new Gn("firestore",(s,{instanceIdentifier:r,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new Na(new _D(s.getProvider("auth-internal")),new SD(o,s.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(u.options.projectId,h)}(o,r),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),pn(Ib,Cb,e),pn(Ib,Cb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebasestorage.googleapis.com",OV="storageBucket",VV=2*60*1e3,LV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Xn{constructor(e,n,s=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ls;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ls||(Ls={}));function Ym(t){return"storage/"+t}function MV(){const t="An unknown error occurred, please check the error payload for server response.";return new Us(Ls.UNKNOWN,t)}function FV(){return new Us(Ls.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UV(){return new Us(Ls.CANCELED,"User canceled the upload/download.")}function BV(t){return new Us(Ls.INVALID_URL,"Invalid URL '"+t+"'.")}function zV(t){return new Us(Ls.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function k1(t){return new Us(Ls.INVALID_ARGUMENT,t)}function MS(){return new Us(Ls.APP_DELETED,"The Firebase app was deleted.")}function HV(t){return new Us(Ls.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=is.makeFromUrl(e,n)}catch{return new is(e,"")}if(s.path==="")return s;throw zV(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${h}/b/${r}/o${m}`,"i"),y={bucket:1,path:3},N=n===LS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",_=new RegExp(`^https?://${N}/${r}/${j}`,"i"),x=[{regex:l,indices:c,postModify:a},{regex:p,indices:y,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<x.length;C++){const R=x[C],O=R.regex.exec(e);if(O){const E=O[R.indices.bucket];let w=O[R.indices.path];w||(w=""),s=new is(E,w),R.postModify(s);break}}if(s==null)throw BV(e);return s}}class qV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t,e,n){let s=1,r=null,a=null,o=!1,l=0;function c(){return l===2}let u=!1;function h(...j){u||(u=!0,e.apply(null,j))}function f(j){r=setTimeout(()=>{r=null,t(p,c())},j)}function m(){a&&clearTimeout(a)}function p(j,..._){if(u){m();return}if(j){m(),h.call(null,j,..._);return}if(c()||o){m(),h.call(null,j,..._);return}s<64&&(s*=2);let x;l===1?(l=2,x=0):x=(s+Math.random())*1e3,f(x)}let y=!1;function N(j){y||(y=!0,m(),!u&&(r!==null?(j||(l=2),clearTimeout(r),f(0)):j||(l=1)))}return f(0),a=setTimeout(()=>{o=!0,N(!0)},n),N}function GV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){return t!==void 0}function I1(t,e,n,s){if(s<e)throw k1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw k1(`Invalid value for '${t}'. Expected ${n} or less.`)}function QV(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var wh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wh||(wh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,s,r,a,o,l,c,u,h,f,m=!0,p=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,N)=>{this.resolve_=y,this.reject_=N,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Qu(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===wh.NO_ERROR,c=a.getStatus();if(!l||YV(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===wh.ABORT;s(!1,new Qu(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new Qu(u,a))})},n=(s,r)=>{const a=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());KV(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=MV();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(r.canceled){const c=this.appDelete_?MS():UV();o(c)}else{const c=FV();o(c)}};this.canceled_?n(!1,new Qu(!1,null,!0)):this.backoffId_=WV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qu{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function JV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nL(t,e,n,s,r,a,o=!0,l=!1){const c=QV(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return eL(h,e),JV(h,n),ZV(h,a),tL(h,s),new XV(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this._service=e,n instanceof is?this._location=n:this._location=is.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bh(e,n)}get root(){const e=new is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rL(this._location.path)}get storage(){return this._service}get parent(){const e=sL(this._location.path);if(e===null)return null;const n=new is(this._location.bucket,e);return new bh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HV(e)}}function C1(t,e){const n=e==null?void 0:e[OV];return n==null?null:is.makeFromBucketSpec(n,t)}function iL(t,e,n,s={}){t.host=`${e}:${n}`;const r=ga(e);r&&(oy(`https://${t.host}/b`),ly("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:a}=s;a&&(t._overrideAuthToken=typeof a=="string"?a:aT(a,t.app.options.projectId))}class aL{constructor(e,n,s,r,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=LS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VV,this._maxUploadRetryTime=LV,this._requests=new Set,r!=null?this._bucket=is.makeFromBucketSpec(r,this._host):this._bucket=C1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=is.makeFromBucketSpec(this._url,e):this._bucket=C1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bh(this,e)}_makeRequest(e,n,s,r,a=!0){if(this._deleted)return new qV(MS());{const o=nL(e,this._appId,s,r,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const A1="@firebase/storage",P1="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="storage";function oL(t=nf(),e){t=$e(t);const s=pi(t,FS).getImmediate({identifier:e}),r=sT("storage");return r&&lL(s,...r),s}function lL(t,e,n,s={}){iL(t,e,n,s)}function cL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new aL(n,s,r,e,xa)}function uL(){hs(new Gn(FS,cL,"PUBLIC").setMultipleInstances(!0)),pn(A1,P1,""),pn(A1,P1,"esm2017")}uL();const US="@firebase/installations",sx="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=1e4,zS=`w:${sx}`,HS="FIS_v2",dL="https://firebaseinstallations.googleapis.com/v1",hL=60*60*1e3,fL="installations",mL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new ya(fL,mL,pL);function qS(t){return t instanceof Xn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS({projectId:t}){return`${dL}/projects/${t}/installations`}function GS(t){return{token:t.token,requestStatus:2,expiresIn:yL(t.expiresIn),creationTime:Date.now()}}async function KS(t,e){const s=(await e.json()).error;return la.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function QS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gL(t,{refreshToken:e}){const n=QS(t);return n.append("Authorization",xL(e)),n}async function YS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function yL(t){return Number(t.replace("s","000"))}function xL(t){return`${HS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=WS(t),r=QS(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={fid:n,authVersion:HS,appId:t.appId,sdkVersion:zS},l={method:"POST",headers:r,body:JSON.stringify(o)},c=await YS(()=>fetch(s,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:GS(u.authToken)}}else throw await KS("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^[cdef][\w-]{21}$/,Mg="";function NL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=jL(t);return bL.test(n)?n:Mg}catch{return Mg}}function jL(t){return wL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function ZS(t,e){const n=Sf(t);ek(n,e),_L(n,e)}function ek(t,e){const n=JS.get(t);if(n)for(const s of n)s(e)}function _L(t,e){const n=TL();n&&n.postMessage({key:t,fid:e}),EL()}let Bi=null;function TL(){return!Bi&&"BroadcastChannel"in self&&(Bi=new BroadcastChannel("[Firebase] FID Change"),Bi.onmessage=t=>{ek(t.data.key,t.data.fid)}),Bi}function EL(){JS.size===0&&Bi&&(Bi.close(),Bi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="firebase-installations-database",kL=1,ca="firebase-installations-store";let Xm=null;function rx(){return Xm||(Xm=hT(SL,kL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}})),Xm}async function Nh(t,e){const n=Sf(t),r=(await rx()).transaction(ca,"readwrite"),a=r.objectStore(ca),o=await a.get(n);return await a.put(e,n),await r.done,(!o||o.fid!==e.fid)&&ZS(t,e.fid),e}async function tk(t){const e=Sf(t),s=(await rx()).transaction(ca,"readwrite");await s.objectStore(ca).delete(e),await s.done}async function kf(t,e){const n=Sf(t),r=(await rx()).transaction(ca,"readwrite"),a=r.objectStore(ca),o=await a.get(n),l=e(o);return l===void 0?await a.delete(n):await a.put(l,n),await r.done,l&&(!o||o.fid!==l.fid)&&ZS(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t){let e;const n=await kf(t.appConfig,s=>{const r=IL(s),a=CL(t,r);return e=a.registrationPromise,a.installationEntry});return n.fid===Mg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IL(t){const e=t||{fid:NL(),registrationStatus:0};return nk(e)}function CL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=AL(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PL(t)}:{installationEntry:e}}async function AL(t,e){try{const n=await vL(t,e);return Nh(t.appConfig,n)}catch(n){throw qS(n)&&n.customData.serverCode===409?await tk(t.appConfig):await Nh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function PL(t){let e=await R1(t.appConfig);for(;e.registrationStatus===1;)await XS(100),e=await R1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ix(t);return s||n}return e}function R1(t){return kf(t,e=>{if(!e)throw la.create("installation-not-found");return nk(e)})}function nk(t){return RL(t)?{fid:t.fid,registrationStatus:0}:t}function RL(t){return t.registrationStatus===1&&t.registrationTime+BS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL({appConfig:t,heartbeatServiceProvider:e},n){const s=$L(t,n),r=gL(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={installation:{sdkVersion:zS,appId:t.appId}},l={method:"POST",headers:r,body:JSON.stringify(o)},c=await YS(()=>fetch(s,l));if(c.ok){const u=await c.json();return GS(u)}else throw await KS("Generate Auth Token",c)}function $L(t,{fid:e}){return`${WS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(t,e=!1){let n;const s=await kf(t.appConfig,a=>{if(!sk(a))throw la.create("not-registered");const o=a.authToken;if(!e&&LL(o))return a;if(o.requestStatus===1)return n=OL(t,e),a;{if(!navigator.onLine)throw la.create("app-offline");const l=FL(a);return n=VL(t,l),l}});return n?await n:s.authToken}async function OL(t,e){let n=await D1(t.appConfig);for(;n.authToken.requestStatus===1;)await XS(100),n=await D1(t.appConfig);const s=n.authToken;return s.requestStatus===0?ax(t,e):s}function D1(t){return kf(t,e=>{if(!sk(e))throw la.create("not-registered");const n=e.authToken;return UL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function VL(t,e){try{const n=await DL(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Nh(t.appConfig,s),n}catch(n){if(qS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await tk(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nh(t.appConfig,s)}throw n}}function sk(t){return t!==void 0&&t.registrationStatus===2}function LL(t){return t.requestStatus===2&&!ML(t)}function ML(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hL}function FL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function UL(t){return t.requestStatus===1&&t.requestTime+BS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t){const e=t,{installationEntry:n,registrationPromise:s}=await ix(e);return s?s.catch(console.error):ax(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e=!1){const n=t;return await HL(n),(await ax(n,e)).token}async function HL(t){const{registrationPromise:e}=await ix(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){if(!t||!t.options)throw Jm("App Configuration");if(!t.name)throw Jm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jm(t){return la.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="installations",WL="installations-internal",GL=t=>{const e=t.getProvider("app").getImmediate(),n=qL(e),s=pi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},KL=t=>{const e=t.getProvider("app").getImmediate(),n=pi(e,rk).getImmediate();return{getId:()=>BL(n),getToken:r=>zL(n,r)}};function QL(){hs(new Gn(rk,GL,"PUBLIC")),hs(new Gn(WL,KL,"PRIVATE"))}QL();pn(US,sx);pn(US,sx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="analytics",YL="firebase_id",XL="origin",JL=60*1e3,ZL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ox="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new tf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new ya("analytics","Analytics",eM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){if(!t.startsWith(ox)){const e=In.create("invalid-gtag-resource",{gtagURL:t});return gn.warn(e.message),""}return t}function ik(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nM(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function sM(t,e){const n=nM("firebase-js-sdk-policy",{createScriptURL:tM}),s=document.createElement("script"),r=`${ox}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function rM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function iM(t,e,n,s,r,a){const o=s[r];try{if(o)await e[o];else{const c=(await ik(n)).find(u=>u.measurementId===r);c&&await e[c.appId]}}catch(l){gn.error(l)}t("config",r,a)}async function aM(t,e,n,s,r){try{let a=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const l=await ik(n);for(const c of o){const u=l.find(f=>f.measurementId===c),h=u&&e[u.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",s,r||{})}catch(a){gn.error(a)}}function oM(t,e,n,s){async function r(a,...o){try{if(a==="event"){const[l,c]=o;await aM(t,e,n,l,c)}else if(a==="config"){const[l,c]=o;await iM(t,e,n,s,l,c)}else if(a==="consent"){const[l,c]=o;t("consent",l,c)}else if(a==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(a==="set"){const[l]=o;t("set",l)}else t(a,...o)}catch(l){gn.error(l)}}return r}function lM(t,e,n,s,r){let a=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(a=window[r]),window[r]=oM(a,t,e,n),{gtagCore:a,wrappedGtag:window[r]}}function cM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ox)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=30,dM=1e3;class hM{constructor(e={},n=dM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ak=new hM;function fM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function mM(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:fM(s)},a=ZL.replace("{app-id}",n),o=await fetch(a,r);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function pM(t,e=ak,n){const{appId:s,apiKey:r,measurementId:a}=t.options;if(!s)throw In.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:s};throw In.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new xM;return setTimeout(async()=>{l.abort()},JL),ok({appId:s,apiKey:r,measurementId:a},o,l,e)}async function ok(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=ak){var a;const{appId:o,measurementId:l}=t;try{await gM(s,e)}catch(c){if(l)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await mM(t);return r.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!yM(u)){if(r.deleteThrottleMetadata(o),l)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const h=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?eb(n,r.intervalMillis,uM):eb(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return r.setThrottleMetadata(o,f),gn.debug(`Calling attemptFetch again in ${h} millis`),ok(t,f,s,r)}}function gM(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(a),s(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yM(t){if(!(t instanceof Xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class xM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vM(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const a=await e,o=Object.assign(Object.assign({},s),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(){if(lT())try{await cT()}catch(t){return gn.warn(In.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bM(t,e,n,s,r,a,o){var l;const c=pM(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>gn.error(p)),e.push(c);const u=wM().then(p=>{if(p)return s.getId()}),[h,f]=await Promise.all([c,u]);cM(a)||sM(a,h.measurementId),r("js",new Date);const m=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return m[XL]="firebase",m.update=!0,f!=null&&(m[YL]=f),r("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.app=e}_delete(){return delete Ml[this.app.options.appId],Promise.resolve()}}let Ml={},$1=[];const O1={};let Zm="dataLayer",jM="gtag",V1,lk,L1=!1;function _M(){const t=[];if(oT()&&t.push("This is a browser extension environment."),A5()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function TM(t,e,n){_M();const s=t.options.appId;if(!s)throw In.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(Ml[s]!=null)throw In.create("already-exists",{id:s});if(!L1){rM(Zm);const{wrappedGtag:a,gtagCore:o}=lM(Ml,$1,O1,Zm,jM);lk=a,V1=o,L1=!0}return Ml[s]=bM(t,$1,O1,e,V1,Zm,n),new NM(t)}function EM(t=nf()){t=$e(t);const e=pi(t,jh);return e.isInitialized()?e.getImmediate():SM(t)}function SM(t,e={}){const n=pi(t,jh);if(n.isInitialized()){const r=n.getImmediate();if(ti(e,n.getOptions()))return r;throw In.create("already-initialized")}return n.initialize({options:e})}function kM(t,e,n,s){t=$e(t),vM(lk,Ml[t.app.options.appId],e,n,s).catch(r=>gn.error(r))}const M1="@firebase/analytics",F1="0.10.17";function IM(){hs(new Gn(jh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return TM(s,r,n)},"PUBLIC")),hs(new Gn("analytics-internal",t,"PRIVATE")),pn(M1,F1),pn(M1,F1,"esm2017");function t(e){try{const n=e.getProvider(jh).getImmediate();return{logEvent:(s,r,a)=>kM(n,s,r,a)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}IM();const CM={apiKey:"AIzaSyCDduqEsMkkP9HVzXkdiDuxdR3i6Y36uDs",authDomain:"sanchari-d123c.firebaseapp.com",projectId:"sanchari-d123c",storageBucket:"sanchari-d123c.firebasestorage.app",messagingSenderId:"908808918153",appId:"1:908808918153:web:bee7b19fde74de5d0d6258",measurementId:"G-3EJ61YBQ5Q"},If=fT(CM),Ms=xD(If),Fs=gV(If);oL(If);typeof window<"u"&&EM(If);const AM=async(t,e)=>{try{return{success:!0,user:(await J3(Ms,t,e)).user}}catch(n){return console.error("Sign in error:",n),{success:!1,error:Zc(n.code)}}},PM=async(t,e,n)=>{try{const s=await X3(Ms,t,e);return n.firstName&&n.lastName&&await e6(s.user,{displayName:`${n.firstName} ${n.lastName}`,photoURL:n.photoURL||null}),await BT(s.user),{success:!0,user:s.user}}catch(s){return console.error("Sign up error:",s),{success:!1,error:Zc(s.code)}}},RM=async()=>{try{return await a6(Ms),{success:!0}}catch(t){return console.error("Sign out error:",t),{success:!1,error:t.message}}},DM=async t=>{try{return await Y3(Ms,t),{success:!0}}catch(e){return console.error("Reset password error:",e),{success:!1,error:Zc(e.code)}}},$M=async(t,e)=>{try{const n=Ms.currentUser;if(!n)return{success:!1,error:"No user logged in"};const s=va.credential(n.email,t);return await Q3(n,s),await t6(n,e),{success:!0}}catch(n){return console.error("Update password error:",n),{success:!1,error:Zc(n.code)}}},OM=async()=>{try{return Ms.currentUser?(await o6(Ms.currentUser),{success:!0}):{success:!1,error:"No user logged in"}}catch(t){return console.error("Delete account error:",t),{success:!1,error:Zc(t.code)}}},VM=async()=>{try{return Ms.currentUser?(await BT(Ms.currentUser),{success:!0}):{success:!1,error:"No user logged in"}}catch(t){return console.error("Send verification error:",t),{success:!1,error:t.message}}},LM=t=>i6(Ms,t),Zc=t=>{switch(t){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection.";case"auth/requires-recent-login":return"Please log in again to perform this action.";default:return"An error occurred. Please try again."}},Cf=async(t,e)=>{try{return{success:!0,id:(await OS(qy(Fs,t),{...e,createdAt:Pt(),updatedAt:Pt()})).id}}catch(n){return console.error("Error creating document:",n),{success:!1,error:n.message}}},MM=async(t,e)=>{try{const n=wi(Fs,t,e),s=await DS(n);return s.exists()?{success:!0,data:{id:s.id,...s.data()}}:{success:!1,error:"Document not found"}}catch(n){return console.error("Error getting document:",n),{success:!1,error:n.message}}},FM=async(t,e,n)=>{try{const s=wi(Fs,t,e);return await Tf(s,{...n,updatedAt:Pt()}),{success:!0}}catch(s){return console.error("Error updating document:",s),{success:!1,error:s.message}}},UM=async(t,e)=>{try{return await DV(wi(Fs,t,e)),{success:!0}}catch(n){return console.error("Error deleting document:",n),{success:!1,error:n.message}}},bi=async(t,e=[])=>{try{let n=qy(Fs,t);e.forEach(a=>{a.type==="where"?n=Qm(n,SV(a.field,a.operator,a.value)):a.type==="orderBy"?n=Qm(n,kV(a.field,a.direction)):a.type==="limit"&&(n=Qm(n,IV(a.value)))});const s=await PV(n),r=[];return s.forEach(a=>{r.push({id:a.id,...a.data()})}),{success:!0,data:r}}catch(n){return console.error("Error getting documents:",n),{success:!1,error:n.message}}},U1=async(t,e)=>{try{const n=wi(Fs,"users",t);return await RV(n,{...e,createdAt:Pt(),updatedAt:Pt()}),{success:!0}}catch(n){return console.error("Error creating user profile:",n),{success:!1,error:n.message}}},B1=async t=>await MM("users",t),BM=async(t,e)=>await FM("users",t,e),z1=async(t={})=>{const e=[];return t.category&&t.category!=="All"&&e.push({type:"where",field:"category",operator:"==",value:t.category}),t.trending&&e.push({type:"where",field:"trending",operator:"==",value:!0}),t.orderBy&&e.push({type:"orderBy",field:t.orderBy,direction:t.direction||"desc"}),t.limit&&e.push({type:"limit",value:t.limit}),await bi("destinations",e)},zM=async(t,e)=>{try{const n={...e,userId:t,status:"UPCOMING",bookingDate:Pt(),createdAt:Pt(),updatedAt:Pt()},s=await Cf("bookings",n);return s.success&&await HM(t,100),s}catch(n){return console.error("Error creating booking:",n),{success:!1,error:n.message}}},H1=async(t,e=null)=>{try{let n=[{type:"where",field:"userId",operator:"==",value:t},{type:"orderBy",field:"createdAt",direction:"desc"}];e&&n.unshift({type:"where",field:"tripName",operator:"==",value:e});const s=await bi("bookings",n);if(!s.success)return s;const r=s.data.filter(o=>o.itinerary&&Array.isArray(o.itinerary)&&o.itinerary.length>0);return{success:!0,data:e?r:r.length>0?[r[0]]:[]}}catch(n){return console.error("Error getting user bookings:",n),{success:!1,error:n.message}}},q1=async t=>await bi("bookings",[{type:"where",field:"userId",operator:"==",value:t},{type:"orderBy",field:"createdAt",direction:"desc"}]),lx=async(t,e)=>{try{const n={...e,userId:t,savedDate:Pt(),createdAt:Pt()};return await Cf("savedItems",n)}catch(n){return console.error("Error adding to saved:",n),{success:!1,error:n.message}}},cx=async t=>await UM("savedItems",t),ua=async t=>await bi("savedItems",[{type:"where",field:"userId",operator:"==",value:t},{type:"orderBy",field:"savedDate",direction:"desc"}]),Yu=async(t,e)=>{try{const n={...e,userId:t,read:!1,createdAt:Pt()};return await Cf("notifications",n)}catch(n){return console.error("Error creating notification:",n),{success:!1,error:n.message}}},HM=async(t,e)=>{try{const n=wi(Fs,"users",t);return await Tf(n,{travelPoints:VS(e),updatedAt:Pt()}),{success:!0}}catch(n){return console.error("Error updating travel points:",n),{success:!1,error:n.message}}},Aa=async(t,e)=>{try{const n={userId:t,activity:e,timestamp:Pt(),userAgent:navigator.userAgent,url:window.location.href};return await Cf("userActivities",n)}catch(n){return console.error("Error tracking user activity:",n),{success:!1,error:n.message}}},qM=async(t,e={})=>{try{const n=[];e.category&&e.category!=="All"&&n.push({type:"where",field:"category",operator:"==",value:e.category}),n.push({type:"orderBy",field:"name",direction:"asc"});const s=await bi("destinations",n);return s.success&&t?{success:!0,data:s.data.filter(a=>a.name.toLowerCase().includes(t.toLowerCase())||a.location.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase()))}:s}catch(n){return console.error("Error searching destinations:",n),{success:!1,error:n.message}}},WM=async(t={})=>{try{const e=[];switch(e.push({type:"where",field:"isPublic",operator:"==",value:!0}),t.category&&t.category!=="All"&&e.push({type:"where",field:"category",operator:"==",value:t.category}),t.difficulty&&e.push({type:"where",field:"difficulty",operator:"==",value:t.difficulty}),t.season&&e.push({type:"where",field:"season",operator:"==",value:t.season}),t.maxDays&&e.push({type:"where",field:"days",operator:"<=",value:t.maxDays}),t.sortBy||"popular"){case"newest":e.push({type:"orderBy",field:"shareDate",direction:"desc"});break;case"rating":e.push({type:"orderBy",field:"averageRating",direction:"desc"});break;case"popular":e.push({type:"orderBy",field:"usageCount",direction:"desc"});break;case"budget-low":e.push({type:"orderBy",field:"minBudget",direction:"asc"});break;case"budget-high":e.push({type:"orderBy",field:"maxBudget",direction:"desc"});break;default:e.push({type:"orderBy",field:"shareDate",direction:"desc"})}t.limit&&e.push({type:"limit",value:t.limit});const s=await bi("sharedTrips",e);return s.success&&t.searchQuery?{success:!0,data:s.data.filter(a=>{var o,l,c,u;return((o=a.name)==null?void 0:o.toLowerCase().includes(t.searchQuery.toLowerCase()))||((l=a.location)==null?void 0:l.toLowerCase().includes(t.searchQuery.toLowerCase()))||((c=a.description)==null?void 0:c.toLowerCase().includes(t.searchQuery.toLowerCase()))||((u=a.tags)==null?void 0:u.some(h=>h.toLowerCase().includes(t.searchQuery.toLowerCase())))})}:s}catch(e){return console.error("Error getting shared trips:",e),{success:!1,error:e.message}}},GM=async(t,e)=>{try{const n=wi(Fs,"sharedTrips",t);return await Tf(n,{usageCount:VS(1),lastUsed:Pt()}),await OS(qy(Fs,"tripUsage"),{sharedTripId:t,userId:e,usedAt:Pt()}),{success:!0}}catch(n){return console.error("Error using shared trip:",n),{success:!1,error:n.message}}},KM=async(t,e,n,s="")=>{try{const r=wi(Fs,"sharedTrips",t),a=await DS(r);if(!a.exists())return{success:!1,error:"Trip not found"};const l=a.data().ratings||[],c=l.findIndex(p=>p.userId===e),u={userId:e,rating:n,comment:s,ratedAt:Pt()};let h;c!==-1?(h=[...l],h[c]=u):h=[...l,u];const f=h.length,m=h.reduce((p,y)=>p+y.rating,0)/f;return await Tf(r,{ratings:h,averageRating:Math.round(m*10)/10,totalRatings:f,lastUpdated:Pt()}),{success:!0}}catch(r){return console.error("Error rating shared trip:",r),{success:!1,error:r.message}}},QM=async(t=10)=>{try{return await bi("sharedTrips",[{type:"where",field:"isPublic",operator:"==",value:!0},{type:"orderBy",field:"usageCount",direction:"desc"},{type:"limit",value:t}])}catch(e){return console.error("Error getting popular shared trips:",e),{success:!1,error:e.message}}},YM=async(t=10)=>{try{return await bi("sharedTrips",[{type:"where",field:"isPublic",operator:"==",value:!0},{type:"orderBy",field:"averageRating",direction:"desc"},{type:"limit",value:t}])}catch(e){return console.error("Error getting trending shared trips:",e),{success:!1,error:e.message}}},ck=T.createContext(),jt=()=>{const t=T.useContext(ck);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},XM=({children:t})=>{const[e,n]=T.useState(null),[s,r]=T.useState(!0),[a,o]=T.useState(!1),l=mt();T.useEffect(()=>{const b=LM(async x=>{if(x)try{const C=await B1(x.uid);if(C.success){const R={uid:x.uid,email:x.email,displayName:x.displayName,photoURL:x.photoURL,emailVerified:x.emailVerified,...C.data};n(R),await Aa(x.uid,{type:"login",timestamp:new Date,method:"email"})}else{const R={email:x.email,displayName:x.displayName||"",photoURL:x.photoURL||null,emailVerified:x.emailVerified,travelPoints:0,memberSince:new Date,preferences:[],profileComplete:!1};await U1(x.uid,R),await Yu(x.uid,{type:"welcome",title:"Welcome to Sanchari!",message:"Start exploring amazing destinations and plan your dream trips.",icon:"🎉"}),n({uid:x.uid,...R})}o(!0)}catch(C){console.error("Error loading user profile:",C),n(null),o(!1)}else n(null),o(!1);r(!1)});return()=>b()},[]);const _={user:e,loading:s,isAuthenticated:a,signIn:async(b,x)=>{try{r(!0);const C=await AM(b,x);return C.success?{success:!0,user:C.user}:{success:!1,error:C.error}}catch(C){return console.error("Sign in error:",C),{success:!1,error:C.message}}finally{r(!1)}},signUp:async(b,x,C)=>{try{r(!0);const R=await PM(b,x,C);if(R.success){const O={...C,email:b,emailVerified:!1,travelPoints:0,memberSince:new Date,preferences:C.preferences||[],profileComplete:!0};return await U1(R.user.uid,O),await Yu(R.user.uid,{type:"welcome",title:"Welcome to Sanchari!",message:"Your account has been created successfully. Start exploring amazing destinations!",icon:"🎉"}),await Aa(R.user.uid,{type:"signup",timestamp:new Date,method:"email"}),{success:!0,user:R.user}}else return{success:!1,error:R.error}}catch(R){return console.error("Sign up error:",R),{success:!1,error:R.message}}finally{r(!1)}},signOut:async()=>{try{r(!0),e!=null&&e.uid&&await Aa(e.uid,{type:"logout",timestamp:new Date});const b=await RM();return b.success?(n(null),o(!1),l("/"),{success:!0}):{success:!1,error:b.error}}catch(b){return console.error("Sign out error:",b),{success:!1,error:b.message}}finally{r(!1)}},updateProfile:async b=>{try{if(r(!0),e!=null&&e.uid){const x=await BM(e.uid,b);return x.success?(n(C=>({...C,...b})),await Aa(e.uid,{type:"profile_update",timestamp:new Date,fields:Object.keys(b)}),{success:!0}):{success:!1,error:x.error}}else return{success:!1,error:"No user logged in"}}catch(x){return console.error("Update profile error:",x),{success:!1,error:x.message}}finally{r(!1)}},resetPassword:async b=>{try{r(!0);const x=await DM(b);return x.success?{success:!0,message:"Password reset email sent"}:{success:!1,error:x.error}}catch(x){return console.error("Reset password error:",x),{success:!1,error:x.message}}finally{r(!1)}},changePassword:async(b,x)=>{try{r(!0);const C=await $M(b,x);return C.success?(e!=null&&e.uid&&(await Aa(e.uid,{type:"password_change",timestamp:new Date}),await Yu(e.uid,{type:"security",title:"Password Changed",message:"Your password has been successfully updated.",icon:"🔒"})),{success:!0,message:"Password updated successfully"}):{success:!1,error:C.error}}catch(C){return console.error("Change password error:",C),{success:!1,error:C.message}}finally{r(!1)}},deleteAccount:async()=>{try{r(!0),e!=null&&e.uid&&await Aa(e.uid,{type:"account_deletion",timestamp:new Date});const b=await OM();return b.success?(n(null),o(!1),l("/"),{success:!0}):{success:!1,error:b.error}}catch(b){return console.error("Delete account error:",b),{success:!1,error:b.message}}finally{r(!1)}},sendEmailVerification:async()=>{try{const b=await VM();return b.success?(e!=null&&e.uid&&await Yu(e.uid,{type:"info",title:"Verification Email Sent",message:"Please check your email and click the verification link.",icon:"📧"}),{success:!0,message:"Verification email sent"}):{success:!1,error:b.error}}catch(b){return console.error("Send verification error:",b),{success:!1,error:b.message}}},refreshUserProfile:async()=>{try{if(e!=null&&e.uid){const b=await B1(e.uid);if(b.success)return n(x=>({...x,...b.data})),{success:!0}}return{success:!1,error:"No user logged in"}}catch(b){return console.error("Refresh profile error:",b),{success:!1,error:b.message}}}};return i.jsx(ck.Provider,{value:_,children:t})},ux=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Af=T.createContext({}),Pf=T.createContext(null),Rf=typeof document<"u",eu=Rf?T.useLayoutEffect:T.useEffect,uk=T.createContext({strict:!1}),dx=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),JM="framerAppearId",dk="data-"+dx(JM);function ZM(t,e,n,s){const{visualElement:r}=T.useContext(Af),a=T.useContext(uk),o=T.useContext(Pf),l=T.useContext(ux).reducedMotion,c=T.useRef();s=s||a.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;T.useInsertionEffect(()=>{u&&u.update(n,o)});const h=T.useRef(!!(n[dk]&&!window.HandoffComplete));return eu(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}function Qa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function e9(t,e,n){return T.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Qa(n)&&(n.current=s))},[e])}function Tc(t){return typeof t=="string"||Array.isArray(t)}function Df(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const hx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fx=["initial",...hx];function $f(t){return Df(t.animate)||fx.some(e=>Tc(t[e]))}function hk(t){return!!($f(t)||t.variants)}function t9(t,e){if($f(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Tc(n)?n:void 0,animate:Tc(s)?s:void 0}}return t.inherit!==!1?e:{}}function n9(t){const{initial:e,animate:n}=t9(t,T.useContext(Af));return T.useMemo(()=>({initial:e,animate:n}),[W1(e),W1(n)])}function W1(t){return Array.isArray(t)?t.join(" "):t}const G1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ec={};for(const t in G1)Ec[t]={isEnabled:e=>G1[t].some(n=>!!e[n])};function s9(t){for(const e in t)Ec[e]={...Ec[e],...t[e]}}const mx=T.createContext({}),fk=T.createContext({}),r9=Symbol.for("motionComponentSymbol");function i9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&s9(t);function a(l,c){let u;const h={...T.useContext(ux),...l,layoutId:a9(l)},{isStatic:f}=h,m=n9(l),p=s(l,f);if(!f&&Rf){m.visualElement=ZM(r,p,h,e);const y=T.useContext(fk),N=T.useContext(uk).strict;m.visualElement&&(u=m.visualElement.loadFeatures(h,N,t,y))}return T.createElement(Af.Provider,{value:m},u&&m.visualElement?T.createElement(u,{visualElement:m.visualElement,...h}):null,n(r,l,e9(p,m.visualElement,c),p,f,m.visualElement))}const o=T.forwardRef(a);return o[r9]=r,o}function a9({layoutId:t}){const e=T.useContext(mx).id;return e&&t!==void 0?e+"-"+t:t}function o9(t){function e(s,r={}){return i9(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const l9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function px(t){return typeof t!="string"||t.includes("-")?!1:!!(l9.indexOf(t)>-1||/[A-Z]/.test(t))}const _h={};function c9(t){Object.assign(_h,t)}const tu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ja=new Set(tu);function mk(t,{layout:e,layoutId:n}){return ja.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_h[t]||t==="opacity")}const wn=t=>!!(t&&t.getVelocity),u9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d9=tu.length;function h9(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let a="";for(let o=0;o<d9;o++){const l=tu[o];if(t[l]!==void 0){const c=u9[l]||l;a+=`${c}(${t[l]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(t,s?"":a):n&&s&&(a="none"),a}const pk=t=>e=>typeof e=="string"&&e.startsWith(t),gk=pk("--"),Fg=pk("var(--"),f9=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,m9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ci=(t,e,n)=>Math.min(Math.max(n,t),e),_a={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fl={..._a,transform:t=>ci(0,1,t)},Xu={..._a,default:1},Ul=t=>Math.round(t*1e5)/1e5,Of=/(-)?([\d]*\.?[\d])+/g,yk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,p9=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function nu(t){return typeof t=="string"}const su=t=>({test:e=>nu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),jr=su("deg"),$s=su("%"),oe=su("px"),g9=su("vh"),y9=su("vw"),K1={...$s,parse:t=>$s.parse(t)/100,transform:t=>$s.transform(t*100)},Q1={..._a,transform:Math.round},xk={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,size:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:Xu,scaleX:Xu,scaleY:Xu,scaleZ:Xu,skew:jr,skewX:jr,skewY:jr,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Fl,originX:K1,originY:K1,originZ:oe,zIndex:Q1,fillOpacity:Fl,strokeOpacity:Fl,numOctaves:Q1};function gx(t,e,n,s){const{style:r,vars:a,transform:o,transformOrigin:l}=t;let c=!1,u=!1,h=!0;for(const f in e){const m=e[f];if(gk(f)){a[f]=m;continue}const p=xk[f],y=m9(m,p);if(ja.has(f)){if(c=!0,o[f]=y,!h)continue;m!==(p.default||0)&&(h=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):r[f]=y}if(e.transform||(c||s?r.transform=h9(t.transform,n,h,s):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=l;r.transformOrigin=`${f} ${m} ${p}`}}const yx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vk(t,e,n){for(const s in e)!wn(e[s])&&!mk(s,n)&&(t[s]=e[s])}function x9({transformTemplate:t},e,n){return T.useMemo(()=>{const s=yx();return gx(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function v9(t,e,n){const s=t.style||{},r={};return vk(r,s,t),Object.assign(r,x9(t,e,n)),t.transformValues?t.transformValues(r):r}function w9(t,e,n){const s={},r=v9(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const b9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Th(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||b9.has(t)}let wk=t=>!Th(t);function N9(t){t&&(wk=e=>e.startsWith("on")?!Th(e):t(e))}try{N9(require("@emotion/is-prop-valid").default)}catch{}function j9(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(wk(r)||n===!0&&Th(r)||!e&&!Th(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function Y1(t,e,n){return typeof t=="string"?t:oe.transform(e+n*t)}function _9(t,e,n){const s=Y1(e,t.x,t.width),r=Y1(n,t.y,t.height);return`${s} ${r}`}const T9={offset:"stroke-dashoffset",array:"stroke-dasharray"},E9={offset:"strokeDashoffset",array:"strokeDasharray"};function S9(t,e,n=1,s=0,r=!0){t.pathLength=1;const a=r?T9:E9;t[a.offset]=oe.transform(-s);const o=oe.transform(e),l=oe.transform(n);t[a.array]=`${o} ${l}`}function xx(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,f,m){if(gx(t,u,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:N}=t;p.transform&&(N&&(y.transform=p.transform),delete p.transform),N&&(r!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=_9(N,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),o!==void 0&&S9(p,o,l,c,!1)}const bk=()=>({...yx(),attrs:{}}),vx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k9(t,e,n,s){const r=T.useMemo(()=>{const a=bk();return xx(a,e,{enableHardwareAcceleration:!1},vx(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};vk(a,t.style,t),r.style={...a,...r.style}}return r}function I9(t=!1){return(n,s,r,{latestValues:a},o)=>{const c=(px(n)?k9:w9)(s,a,o,n),h={...j9(s,typeof n=="string",t),...c,ref:r},{children:f}=s,m=T.useMemo(()=>wn(f)?f.get():f,[f]);return T.createElement(n,{...h,children:m})}}function Nk(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const jk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _k(t,e,n,s){Nk(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(jk.has(r)?r:dx(r),e.attrs[r])}function wx(t,e){const{style:n}=t,s={};for(const r in n)(wn(n[r])||e.style&&wn(e.style[r])||mk(r,t))&&(s[r]=n[r]);return s}function Tk(t,e){const n=wx(t,e);for(const s in t)if(wn(t[s])||wn(e[s])){const r=tu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function bx(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function ru(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Eh=t=>Array.isArray(t),C9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),A9=t=>Eh(t)?t[t.length-1]||0:t;function jd(t){const e=wn(t)?t.get():t;return C9(e)?e.toValue():e}function P9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,a){const o={latestValues:R9(s,r,a,t),renderState:e()};return n&&(o.mount=l=>n(s,l,o)),o}const Ek=t=>(e,n)=>{const s=T.useContext(Af),r=T.useContext(Pf),a=()=>P9(t,e,s,r);return n?a():ru(a)};function R9(t,e,n,s){const r={},a=s(t,{});for(const m in a)r[m]=jd(a[m]);let{initial:o,animate:l}=t;const c=$f(t),u=hk(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;return f&&typeof f!="boolean"&&!Df(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const y=bx(t,p);if(!y)return;const{transitionEnd:N,transition:j,..._}=y;for(const b in _){let x=_[b];if(Array.isArray(x)){const C=h?x.length-1:0;x=x[C]}x!==null&&(r[b]=x)}for(const b in N)r[b]=N[b]}),r}const st=t=>t;class X1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function D9(t){let e=new X1,n=new X1,s=0,r=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,h=!1)=>{const f=h&&r,m=f?e:n;return u&&o.add(c),m.add(c)&&f&&r&&(s=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(r){a=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let u=0;u<s;u++){const h=e.order[u];h(c),o.has(h)&&(l.schedule(h),t())}r=!1,a&&(a=!1,l.process(c))}};return l}const Ju=["prepare","read","update","preRender","render","postRender"],$9=40;function O9(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=Ju.reduce((f,m)=>(f[m]=D9(()=>n=!0),f),{}),o=f=>a[f].process(r),l=()=>{const f=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(f-r.timestamp,$9),1),r.timestamp=f,r.isProcessing=!0,Ju.forEach(o),r.isProcessing=!1,n&&e&&(s=!1,t(l))},c=()=>{n=!0,s=!0,r.isProcessing||t(l)};return{schedule:Ju.reduce((f,m)=>{const p=a[m];return f[m]=(y,N=!1,j=!1)=>(n||c(),p.schedule(y,N,j)),f},{}),cancel:f=>Ju.forEach(m=>a[m].cancel(f)),state:r,steps:a}}const{schedule:ke,cancel:gs,state:kt,steps:ep}=O9(typeof requestAnimationFrame<"u"?requestAnimationFrame:st,!0),V9={useVisualState:Ek({scrapeMotionValuesFromProps:Tk,createRenderState:bk,onMount:(t,e,{renderState:n,latestValues:s})=>{ke.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{xx(n,s,{enableHardwareAcceleration:!1},vx(e.tagName),t.transformTemplate),_k(e,n)})}})},L9={useVisualState:Ek({scrapeMotionValuesFromProps:wx,createRenderState:yx})};function M9(t,{forwardMotionProps:e=!1},n,s){return{...px(t)?V9:L9,preloadedFeatures:n,useRender:I9(e),createVisualElement:s,Component:t}}function Js(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Sk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Vf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const F9=t=>e=>Sk(e)&&t(e,Vf(e));function nr(t,e,n,s){return Js(t,e,F9(n),s)}const U9=(t,e)=>n=>e(t(n)),Yr=(...t)=>t.reduce(U9);function kk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const J1=kk("dragHorizontal"),Z1=kk("dragVertical");function Ik(t){let e=!1;if(t==="y")e=Z1();else if(t==="x")e=J1();else{const n=J1(),s=Z1();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function Ck(){const t=Ik(!0);return t?(t(),!1):!0}class Ni{constructor(e){this.isMounted=!1,this.node=e}update(){}}function eN(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(a,o)=>{if(a.pointerType==="touch"||Ck())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[s]&&ke.update(()=>l[s](a,o))};return nr(t.current,n,r,{passive:!t.getProps()[s]})}class B9 extends Ni{mount(){this.unmount=Yr(eN(this.node,!0),eN(this.node,!1))}unmount(){}}class z9 extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yr(Js(this.node.current,"focus",()=>this.onFocus()),Js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ak=(t,e)=>e?t===e?!0:Ak(t,e.parentElement):!1;function tp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Vf(n))}class H9 extends Ni{constructor(){super(...arguments),this.removeStartListeners=st,this.removeEndListeners=st,this.removeAccessibleListeners=st,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=nr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:f}=this.node.getProps();ke.update(()=>{!f&&!Ak(this.node.current,l.target)?h&&h(l,c):u&&u(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=nr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Yr(a,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||tp("up",(c,u)=>{const{onTap:h}=this.node.getProps();h&&ke.update(()=>h(c,u))})};this.removeEndListeners(),this.removeEndListeners=Js(this.node.current,"keyup",o),tp("down",(l,c)=>{this.startPress(l,c)})},n=Js(this.node.current,"keydown",e),s=()=>{this.isPressing&&tp("cancel",(a,o)=>this.cancelPress(a,o))},r=Js(this.node.current,"blur",s);this.removeAccessibleListeners=Yr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&ke.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ck()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&ke.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=nr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=Js(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Yr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ug=new WeakMap,np=new WeakMap,q9=t=>{const e=Ug.get(t.target);e&&e(t)},W9=t=>{t.forEach(q9)};function G9({root:t,...e}){const n=t||document;np.has(n)||np.set(n,{});const s=np.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(W9,{root:t,...e})),s[r]}function K9(t,e,n){const s=G9(e);return Ug.set(t,n),s.observe(t),()=>{Ug.delete(t),s.unobserve(t)}}const Q9={some:0,all:1};class Y9 extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Q9[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=u?h:f;m&&m(c)};return K9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X9(e,n))&&this.startObserver()}unmount(){}}function X9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const J9={inView:{Feature:Y9},tap:{Feature:H9},focus:{Feature:z9},hover:{Feature:B9}};function Pk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Z9(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function eF(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Lf(t,e,n){const s=t.getProps();return bx(s,e,n!==void 0?n:s.custom,Z9(t),eF(t))}let tF=st,Nx=st;const Qi=t=>t*1e3,sr=t=>t/1e3,nF={current:!1},Rk=t=>Array.isArray(t)&&typeof t[0]=="number";function Dk(t){return!!(!t||typeof t=="string"&&$k[t]||Rk(t)||Array.isArray(t)&&t.every(Dk))}const Nl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,$k={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nl([0,.65,.55,1]),circOut:Nl([.55,0,1,.45]),backIn:Nl([.31,.01,.66,-.59]),backOut:Nl([.33,1.53,.69,.99])};function Ok(t){if(t)return Rk(t)?Nl(t):Array.isArray(t)?t.map(Ok):$k[t]}function sF(t,e,n,{delay:s=0,duration:r,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=Ok(l);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function rF(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Vk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iF=1e-7,aF=12;function oF(t,e,n,s,r){let a,o,l=0;do o=e+(n-e)/2,a=Vk(o,s,r)-t,a>0?n=o:e=o;while(Math.abs(a)>iF&&++l<aF);return o}function iu(t,e,n,s){if(t===e&&n===s)return st;const r=a=>oF(a,0,1,t,n);return a=>a===0||a===1?a:Vk(r(a),e,s)}const lF=iu(.42,0,1,1),cF=iu(0,0,.58,1),Lk=iu(.42,0,.58,1),uF=t=>Array.isArray(t)&&typeof t[0]!="number",Mk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Fk=t=>e=>1-t(1-e),jx=t=>1-Math.sin(Math.acos(t)),Uk=Fk(jx),dF=Mk(jx),Bk=iu(.33,1.53,.69,.99),_x=Fk(Bk),hF=Mk(_x),fF=t=>(t*=2)<1?.5*_x(t):.5*(2-Math.pow(2,-10*(t-1))),mF={linear:st,easeIn:lF,easeInOut:Lk,easeOut:cF,circIn:jx,circInOut:dF,circOut:Uk,backIn:_x,backInOut:hF,backOut:Bk,anticipate:fF},tN=t=>{if(Array.isArray(t)){Nx(t.length===4);const[e,n,s,r]=t;return iu(e,n,s,r)}else if(typeof t=="string")return mF[t];return t},Tx=(t,e)=>n=>!!(nu(n)&&p9.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),zk=(t,e,n)=>s=>{if(!nu(s))return s;const[r,a,o,l]=s.match(Of);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},pF=t=>ci(0,255,t),sp={..._a,transform:t=>Math.round(pF(t))},zi={test:Tx("rgb","red"),parse:zk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+sp.transform(t)+", "+sp.transform(e)+", "+sp.transform(n)+", "+Ul(Fl.transform(s))+")"};function gF(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Bg={test:Tx("#"),parse:gF,transform:zi.transform},Ya={test:Tx("hsl","hue"),parse:zk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+$s.transform(Ul(e))+", "+$s.transform(Ul(n))+", "+Ul(Fl.transform(s))+")"},Yt={test:t=>zi.test(t)||Bg.test(t)||Ya.test(t),parse:t=>zi.test(t)?zi.parse(t):Ya.test(t)?Ya.parse(t):Bg.parse(t),transform:t=>nu(t)?t:t.hasOwnProperty("red")?zi.transform(t):Ya.transform(t)},Ke=(t,e,n)=>-n*t+n*e+t;function rp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yF({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,a=0,o=0;if(!e)r=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=rp(c,l,t+1/3),a=rp(c,l,t),o=rp(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const ip=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},xF=[Bg,zi,Ya],vF=t=>xF.find(e=>e.test(t));function nN(t){const e=vF(t);let n=e.parse(t);return e===Ya&&(n=yF(n)),n}const Hk=(t,e)=>{const n=nN(t),s=nN(e),r={...n};return a=>(r.red=ip(n.red,s.red,a),r.green=ip(n.green,s.green,a),r.blue=ip(n.blue,s.blue,a),r.alpha=Ke(n.alpha,s.alpha,a),zi.transform(r))};function wF(t){var e,n;return isNaN(t)&&nu(t)&&(((e=t.match(Of))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(yk))===null||n===void 0?void 0:n.length)||0)>0}const qk={regex:f9,countKey:"Vars",token:"${v}",parse:st},Wk={regex:yk,countKey:"Colors",token:"${c}",parse:Yt.parse},Gk={regex:Of,countKey:"Numbers",token:"${n}",parse:_a.parse};function ap(t,{regex:e,countKey:n,token:s,parse:r}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...a.map(r)))}function Sh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ap(n,qk),ap(n,Wk),ap(n,Gk),n}function Kk(t){return Sh(t).values}function Qk(t){const{values:e,numColors:n,numVars:s,tokenised:r}=Sh(t),a=e.length;return o=>{let l=r;for(let c=0;c<a;c++)c<s?l=l.replace(qk.token,o[c]):c<s+n?l=l.replace(Wk.token,Yt.transform(o[c])):l=l.replace(Gk.token,Ul(o[c]));return l}}const bF=t=>typeof t=="number"?0:t;function NF(t){const e=Kk(t);return Qk(t)(e.map(bF))}const ui={test:wF,parse:Kk,createTransformer:Qk,getAnimatableNone:NF},Yk=(t,e)=>n=>`${n>0?e:t}`;function Xk(t,e){return typeof t=="number"?n=>Ke(t,e,n):Yt.test(t)?Hk(t,e):t.startsWith("var(")?Yk(t,e):Zk(t,e)}const Jk=(t,e)=>{const n=[...t],s=n.length,r=t.map((a,o)=>Xk(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}},jF=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Xk(t[r],e[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}},Zk=(t,e)=>{const n=ui.createTransformer(e),s=Sh(t),r=Sh(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?Yr(Jk(s.values,r.values),n):Yk(t,e)},To=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},sN=(t,e)=>n=>Ke(t,e,n);function _F(t){return typeof t=="number"?sN:typeof t=="string"?Yt.test(t)?Hk:Zk:Array.isArray(t)?Jk:typeof t=="object"?jF:sN}function TF(t,e,n){const s=[],r=n||_F(t[0]),a=t.length-1;for(let o=0;o<a;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||st:e;l=Yr(c,l)}s.push(l)}return s}function Mf(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const a=t.length;if(Nx(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=TF(e,s,r),l=o.length,c=u=>{let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=To(t[h],t[h+1],u);return o[h](f)};return n?u=>c(ci(t[0],t[a-1],u)):c}function EF(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=To(0,e,s);t.push(Ke(n,1,r))}}function eI(t){const e=[0];return EF(e,t.length-1),e}function SF(t,e){return t.map(n=>n*e)}function kF(t,e){return t.map(()=>e||Lk).splice(0,t.length-1)}function kh({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=uF(s)?s.map(tN):tN(s),a={done:!1,value:e[0]},o=SF(n&&n.length===e.length?n:eI(e),t),l=Mf(o,e,{ease:Array.isArray(r)?r:kF(e,r)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}function Ex(t,e){return e?t*(1e3/e):0}const IF=5;function tI(t,e,n){const s=Math.max(e-IF,0);return Ex(n-t(s),e-s)}const op=.001,CF=.01,AF=10,PF=.05,RF=1;function DF({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,a,o=1-e;o=ci(PF,RF,o),t=ci(CF,AF,sr(t)),o<1?(r=u=>{const h=u*o,f=h*t,m=h-n,p=zg(u,o),y=Math.exp(-f);return op-m/p*y},a=u=>{const f=u*o*t,m=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-f),N=zg(Math.pow(u,2),o);return(-r(u)+op>0?-1:1)*((m-p)*y)/N}):(r=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-op+h*f},a=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const l=5/t,c=OF(r,a,l);if(t=Qi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const $F=12;function OF(t,e,n){let s=n;for(let r=1;r<$F;r++)s=s-t(s)/e(s);return s}function zg(t,e){return t*Math.sqrt(1-e*e)}const VF=["duration","bounce"],LF=["stiffness","damping","mass"];function rN(t,e){return e.some(n=>t[n]!==void 0)}function MF(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!rN(t,LF)&&rN(t,VF)){const n=DF(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function nI({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],a=t[t.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=MF({...s,velocity:-sr(s.velocity||0)}),p=f||0,y=c/(2*Math.sqrt(l*u)),N=a-r,j=sr(Math.sqrt(l/u)),_=Math.abs(N)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let b;if(y<1){const x=zg(j,y);b=C=>{const R=Math.exp(-y*j*C);return a-R*((p+y*j*N)/x*Math.sin(x*C)+N*Math.cos(x*C))}}else if(y===1)b=x=>a-Math.exp(-j*x)*(N+(p+j*N)*x);else{const x=j*Math.sqrt(y*y-1);b=C=>{const R=Math.exp(-y*j*C),O=Math.min(x*C,300);return a-R*((p+y*j*N)*Math.sinh(O)+x*N*Math.cosh(O))/x}}return{calculatedDuration:m&&h||null,next:x=>{const C=b(x);if(m)o.done=x>=h;else{let R=p;x!==0&&(y<1?R=tI(b,x,C):R=0);const O=Math.abs(R)<=n,E=Math.abs(a-C)<=e;o.done=O&&E}return o.value=o.done?a:C,o}}}function iN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},p=w=>l!==void 0&&w<l||c!==void 0&&w>c,y=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let N=n*e;const j=f+N,_=o===void 0?j:o(j);_!==j&&(N=_-f);const b=w=>-N*Math.exp(-w/s),x=w=>_+b(w),C=w=>{const k=b(w),A=x(w);m.done=Math.abs(k)<=u,m.value=m.done?_:A};let R,O;const E=w=>{p(m.value)&&(R=w,O=nI({keyframes:[m.value,y(m.value)],velocity:tI(x,w,m.value),damping:r,stiffness:a,restDelta:u,restSpeed:h}))};return E(0),{calculatedDuration:null,next:w=>{let k=!1;return!O&&R===void 0&&(k=!0,C(w),E(w)),R!==void 0&&w>R?O.next(w-R):(!k&&C(w),m)}}}const FF=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ke.update(e,!0),stop:()=>gs(e),now:()=>kt.isProcessing?kt.timestamp:performance.now()}},aN=2e4;function oN(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<aN;)e+=n,s=t.next(e);return e>=aN?1/0:e}const UF={decay:iN,inertia:iN,tween:kh,keyframes:kh,spring:nI};function Ih({autoplay:t=!0,delay:e=0,driver:n=FF,keyframes:s,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:h,onUpdate:f,...m}){let p=1,y=!1,N,j;const _=()=>{j=new Promise(H=>{N=H})};_();let b;const x=UF[r]||kh;let C;x!==kh&&typeof s[0]!="number"&&(C=Mf([0,100],s,{clamp:!1}),s=[0,100]);const R=x({...m,keyframes:s});let O;l==="mirror"&&(O=x({...m,keyframes:[...s].reverse(),velocity:-(m.velocity||0)}));let E="idle",w=null,k=null,A=null;R.calculatedDuration===null&&a&&(R.calculatedDuration=oN(R));const{calculatedDuration:$}=R;let D=1/0,P=1/0;$!==null&&(D=$+o,P=D*(a+1)-o);let ae=0;const pe=H=>{if(k===null)return;p>0&&(k=Math.min(k,H)),p<0&&(k=Math.min(H-P/p,k)),w!==null?ae=w:ae=Math.round(H-k)*p;const se=ae-e*(p>=0?1:-1),xe=p>=0?se<0:se>P;ae=Math.max(se,0),E==="finished"&&w===null&&(ae=P);let Be=ae,ze=R;if(a){const _t=Math.min(ae,P)/D;let Ot=Math.floor(_t),pt=_t%1;!pt&&_t>=1&&(pt=1),pt===1&&Ot--,Ot=Math.min(Ot,a+1),!!(Ot%2)&&(l==="reverse"?(pt=1-pt,o&&(pt-=o/D)):l==="mirror"&&(ze=O)),Be=ci(0,1,pt)*D}const _e=xe?{done:!1,value:s[0]}:ze.next(Be);C&&(_e.value=C(_e.value));let{done:Ze}=_e;!xe&&$!==null&&(Ze=p>=0?ae>=P:ae<=0);const bn=w===null&&(E==="finished"||E==="running"&&Ze);return f&&f(_e.value),bn&&q(),_e},ge=()=>{b&&b.stop(),b=void 0},re=()=>{E="idle",ge(),N(),_(),k=A=null},q=()=>{E="finished",h&&h(),ge(),N()},Y=()=>{if(y)return;b||(b=n(pe));const H=b.now();c&&c(),w!==null?k=H-w:(!k||E==="finished")&&(k=H),E==="finished"&&_(),A=k,w=null,E="running",b.start()};t&&Y();const M={then(H,se){return j.then(H,se)},get time(){return sr(ae)},set time(H){H=Qi(H),ae=H,w!==null||!b||p===0?w=H:k=b.now()-H/p},get duration(){const H=R.calculatedDuration===null?oN(R):R.calculatedDuration;return sr(H)},get speed(){return p},set speed(H){H===p||!b||(p=H,M.time=sr(ae))},get state(){return E},play:Y,pause:()=>{E="paused",w=ae},stop:()=>{y=!0,E!=="idle"&&(E="idle",u&&u(),re())},cancel:()=>{A!==null&&pe(A),re()},complete:()=>{E="finished"},sample:H=>(k=0,pe(H))};return M}function BF(t){let e;return()=>(e===void 0&&(e=t()),e)}const zF=BF(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HF=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Zu=10,qF=2e4,WF=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Dk(e.ease);function GF(t,e,{onUpdate:n,onComplete:s,...r}){if(!(zF()&&HF.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const h=()=>{c=new Promise(x=>{l=x})};h();let{keyframes:f,duration:m=300,ease:p,times:y}=r;if(WF(e,r)){const x=Ih({...r,repeat:0,delay:0});let C={done:!1,value:f[0]};const R=[];let O=0;for(;!C.done&&O<qF;)C=x.sample(O),R.push(C.value),O+=Zu;y=void 0,f=R,m=O-Zu,p="linear"}const N=sF(t.owner.current,e,f,{...r,duration:m,ease:p,times:y}),j=()=>{u=!1,N.cancel()},_=()=>{u=!0,ke.update(j),l(),h()};return N.onfinish=()=>{u||(t.set(rF(f,r)),s&&s(),_())},{then(x,C){return c.then(x,C)},attachTimeline(x){return N.timeline=x,N.onfinish=null,st},get time(){return sr(N.currentTime||0)},set time(x){N.currentTime=Qi(x)},get speed(){return N.playbackRate},set speed(x){N.playbackRate=x},get duration(){return sr(m)},play:()=>{o||(N.play(),gs(j))},pause:()=>N.pause(),stop:()=>{if(o=!0,N.playState==="idle")return;const{currentTime:x}=N;if(x){const C=Ih({...r,autoplay:!1});t.setWithVelocity(C.sample(x-Zu).value,C.sample(x).value,Zu)}_()},complete:()=>{u||N.finish()},cancel:_}}function KF({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:st,pause:st,stop:st,then:a=>(a(),Promise.resolve()),cancel:st,complete:st});return e?Ih({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const QF={type:"spring",stiffness:500,damping:25,restSpeed:10},YF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XF={type:"keyframes",duration:.8},JF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZF=(t,{keyframes:e})=>e.length>2?XF:ja.has(t)?t.startsWith("scale")?YF(e[1]):QF:JF,Hg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ui.test(e)||e==="0")&&!e.startsWith("url(")),e8=new Set(["brightness","contrast","saturate","opacity"]);function t8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Of)||[];if(!s)return t;const r=n.replace(s,"");let a=e8.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+r+")"}const n8=/([a-z-]*)\(.*?\)/g,qg={...ui,getAnimatableNone:t=>{const e=t.match(n8);return e?e.map(t8).join(" "):t}},s8={...xk,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:qg,WebkitFilter:qg},Sx=t=>s8[t];function sI(t,e){let n=Sx(t);return n!==qg&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rI=t=>/^0[^.\s]+$/.test(t);function r8(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||rI(t)}function i8(t,e,n,s){const r=Hg(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:t.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),r8(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(r&&c.length&&l)for(let u=0;u<c.length;u++){const h=c[u];a[h]=sI(e,l)}return a}function a8({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}function kx(t,e){return t[e]||t.default||t}const o8={skipAnimations:!1},Ix=(t,e,n,s={})=>r=>{const a=kx(s,t)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Qi(o);const c=i8(e,t,n,a),u=c[0],h=c[c.length-1],f=Hg(t,u),m=Hg(t,h);let p={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:y=>{e.set(y),a.onUpdate&&a.onUpdate(y)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(a8(a)||(p={...p,...ZF(t,p)}),p.duration&&(p.duration=Qi(p.duration)),p.repeatDelay&&(p.repeatDelay=Qi(p.repeatDelay)),!f||!m||nF.current||a.type===!1||o8.skipAnimations)return KF(p);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=GF(e,t,p);if(y)return y}return Ih(p)};function Ch(t){return!!(wn(t)&&t.add)}const iI=t=>/^\-?\d*\.?\d+$/.test(t);function Cx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ax(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Px{constructor(){this.subscriptions=[]}add(e){return Cx(this.subscriptions,e),()=>Ax(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const l8=t=>!isNaN(parseFloat(t)),Bl={current:void 0};class c8{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=kt;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=l8(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Px);const s=this.events[e].add(n);return e==="change"?()=>{s(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Bl.current&&Bl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ex(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function as(t,e){return new c8(t,e)}const aI=t=>e=>e.test(t),u8={test:t=>t==="auto",parse:t=>t},oI=[_a,oe,$s,jr,y9,g9,u8],ll=t=>oI.find(aI(t)),d8=[...oI,Yt,ui],h8=t=>d8.find(aI(t));function f8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,as(n))}function m8(t,e){const n=Lf(t,e);let{transitionEnd:s={},transition:r={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=A9(a[o]);f8(t,o,l)}}function p8(t,e,n){var s,r;const a=Object.keys(e).filter(l=>!t.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=e[c];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(r=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&r!==void 0?r:e[c]),h!=null&&(typeof h=="string"&&(iI(h)||rI(h))?h=parseFloat(h):!h8(h)&&ui.test(u)&&(h=sI(c,u)),t.addValue(c,as(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function g8(t,e){return e?(e[t]||e.default||e).from:void 0}function y8(t,e,n){const s={};for(const r in t){const a=g8(r,e);if(a!==void 0)s[r]=a;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function x8({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function v8(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function lI(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(a=s);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const m=t.getValue(f),p=l[f];if(!m||p===void 0||h&&x8(h,f))continue;const y={delay:n,elapsed:0,...kx(a||{},f)};if(window.HandoffAppearAnimations){const _=t.getProps()[dk];if(_){const b=window.HandoffAppearAnimations(_,f,m,ke);b!==null&&(y.elapsed=b,y.isHandoff=!0)}}let N=!y.isHandoff&&!v8(m,p);if(y.type==="spring"&&(m.getVelocity()||y.velocity)&&(N=!1),m.animation&&(N=!1),N)continue;m.start(Ix(f,m,p,t.shouldReduceMotion&&ja.has(f)?{type:!1}:y));const j=m.animation;Ch(c)&&(c.add(f),j.then(()=>c.remove(f))),u.push(j)}return o&&Promise.all(u).then(()=>{o&&m8(t,o)}),u}function Wg(t,e,n={}){const s=Lf(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(lI(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=r;return w8(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function w8(t,e,n=0,s=0,r=1,a){const o=[],l=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(b8).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(Wg(u,e,{...a,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function b8(t,e){return t.sortNodePosition(e)}function N8(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(a=>Wg(t,a,n));s=Promise.all(r)}else if(typeof e=="string")s=Wg(t,e,n);else{const r=typeof e=="function"?Lf(t,e,n.custom):e;s=Promise.all(lI(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const j8=[...hx].reverse(),_8=hx.length;function T8(t){return e=>Promise.all(e.map(({animation:n,options:s})=>N8(t,n,s)))}function E8(t){let e=T8(t);const n=k8();let s=!0;const r=(c,u)=>{const h=Lf(t,u);if(h){const{transition:f,transitionEnd:m,...p}=h;c={...c,...p,...m}}return c};function a(c){e=c(t)}function o(c,u){const h=t.getProps(),f=t.getVariantContext(!0)||{},m=[],p=new Set;let y={},N=1/0;for(let _=0;_<_8;_++){const b=j8[_],x=n[b],C=h[b]!==void 0?h[b]:f[b],R=Tc(C),O=b===u?x.isActive:null;O===!1&&(N=_);let E=C===f[b]&&C!==h[b]&&R;if(E&&s&&t.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...y},!x.isActive&&O===null||!C&&!x.prevProp||Df(C)||typeof C=="boolean")continue;let k=S8(x.prevProp,C)||b===u&&x.isActive&&!E&&R||_>N&&R,A=!1;const $=Array.isArray(C)?C:[C];let D=$.reduce(r,{});O===!1&&(D={});const{prevResolvedValues:P={}}=x,ae={...P,...D},pe=ge=>{k=!0,p.has(ge)&&(A=!0,p.delete(ge)),x.needsAnimating[ge]=!0};for(const ge in ae){const re=D[ge],q=P[ge];if(y.hasOwnProperty(ge))continue;let Y=!1;Eh(re)&&Eh(q)?Y=!Pk(re,q):Y=re!==q,Y?re!==void 0?pe(ge):p.add(ge):re!==void 0&&p.has(ge)?pe(ge):x.protectedKeys[ge]=!0}x.prevProp=C,x.prevResolvedValues=D,x.isActive&&(y={...y,...D}),s&&t.blockInitialAnimation&&(k=!1),k&&(!E||A)&&m.push(...$.map(ge=>({animation:ge,options:{type:b,...c}})))}if(p.size){const _={};p.forEach(b=>{const x=t.getBaseTarget(b);x!==void 0&&(_[b]=x)}),m.push({animation:_})}let j=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(m):Promise.resolve()}function l(c,u,h){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const m=o(h,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function S8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Pk(e,t):!1}function Ci(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k8(){return{animate:Ci(!0),whileInView:Ci(),whileHover:Ci(),whileTap:Ci(),whileDrag:Ci(),whileFocus:Ci(),exit:Ci()}}class I8 extends Ni{constructor(e){super(e),e.animationState||(e.animationState=E8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Df(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let C8=0;class A8 extends Ni{constructor(){super(...arguments),this.id=C8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const P8={animation:{Feature:I8},exit:{Feature:A8}},lN=(t,e)=>Math.abs(t-e);function R8(t,e){const n=lN(t.x,e.x),s=lN(t.y,e.y);return Math.sqrt(n**2+s**2)}class cI{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=R8(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:y}=f,{timestamp:N}=kt;this.history.push({...y,timestamp:N});const{onStart:j,onMove:_}=this.handlers;m||(j&&j(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lp(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=cp(f.type==="pointercancel"?this.lastMoveEventInfo:lp(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,j),y&&y(f,j)},!Sk(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Vf(e),l=lp(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=kt;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,cp(l,this.history)),this.removeListeners=Yr(nr(this.contextWindow,"pointermove",this.handlePointerMove),nr(this.contextWindow,"pointerup",this.handlePointerUp),nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function lp(t,e){return e?{point:e(t.point)}:t}function cN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cp({point:t},e){return{point:t,delta:cN(t,uI(e)),offset:cN(t,D8(e)),velocity:$8(e,.1)}}function D8(t){return t[0]}function uI(t){return t[t.length-1]}function $8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=uI(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Qi(e)));)n--;if(!s)return{x:0,y:0};const a=sr(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Pn(t){return t.max-t.min}function Gg(t,e=0,n=.01){return Math.abs(t-e)<=n}function uN(t,e,n,s=.5){t.origin=s,t.originPoint=Ke(e.min,e.max,t.origin),t.scale=Pn(n)/Pn(e),(Gg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ke(n.min,n.max,t.origin)-t.originPoint,(Gg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function zl(t,e,n,s){uN(t.x,e.x,n.x,s?s.originX:void 0),uN(t.y,e.y,n.y,s?s.originY:void 0)}function dN(t,e,n){t.min=n.min+e.min,t.max=t.min+Pn(e)}function O8(t,e,n){dN(t.x,e.x,n.x),dN(t.y,e.y,n.y)}function hN(t,e,n){t.min=e.min-n.min,t.max=t.min+Pn(e)}function Hl(t,e,n){hN(t.x,e.x,n.x),hN(t.y,e.y,n.y)}function V8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ke(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ke(n,t,s.max):Math.min(t,n)),t}function fN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function L8(t,{top:e,left:n,bottom:s,right:r}){return{x:fN(t.x,n,r),y:fN(t.y,e,s)}}function mN(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function M8(t,e){return{x:mN(t.x,e.x),y:mN(t.y,e.y)}}function F8(t,e){let n=.5;const s=Pn(t),r=Pn(e);return r>s?n=To(e.min,e.max-s,t.min):s>r&&(n=To(t.min,t.max-r,e.min)),ci(0,1,n)}function U8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kg=.35;function B8(t=Kg){return t===!1?t=0:t===!0&&(t=Kg),{x:pN(t,"left","right"),y:pN(t,"top","bottom")}}function pN(t,e,n){return{min:gN(t,e),max:gN(t,n)}}function gN(t,e){return typeof t=="number"?t:t[e]||0}const yN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xa=()=>({x:yN(),y:yN()}),xN=()=>({min:0,max:0}),ct=()=>({x:xN(),y:xN()});function Vn(t){return[t("x"),t("y")]}function dI({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function z8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function up(t){return t===void 0||t===1}function Qg({scale:t,scaleX:e,scaleY:n}){return!up(t)||!up(e)||!up(n)}function $i(t){return Qg(t)||hI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function hI(t){return vN(t.x)||vN(t.y)}function vN(t){return t&&t!=="0%"}function Ah(t,e,n){const s=t-n,r=e*s;return n+r}function wN(t,e,n,s,r){return r!==void 0&&(t=Ah(t,r,s)),Ah(t,n,s)+e}function Yg(t,e=0,n=1,s,r){t.min=wN(t.min,e,n,s,r),t.max=wN(t.max,e,n,s,r)}function fI(t,{x:e,y:n}){Yg(t.x,e.translate,e.scale,e.originPoint),Yg(t.y,n.translate,n.scale,n.originPoint)}function q8(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ja(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fI(t,o)),s&&$i(a.latestValues)&&Ja(t,a.latestValues))}e.x=bN(e.x),e.y=bN(e.y)}function bN(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Sr(t,e){t.min=t.min+e,t.max=t.max+e}function NN(t,e,[n,s,r]){const a=e[r]!==void 0?e[r]:.5,o=Ke(t.min,t.max,a);Yg(t,e[n],e[s],o,e.scale)}const W8=["x","scaleX","originX"],G8=["y","scaleY","originY"];function Ja(t,e){NN(t.x,e,W8),NN(t.y,e,G8)}function mI(t,e){return dI(H8(t.getBoundingClientRect(),e))}function K8(t,e,n){const s=mI(t,n),{scroll:r}=e;return r&&(Sr(s.x,r.offset.x),Sr(s.y,r.offset.y)),s}const pI=({current:t})=>t?t.ownerDocument.defaultView:null,Q8=new WeakMap;class Y8{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vf(h,"page").point)},a=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ik(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(j=>{let _=this.getAxisMotionValue(j).get()||0;if($s.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[j];x&&(_=Pn(x)*(parseFloat(_)/100))}}this.originPoint[j]=_}),y&&ke.update(()=>y(h,f),!1,!0);const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:N}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:j}=f;if(p&&this.currentDirection===null){this.currentDirection=X8(j),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,j),this.updateAxis("y",f.point,j),this.visualElement.render(),N&&N(h,f)},l=(h,f)=>this.stop(h,f),c=()=>Vn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new cI(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pI(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&ke.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!ed(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=V8(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Qa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=L8(r.layoutBox,n):this.constraints=!1,this.elastic=B8(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=U8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qa(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=K8(s,r.root,this.visualElement.getTransformPagePoint());let o=M8(r.layout.layoutBox,a);if(n){const l=n(z8(o));this.hasMutatedConstraints=!!l,l&&(o=dI(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Vn(h=>{if(!ed(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const m=r?200:1e6,p=r?40:1e7,y={type:"inertia",velocity:s?e[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(Ix(e,s,0,n))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:s}=this.getProps();if(!ed(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(e[n]-Ke(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Qa(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();r[o]=F8({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vn(o=>{if(!ed(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ke(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;Q8.set(this.visualElement,this);const e=this.visualElement.current,n=nr(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Qa(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=Js(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Kg,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ed(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J8 extends Ni{constructor(e){super(e),this.removeGroupControls=st,this.removeListeners=st,this.controls=new Y8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}}const jN=t=>(e,n)=>{t&&ke.update(()=>t(e,n))};class Z8 extends Ni{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(e){this.session=new cI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:jN(e),onStart:jN(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&ke.update(()=>r(a,o))}}}mount(){this.removePointerDownListener=nr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function eU(){const t=T.useContext(Pf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=T.useId();return T.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const _d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _N(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=_N(t,e.target.x),s=_N(t,e.target.y);return`${n}% ${s}%`}},tU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=ui.parse(t);if(r.length>5)return s;const a=ui.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const u=Ke(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};class nU extends Ao.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;c9(sU),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_d.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||ke.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gI(t){const[e,n]=eU(),s=T.useContext(mx);return Ao.createElement(nU,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(fk),isPresent:e,safeToRemove:n})}const sU={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:tU},yI=["TopLeft","TopRight","BottomLeft","BottomRight"],rU=yI.length,TN=t=>typeof t=="string"?parseFloat(t):t,EN=t=>typeof t=="number"||oe.test(t);function iU(t,e,n,s,r,a){r?(t.opacity=Ke(0,n.opacity!==void 0?n.opacity:1,aU(s)),t.opacityExit=Ke(e.opacity!==void 0?e.opacity:1,0,oU(s))):a&&(t.opacity=Ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<rU;o++){const l=`border${yI[o]}Radius`;let c=SN(e,l),u=SN(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||EN(c)===EN(u)?(t[l]=Math.max(Ke(TN(c),TN(u),s),0),($s.test(u)||$s.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ke(e.rotate||0,n.rotate||0,s))}function SN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aU=xI(0,.5,Uk),oU=xI(.5,.95,st);function xI(t,e,n){return s=>s<t?0:s>e?1:n(To(t,e,s))}function kN(t,e){t.min=e.min,t.max=e.max}function $n(t,e){kN(t.x,e.x),kN(t.y,e.y)}function IN(t,e,n,s,r){return t-=e,t=Ah(t,1/n,s),r!==void 0&&(t=Ah(t,1/r,s)),t}function lU(t,e=0,n=1,s=.5,r,a=t,o=t){if($s.test(e)&&(e=parseFloat(e),e=Ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ke(a.min,a.max,s);t===a&&(l-=e),t.min=IN(t.min,e,n,l,r),t.max=IN(t.max,e,n,l,r)}function CN(t,e,[n,s,r],a,o){lU(t,e[n],e[s],e[r],e.scale,a,o)}const cU=["x","scaleX","originX"],uU=["y","scaleY","originY"];function AN(t,e,n,s){CN(t.x,e,cU,n?n.x:void 0,s?s.x:void 0),CN(t.y,e,uU,n?n.y:void 0,s?s.y:void 0)}function PN(t){return t.translate===0&&t.scale===1}function vI(t){return PN(t.x)&&PN(t.y)}function dU(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function wI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function RN(t){return Pn(t.x)/Pn(t.y)}class hU{constructor(){this.members=[]}add(e){Cx(this.members,e),e.scheduleRender()}remove(e){if(Ax(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DN(t,e,n){let s="";const r=t.x.translate/e.x,a=t.y.translate/e.y;if((r||a)&&(s=`translate3d(${r}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:h}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),h&&(s+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const fU=(t,e)=>t.depth-e.depth;class mU{constructor(){this.children=[],this.isDirty=!1}add(e){Cx(this.children,e),this.isDirty=!0}remove(e){Ax(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fU),this.isDirty=!1,this.children.forEach(e)}}function pU(t,e){const n=performance.now(),s=({timestamp:r})=>{const a=r-n;a>=e&&(gs(s),t(a-e))};return ke.read(s,!0),()=>gs(s)}function gU(t){window.MotionDebug&&window.MotionDebug.record(t)}function yU(t){return t instanceof SVGElement&&t.tagName!=="svg"}function xU(t,e,n){const s=wn(t)?t:as(t);return s.start(Ix("",s,e,n)),s.animation}const $N=["","X","Y","Z"],vU={visibility:"hidden"},ON=1e3;let wU=0;const Oi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function bI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=wU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oi.totalNodes=Oi.resolvedTargetDeltas=Oi.recalculatedProjection=0,this.nodes.forEach(jU),this.nodes.forEach(kU),this.nodes.forEach(IU),this.nodes.forEach(_U),gU(Oi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mU)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Px),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yU(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=pU(m,250),_d.hasAnimatedSinceResize&&(_d.hasAnimatedSinceResize=!1,this.nodes.forEach(LN))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||h.getDefaultTransition()||DU,{onLayoutAnimationStart:j,onLayoutAnimationComplete:_}=h.getProps(),b=!this.targetLayout||!wI(this.targetLayout,y)||p,x=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const C={...kx(N,"layout"),onPlay:j,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||LN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VN);return}this.isUpdating||this.nodes.forEach(EU),this.isUpdating=!1,this.nodes.forEach(SU),this.nodes.forEach(bU),this.nodes.forEach(NU),this.clearAllSnapshots();const l=performance.now();kt.delta=ci(0,1e3/60,l-kt.timestamp),kt.timestamp=l,kt.isProcessing=!0,ep.update.process(kt),ep.preRender.process(kt),ep.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(TU),this.sharedNodes.forEach(AU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!vI(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||$i(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$U(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ct();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Sr(l.x,c.offset.x),Sr(l.y,c.offset.y)),l}removeElementScroll(o){const l=ct();$n(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;if(u!==this.root&&h&&f.layoutScroll){if(h.isRoot){$n(l,o);const{scroll:m}=this.root;m&&(Sr(l.x,-m.offset.x),Sr(l.y,-m.offset.y))}Sr(l.x,h.offset.x),Sr(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const c=ct();$n(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ja(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),$i(h.latestValues)&&Ja(c,h.latestValues)}return $i(this.latestValues)&&Ja(c,this.latestValues),c}removeTransform(o){const l=ct();$n(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!$i(u.latestValues))continue;Qg(u.latestValues)&&u.updateSnapshot();const h=ct(),f=u.measurePageBox();$n(h,f),AN(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return $i(this.latestValues)&&AN(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Hl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),fI(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Hl(this.relativeTargetOrigin,this.target,p.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qg(this.parent.latestValues)||hI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;$n(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;q8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Xa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Xa(),this.projectionDeltaWithTransform=Xa());const N=this.projectionTransform;zl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=DN(this.projectionDelta,this.treeScale),(this.projectionTransform!==N||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Oi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=Xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ct(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,N=p!==y,j=this.getStack(),_=!j||j.members.length<=1,b=!!(N&&!_&&this.options.crossfade===!0&&!this.path.some(RU));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const R=C/1e3;MN(f.x,o.x,R),MN(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PU(this.relativeTarget,this.relativeTargetOrigin,m,R),x&&dU(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ct()),$n(x,this.relativeTarget)),N&&(this.animationValues=h,iU(h,u,this.latestValues,R,b,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{_d.hasAnimatedSinceResize=!0,this.currentAnimation=xU(0,ON,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ON),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&NI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ct();const f=Pn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Pn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}$n(l,c),Ja(l,h),zl(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hU),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let h=0;h<$N.length;h++){const f="rotate"+$N[h];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const h in u)o.setStaticValue(h,u[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vU;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=jd(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=jd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$i(this.latestValues)&&(N.transform=h?h({},""):"none",this.hasProjected=!1),N}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=DN(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const N in _h){if(m[N]===void 0)continue;const{correct:j,applyTo:_}=_h[N],b=u.transform==="none"?m[N]:j(m[N],f);if(_){const x=_.length;for(let C=0;C<x;C++)u[_[C]]=b}else u[N]=b}return this.options.layoutId&&(u.pointerEvents=f===this?jd(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(VN),this.root.sharedNodes.clear()}}}function bU(t){t.updateLayout()}function NU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?Vn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],p=Pn(m);m.min=s[f].min,m.max=m.min+p}):NI(a,n.layoutBox,s)&&Vn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],p=Pn(s[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const l=Xa();zl(l,s,n.layoutBox);const c=Xa();o?zl(c,t.applyTransform(r,!0),n.measuredBox):zl(c,s,n.layoutBox);const u=!vI(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const y=ct();Hl(y,n.layoutBox,m.layoutBox);const N=ct();Hl(N,s,p.layoutBox),wI(y,N)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function jU(t){Oi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _U(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TU(t){t.clearSnapshot()}function VN(t){t.clearMeasurements()}function EU(t){t.isLayoutDirty=!1}function SU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kU(t){t.resolveTargetDelta()}function IU(t){t.calcProjection()}function CU(t){t.resetRotation()}function AU(t){t.removeLeadSnapshot()}function MN(t,e,n){t.translate=Ke(e.translate,0,n),t.scale=Ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FN(t,e,n,s){t.min=Ke(e.min,n.min,s),t.max=Ke(e.max,n.max,s)}function PU(t,e,n,s){FN(t.x,e.x,n.x,s),FN(t.y,e.y,n.y,s)}function RU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DU={duration:.45,ease:[.4,0,.1,1]},UN=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),BN=UN("applewebkit/")&&!UN("chrome/")?Math.round:st;function zN(t){t.min=BN(t.min),t.max=BN(t.max)}function $U(t){zN(t.x),zN(t.y)}function NI(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gg(RN(e),RN(n),.2)}const OU=bI({attachResizeListener:(t,e)=>Js(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dp={current:void 0},jI=bI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dp.current){const t=new OU({});t.mount(window),t.setOptions({layoutScroll:!0}),dp.current=t}return dp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VU={pan:{Feature:Z8},drag:{Feature:J8,ProjectionNode:jI,MeasureLayout:gI}},LU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function MU(t){const e=LU.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Xg(t,e,n=1){const[s,r]=MU(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return iI(o)?parseFloat(o):o}else return Fg(r)?Xg(r,e,n+1):r}function FU(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const a=r.get();if(!Fg(a))return;const o=Xg(a,s);o&&r.set(o)});for(const r in e){const a=e[r];if(!Fg(a))continue;const o=Xg(a,s);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:e,transitionEnd:n}}const UU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_I=t=>UU.has(t),BU=t=>Object.keys(t).some(_I),HN=t=>t===_a||t===oe,qN=(t,e)=>parseFloat(t.split(", ")[e]),WN=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return qN(r[1],e);{const a=s.match(/^matrix\((.+)\)$/);return a?qN(a[1],t):0}},zU=new Set(["x","y","z"]),HU=tu.filter(t=>!zU.has(t));function qU(t){const e=[];return HU.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WN(4,13),y:WN(5,14)};Eo.translateX=Eo.x;Eo.translateY=Eo.y;const WU=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,a=getComputedStyle(r),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=Eo[u](s,a)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const h=e.getValue(u);h&&h.jump(l[u]),t[u]=Eo[u](c,a)}),t},GU=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(_I);let a=[],o=!1;const l=[];if(r.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=ll(h);const m=e[c];let p;if(Eh(m)){const y=m.length,N=m[0]===null?1:0;h=m[N],f=ll(h);for(let j=N;j<y&&m[j]!==null;j++)p?Nx(ll(m[j])===p):p=ll(m[j])}else p=ll(m);if(f!==p)if(HN(f)&&HN(p)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&p===oe&&(e[c]=m.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(h===0||m===0)?h===0?u.set(p.transform(h)):e[c]=f.transform(m):(o||(a=qU(t),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:e[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=WU(e,t,l);return a.length&&a.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Rf&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:e,transitionEnd:s}};function KU(t,e,n,s){return BU(e)?GU(t,e,n,s):{target:e,transitionEnd:s}}const QU=(t,e,n,s)=>{const r=FU(t,e,s);return e=r.target,s=r.transitionEnd,KU(t,e,n,s)},Jg={current:null},TI={current:!1};function YU(){if(TI.current=!0,!!Rf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jg.current=t.matches;t.addListener(e),e()}else Jg.current=!1}function XU(t,e,n){const{willChange:s}=e;for(const r in e){const a=e[r],o=n[r];if(wn(a))t.addValue(r,a),Ch(s)&&s.add(r);else if(wn(o))t.addValue(r,as(a,{owner:t})),Ch(s)&&s.remove(r);else if(o!==a)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,as(l!==void 0?l:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GN=new WeakMap,EI=Object.keys(Ec),JU=EI.length,KN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ZU=fx.length;class eB{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=$f(n),this.isVariantNode=hk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const m=h[f];l[f]!==void 0&&wn(m)&&(m.set(l[f],!1),Ch(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,GN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),TI.current||YU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GN.delete(this.current),this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=ja.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ke.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,a){let o,l;for(let c=0;c<JU;c++){const u=EI[c],{isEnabled:h,Feature:f,ProjectionNode:m,MeasureLayout:p}=Ec[u];m&&(o=m),h(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!h||f&&Qa(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<KN.length;s++){const r=KN[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=XU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<ZU;s++){const r=fx[s],a=this.props[r];(Tc(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=as(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=bx(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Px),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class SI extends eB{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},a){let o=y8(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),a){p8(this,s,o);const l=QU(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:e,transitionEnd:n,...s}}}function tB(t){return window.getComputedStyle(t)}class nB extends SI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ja.has(n)){const s=Sx(n);return s&&s.default||0}else{const s=tB(e),r=(gk(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mI(e,n)}build(e,n,s,r){gx(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return wx(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){Nk(e,n,s,r)}}class sB extends SI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ja.has(n)){const s=Sx(n);return s&&s.default||0}return n=jk.has(n)?n:dx(n),e.getAttribute(n)}measureInstanceViewportBox(){return ct()}scrapeMotionValuesFromProps(e,n){return Tk(e,n)}build(e,n,s,r){xx(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){_k(e,n,s,r)}mount(e){this.isSVGTag=vx(e.tagName),super.mount(e)}}const rB=(t,e)=>px(t)?new sB(e,{enableHardwareAcceleration:!1}):new nB(e,{enableHardwareAcceleration:!0}),iB={layout:{ProjectionNode:jI,MeasureLayout:gI}},aB={...P8,...J9,...VU,...iB},S=o9((t,e)=>M9(t,e,aB,rB));function kI(){const t=T.useRef(!1);return eu(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function oB(){const t=kI(),[e,n]=T.useState(0),s=T.useCallback(()=>{t.current&&n(e+1)},[e]);return[T.useCallback(()=>ke.postRender(s),[s]),e]}class lB extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cB({children:t,isPresent:e}){const n=T.useId(),s=T.useRef(null),r=T.useRef({width:0,height:0,top:0,left:0});return T.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=r.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),T.createElement(lB,{isPresent:e,childRef:s,sizeRef:r},T.cloneElement(t,{ref:s}))}const hp=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=ru(uB),c=T.useId(),u=T.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;s&&s()},register:h=>(l.set(h,!1),()=>l.delete(h))}),a?void 0:[n]);return T.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=T.createElement(cB,{isPresent:n},t)),T.createElement(Pf.Provider,{value:u},t)};function uB(){return new Map}function dB(t){return T.useEffect(()=>()=>t(),[])}const Vi=t=>t.key||"";function hB(t,e){t.forEach(n=>{const s=Vi(n);e.set(s,n)})}function fB(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const Nt=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=T.useContext(mx).forceRender||oB()[0],c=kI(),u=fB(t);let h=u;const f=T.useRef(new Map).current,m=T.useRef(h),p=T.useRef(new Map).current,y=T.useRef(!0);if(eu(()=>{y.current=!1,hB(u,p),m.current=h}),dB(()=>{y.current=!0,p.clear(),f.clear()}),y.current)return T.createElement(T.Fragment,null,h.map(b=>T.createElement(hp,{key:Vi(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},b)));h=[...h];const N=m.current.map(Vi),j=u.map(Vi),_=N.length;for(let b=0;b<_;b++){const x=N[b];j.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((b,x)=>{if(j.indexOf(x)!==-1)return;const C=p.get(x);if(!C)return;const R=N.indexOf(x);let O=b;if(!O){const E=()=>{f.delete(x);const w=Array.from(p.keys()).filter(k=>!j.includes(k));if(w.forEach(k=>p.delete(k)),m.current=u.filter(k=>{const A=Vi(k);return A===x||w.includes(A)}),!f.size){if(c.current===!1)return;l(),s&&s()}};O=T.createElement(hp,{key:Vi(C),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:a,mode:o},C),f.set(x,O)}h.splice(R,0,O)}),h=h.map(b=>{const x=b.key;return f.has(x)?b:T.createElement(hp,{key:Vi(b),isPresent:!0,presenceAffectsLayout:a,mode:o},b)}),T.createElement(T.Fragment,null,f.size?h:h.map(b=>T.cloneElement(b)))};function mB(t){const e=ru(()=>as(t)),{isStatic:n}=T.useContext(ux);if(n){const[,s]=T.useState(t);T.useEffect(()=>e.on("change",s),[])}return e}const pB=t=>t&&typeof t=="object"&&t.mix,gB=t=>pB(t)?t.mix:void 0;function yB(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],r=t[1+n],a=t[2+n],o=t[3+n],l=Mf(r,a,{mixer:gB(a[0]),...o});return e?l(s):l}function II(t,e){const n=mB(e()),s=()=>n.set(e());return s(),eu(()=>{const r=()=>ke.update(s,!1,!0),a=t.map(o=>o.on("change",r));return()=>{a.forEach(o=>o()),gs(s)}}),n}function xB(t){Bl.current=[],t();const e=II(Bl.current,t);return Bl.current=void 0,e}function QN(t,e,n,s){if(typeof t=="function")return xB(t);const r=typeof e=="function"?e:yB(e,n,s);return Array.isArray(t)?YN(t,r):YN([t],([a])=>r(a))}function YN(t,e){const n=ru(()=>[]);return II(t,()=>{n.length=0;const s=t.length;for(let r=0;r<s;r++)n[r]=t[r].get();return e(n)})}function vB(t,e,n){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Td=new WeakMap;let _r;function wB(t,e){if(e){const{inlineSize:n,blockSize:s}=e[0];return{width:n,height:s}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function bB({target:t,contentRect:e,borderBoxSize:n}){var s;(s=Td.get(t))===null||s===void 0||s.forEach(r=>{r({target:t,contentSize:e,get size(){return wB(t,n)}})})}function NB(t){t.forEach(bB)}function jB(){typeof ResizeObserver>"u"||(_r=new ResizeObserver(NB))}function _B(t,e){_r||jB();const n=vB(t);return n.forEach(s=>{let r=Td.get(s);r||(r=new Set,Td.set(s,r)),r.add(e),_r==null||_r.observe(s)}),()=>{n.forEach(s=>{const r=Td.get(s);r==null||r.delete(e),r!=null&&r.size||_r==null||_r.unobserve(s)})}}const Ed=new Set;let ql;function TB(){ql=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Ed.forEach(n=>n(e))},window.addEventListener("resize",ql)}function EB(t){return Ed.add(t),ql||TB(),()=>{Ed.delete(t),!Ed.size&&ql&&(ql=void 0)}}function SB(t,e){return typeof t=="function"?EB(t):_B(t,e)}const kB=50,XN=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),IB=()=>({time:0,x:XN(),y:XN()}),CB={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function JN(t,e,n,s){const r=n[e],{length:a,position:o}=CB[e],l=r.current,c=n.time;r.current=t["scroll"+o],r.scrollLength=t["scroll"+a]-t["client"+a],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=To(0,r.scrollLength,r.current);const u=s-c;r.velocity=u>kB?0:Ex(r.current-l,u)}function AB(t,e,n){JN(t,"x",e,n),JN(t,"y",e,n),e.time=n}function PB(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const a=s.getBoundingClientRect();n.x+=r.left-a.left,n.y+=r.top-a.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:a}=s.getBBox();n.x+=r,n.y+=a;let o=null,l=s.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=s.parentNode;s=o}else break;return n}const RB={All:[[0,0],[1,1]]},Zg={start:0,center:.5,end:1};function ZN(t,e,n=0){let s=0;if(Zg[t]!==void 0&&(t=Zg[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?s=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?s=r/100*document.documentElement.clientWidth:t.endsWith("vh")?s=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(s=e*t),n+s}const DB=[0,0];function $B(t,e,n,s){let r=Array.isArray(t)?t:DB,a=0,o=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,Zg[t]?t:"0"]),a=ZN(r[0],n,s),o=ZN(r[1],e),a-o}const OB={x:0,y:0};function VB(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function LB(t,e,n){let{offset:s=RB.All}=n;const{target:r=t,axis:a="y"}=n,o=a==="y"?"height":"width",l=r!==t?PB(r,t):OB,c=r===t?{width:t.scrollWidth,height:t.scrollHeight}:VB(r),u={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let h=!e[a].interpolate;const f=s.length;for(let m=0;m<f;m++){const p=$B(s[m],u[o],c[o],l[a]);!h&&p!==e[a].interpolatorOffsets[m]&&(h=!0),e[a].offset[m]=p}h&&(e[a].interpolate=Mf(e[a].offset,eI(s)),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=e[a].interpolate(e[a].current)}function MB(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function FB(t,e,n,s={}){return{measure:()=>MB(t,s.target,n),update:r=>{AB(t,n,r),(s.offset||s.target)&&LB(t,n,s)},notify:()=>e(n)}}const ul=new WeakMap,ej=new WeakMap,fp=new WeakMap,tj=t=>t===document.documentElement?window:t;function UB(t,{container:e=document.documentElement,...n}={}){let s=fp.get(e);s||(s=new Set,fp.set(e,s));const r=IB(),a=FB(e,t,r,n);if(s.add(a),!ul.has(e)){const l=()=>{for(const m of s)m.measure()},c=()=>{for(const m of s)m.update(kt.timestamp)},u=()=>{for(const m of s)m.notify()},h=()=>{ke.read(l,!1,!0),ke.read(c,!1,!0),ke.update(u,!1,!0)};ul.set(e,h);const f=tj(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&ej.set(e,SB(e,h)),f.addEventListener("scroll",h,{passive:!0})}const o=ul.get(e);return ke.read(o,!1,!0),()=>{var l;gs(o);const c=fp.get(e);if(!c||(c.delete(a),c.size))return;const u=ul.get(e);ul.delete(e),u&&(tj(e).removeEventListener("scroll",u),(l=ej.get(e))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function nj(t,e){tF(!!(!e||e.current))}const BB=()=>({scrollX:as(0),scrollY:as(0),scrollXProgress:as(0),scrollYProgress:as(0)});function zB({container:t,target:e,layoutEffect:n=!0,...s}={}){const r=ru(BB);return(n?eu:T.useEffect)(()=>(nj("target",e),nj("container",t),UB(({x:o,y:l})=>{r.scrollX.set(o.current),r.scrollXProgress.set(o.progress),r.scrollY.set(l.current),r.scrollYProgress.set(l.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(s.offset)]),r}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(t,e)=>{const n=T.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},h)=>T.createElement("svg",{ref:h,...HB,width:r,height:r,stroke:s,strokeWidth:o?Number(a)*24/Number(r):a,className:["lucide",`lucide-${qB(t)}`,l].join(" "),...u},[...e.map(([f,m])=>T.createElement(f,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=W("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=W("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=W("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=W("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=W("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=W("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=W("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=W("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=W("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=W("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=W("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v4",key:"jdggr9"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=W("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=W("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=W("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=W("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=W("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=W("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=W("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=W("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=W("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=W("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=W("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=W("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=W("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=W("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=W("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=W("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=W("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=W("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=W("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=W("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=W("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=W("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=W("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=W("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=W("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=W("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=W("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=W("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=W("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=W("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=W("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=W("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=W("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=W("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=W("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=W("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=W("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=W("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=W("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=W("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=W("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=W("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=W("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=W("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),xs=({onSearchOpen:t,onNotificationOpen:e,notificationCount:n=0,cartCount:s=0})=>{const r=mt(),a=Yn(),{isDark:o}=ye(),{isAuthenticated:l}=jt(),[c,u]=T.useState(!1),[h,f]=T.useState(!1),[m,p]=T.useState(null),[y,N]=T.useState(null),j=[{path:"/dashboard",label:"Home",icon:Cc,description:"Your travel dashboard"},{path:"/explore",label:"Explore",icon:kc,description:"Discover destinations"},{path:"/trip-planner",label:"AI Trips",icon:us,description:"AI-powered trip planning"},{path:"/mybookings",label:"My Trips",icon:$t,description:"Manage bookings"},{path:"/saved",label:"Saved",icon:en,description:"Your favorites"}],_=R=>a.pathname===R,b=R=>{r(R),u(!1)},x=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(R=>{const{latitude:O,longitude:E}=R.coords;p({lat:O,lon:E}),N(null)},R=>{N("Unable to retrieve location."),console.error(R)}):N("Geolocation is not supported by this browser.")},C=()=>{m?(p(null),window.toast&&window.toast("Location access turned off for this session. To fully revoke permission, change your browser settings.",{type:"info"})):x()};return i.jsxs(i.Fragment,{children:[i.jsx("nav",{className:"hidden lg:block sticky top-0 z-50 backdrop-blur-md bg-white/10 border-b border-white/20",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6",children:i.jsxs("div",{className:"flex items-center justify-between h-16 w-full",children:[i.jsxs("div",{className:"flex items-center space-x-8",children:[i.jsxs(S.div,{className:"flex items-center space-x-3 cursor-pointer",whileHover:{scale:1.05},onClick:()=>r(l?"/dashboard":"/"),children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(Kn,{className:`w-6 h-6 ${o?"text-navy":"text-white"}`})}),i.jsx("h1",{className:`text-2xl font-bold font-playfair ${o?"text-yellow-400":"text-blue-600"}`,children:"Sanchari"})]}),l&&i.jsx("div",{className:"flex items-center space-x-1",children:j.map(R=>{const O=R.icon,E=_(R.path);return i.jsxs(S.button,{onClick:()=>b(R.path),className:`relative px-4 py-2 rounded-lg font-semibold transition-all group ${E?o?"bg-yellow-400/20 text-yellow-400":"bg-blue-600/20 text-blue-600":o?"text-white hover:bg-white/10":"text-navy hover:bg-navy/10"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(O,{className:"w-5 h-5"}),i.jsx("span",{className:"whitespace-nowrap",children:R.label})]}),E&&i.jsx(S.div,{layoutId:"activeTab",className:`absolute bottom-0 left-0 right-0 h-0.5 ${o?"bg-yellow-400":"bg-blue-600"}`,initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),i.jsxs("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-3 py-2 rounded-lg text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none ${o?"bg-navy text-white":"bg-white text-navy"} shadow-lg border ${o?"border-gray-600":"border-gray-200"}`,children:[R.description,i.jsx("div",{className:`absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rotate-45 ${o?"bg-navy":"bg-white"}`})]})]},R.path)})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[l&&i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:`p-2 rounded-lg ${o?"hover:bg-white/10":"hover:bg-navy/10"} transition-colors`,children:i.jsx(Os,{className:`w-6 h-6 ${o?"text-white":"text-navy"}`})}),l&&i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:`relative p-2 rounded-lg ${o?"hover:bg-white/10":"hover:bg-navy/10"} transition-colors`,children:[i.jsx(Sc,{className:`w-6 h-6 ${o?"text-white":"text-navy"}`}),n>0&&i.jsx(S.div,{initial:{scale:0},animate:{scale:1},className:`absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${o?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:n>9?"9+":n})]}),i.jsx("button",{onClick:C,className:`flex items-center justify-center px-2 py-2 rounded-lg font-semibold transition-all ${m?o?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700":o?"bg-navy text-yellow-400 border border-yellow-400 hover:bg-yellow-400/10":"bg-white text-blue-600 border border-blue-600 hover:bg-blue-600/10"}`,title:m?"Turn off location":"Enable location",style:{minWidth:40,minHeight:40},children:i.jsx("span",{className:"text-xl",children:m?"📍":"📡"})}),l?i.jsx(lj,{onSignOutClick:()=>f(!0)}):i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("/login"),className:`px-6 py-2 rounded-lg font-semibold transition-all ${o?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Sign In"})]})]})})}),i.jsxs("header",{className:"lg:hidden sticky top-0 z-50 backdrop-blur-md bg-white/10 border-b border-white/20",children:[i.jsx("div",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[l&&i.jsx(S.button,{whileTap:{scale:.95},onClick:()=>u(!c),className:`p-2 rounded-lg ${o?"hover:bg-white/10":"hover:bg-navy/10"} transition-colors`,children:c?i.jsx(Cn,{className:`w-6 h-6 ${o?"text-white":"text-navy"}`}):i.jsx(r7,{className:`w-6 h-6 ${o?"text-white":"text-navy"}`})}),i.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>r(l?"/dashboard":"/"),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${o?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(Kn,{className:`w-5 h-5 ${o?"text-navy":"text-white"}`})}),i.jsx("h1",{className:`text-xl font-bold font-playfair ${o?"text-yellow-400":"text-blue-600"}`,children:"Sanchari"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:C,className:`flex items-center px-2 py-1 rounded-lg font-semibold text-xs transition-all ${m?o?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700":o?"bg-navy text-yellow-400 border border-yellow-400 hover:bg-yellow-400/10":"bg-white text-blue-600 border border-blue-600 hover:bg-blue-600/10"}`,title:m?"Turn off location":"Enable location",style:{minWidth:90},children:[i.jsx("span",{className:"mr-1",children:m?"📍":"📡"}),m?"On":"Location"]}),l&&i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"relative p-2",children:[i.jsx(Sc,{className:`w-5 h-5 ${o?"text-white":"text-navy"}`}),n>0&&i.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 rounded-full flex items-center justify-center text-xs font-bold ${o?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:n>9?"9+":n})]}),l&&i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("/cart"),className:"relative p-2",children:[i.jsx(Vx,{className:`w-5 h-5 ${o?"text-white":"text-navy"}`}),s>0&&i.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 rounded-full flex items-center justify-center text-xs font-bold ${o?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:s>9?"9+":s})]})]})]})}),l&&c&&i.jsx(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`border-t ${o?"border-gray-700":"border-gray-200"} ${o?"bg-navy/95":"bg-white/95"} backdrop-blur-md`,children:i.jsxs("div",{className:"px-6 py-4 space-y-2",children:[j.map(R=>{const O=R.icon,E=_(R.path);return i.jsxs(S.button,{onClick:()=>b(R.path),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold transition-all ${E?o?"bg-yellow-400/20 text-yellow-400":"bg-blue-600/20 text-blue-600":o?"text-white hover:bg-white/10":"text-navy hover:bg-navy/10"}`,whileTap:{scale:.95},children:[i.jsx(O,{className:"w-5 h-5"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:R.label}),i.jsx("div",{className:`text-xs ${E?o?"text-yellow-400/80":"text-blue-600/80":o?"text-gray-400":"text-gray-500"}`,children:R.description})]})]},R.path)}),i.jsxs("div",{className:"pt-4 border-t border-gray-300 space-y-2",children:[i.jsxs(S.button,{onClick:()=>{r("/profile"),u(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold ${o?"text-white hover:bg-white/10":"text-navy hover:bg-navy/10"} transition-colors`,whileTap:{scale:.95},children:[i.jsx(lj,{onSignOutClick:()=>f(!0)}),i.jsx("span",{children:"Profile"})]}),i.jsxs(S.button,{onClick:()=>{r("/settings"),u(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold ${o?"text-white hover:bg-white/10":"text-navy hover:bg-navy/10"} transition-colors`,whileTap:{scale:.95},children:[i.jsx(Ox,{className:"w-5 h-5"}),i.jsx("span",{children:"Settings"})]})]})]})})]}),i.jsx(UI,{isOpen:h,onClose:()=>f(!1)})]})},gr=({cartCount:t=0})=>{const e=mt(),n=Yn(),{isDark:s}=ye(),r=[{path:"/dashboard",label:"Home",icon:Cc,activeColor:s?"text-yellow-400":"text-blue-600"},{path:"/explore",label:"Explore",icon:kc,activeColor:s?"text-yellow-400":"text-blue-600"},{path:"/trip-planner",label:"AI Trips",icon:us,activeColor:s?"text-navy":"text-white",isSpecial:!0},{path:"/cart",label:"Cart",icon:Vx,activeColor:s?"text-yellow-400":"text-blue-600",badge:t},{path:"/profile",label:"Profile",icon:dn,activeColor:s?"text-yellow-400":"text-blue-600"}],a=l=>n.pathname===l,o=l=>{e(l)};return i.jsxs(S.div,{initial:{y:100},animate:{y:0},className:`md:hidden fixed bottom-0 left-0 right-0 z-50 ${s?"bg-navy/95":"bg-white/95"} backdrop-blur-md border-t ${s?"border-gray-700":"border-gray-200"} px-2 py-2`,children:[i.jsx("div",{className:"flex items-center justify-around",children:r.map((l,c)=>{const u=l.icon,h=a(l.path);return i.jsxs(S.button,{onClick:()=>o(l.path),className:`relative flex flex-col items-center justify-center p-2 rounded-xl transition-all ${l.isSpecial?`w-14 h-14 ${s?"bg-yellow-400":"bg-blue-600"} shadow-lg`:"w-12 h-12"} ${h&&!l.isSpecial?s?"bg-yellow-400/20":"bg-blue-600/20":""}`,whileTap:{scale:.9},whileHover:{scale:1.05},children:[h&&!l.isSpecial&&i.jsx(S.div,{layoutId:"activeIndicator",className:`absolute -top-1 w-1 h-1 rounded-full ${s?"bg-yellow-400":"bg-blue-600"}`,initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),i.jsx(S.div,{animate:{scale:h?1.1:1,y:h&&!l.isSpecial?-2:0},transition:{duration:.2},children:i.jsx(u,{className:`w-6 h-6 ${l.isSpecial||h?l.activeColor:s?"text-gray-400":"text-gray-600"}`})}),l.badge&&l.badge>0&&i.jsx(S.div,{initial:{scale:0},animate:{scale:1},className:`absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${s?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:l.badge>9?"9+":l.badge}),i.jsx(S.span,{className:`text-xs font-medium mt-1 ${l.isSpecial||h?l.activeColor:s?"text-gray-400":"text-gray-600"}`,animate:{opacity:h?1:.7,scale:h?1.05:1},children:l.label})]},l.path)})}),i.jsx("div",{className:"h-safe-area-inset-bottom"})]})},Qn=({size:t="md",text:e="Loading..."})=>{const{isDark:n}=ye(),s={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[i.jsx(S.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:`${s[t]} ${n?"text-yellow-400":"text-blue-600"}`,children:i.jsx(Kn,{className:"w-full h-full"})}),e&&i.jsx(S.p,{initial:{opacity:0},animate:{opacity:1},className:`text-sm font-medium ${n?"text-gray-300":"text-gray-600"}`,children:e})]})},Lx=({isOpen:t,onClose:e,onSearch:n})=>{const{isDark:s}=ye(),[r,a]=T.useState(""),[o,l]=T.useState([]),[c]=T.useState(["Maldives","Dubai","Bali","Tokyo","Paris"]),u=[{name:"Santorini, Greece",type:"Destination",trending:!0},{name:"Kyoto, Japan",type:"Destination",trending:!1},{name:"Bali, Indonesia",type:"Destination",trending:!0},{name:"Dubai, UAE",type:"Destination",trending:!1},{name:"Maldives",type:"Destination",trending:!0},{name:"Paris, France",type:"Destination",trending:!1}];T.useEffect(()=>{if(r.length>0){const f=u.filter(m=>m.name.toLowerCase().includes(r.toLowerCase()));l(f)}else l([])},[r]);const h=f=>{n(f),e()};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-start justify-center pt-20 px-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:`relative w-full max-w-2xl rounded-2xl ${s?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${s?"border-gray-600":"border-gray-200"} shadow-2xl`,onClick:f=>f.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-gray-300",children:i.jsxs("div",{className:"relative",children:[i.jsx(Os,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 ${s?"text-gray-400":"text-gray-500"}`}),i.jsx("input",{type:"text",placeholder:"Search destinations, hotels, activities...",value:r,onChange:f=>a(f.target.value),className:`w-full pl-12 pr-12 py-4 rounded-xl border-0 text-lg ${s?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`,autoFocus:!0}),i.jsx("button",{onClick:e,className:`absolute right-4 top-1/2 transform -translate-y-1/2 p-1 rounded-full ${s?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-5 h-5 ${s?"text-gray-400":"text-gray-500"}`})})]})}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length>0?i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:`font-semibold mb-3 ${s?"text-white":"text-navy"}`,children:"Search Results"}),o.length>0?i.jsx("div",{className:"space-y-2",children:o.map((f,m)=>i.jsxs(S.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},onClick:()=>h(f.name),className:`w-full p-3 rounded-lg text-left flex items-center space-x-3 ${s?"hover:bg-navy/50":"hover:bg-gray-100"} transition-colors`,children:[i.jsx(Fe,{className:`w-5 h-5 ${s?"text-yellow-400":"text-blue-600"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:`font-medium ${s?"text-white":"text-navy"}`,children:f.name}),i.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-500"}`,children:f.type})]}),f.trending&&i.jsxs("div",{className:"flex items-center space-x-1 text-orange-500",children:[i.jsx(Jr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs font-medium",children:"Trending"})]})]},m))}):i.jsxs("div",{className:`text-center py-8 ${s?"text-gray-400":"text-gray-500"}`,children:['No results found for "',r,'"']})]}):i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center space-x-2 ${s?"text-white":"text-navy"}`,children:[i.jsx(Un,{className:"w-5 h-5"}),i.jsx("span",{children:"Recent Searches"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((f,m)=>i.jsx(S.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:m*.05},onClick:()=>h(f),className:`px-3 py-2 rounded-lg text-sm font-medium ${s?"bg-navy/50 text-white hover:bg-navy/70":"bg-gray-100 text-navy hover:bg-gray-200"} transition-colors`,children:f},m))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center space-x-2 ${s?"text-white":"text-navy"}`,children:[i.jsx(Jr,{className:"w-5 h-5"}),i.jsx("span",{children:"Popular Destinations"})]}),i.jsx("div",{className:"space-y-2",children:u.slice(0,4).map((f,m)=>i.jsxs(S.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},onClick:()=>h(f.name),className:`w-full p-3 rounded-lg text-left flex items-center space-x-3 ${s?"hover:bg-navy/50":"hover:bg-gray-100"} transition-colors`,children:[i.jsx(Fe,{className:`w-5 h-5 ${s?"text-yellow-400":"text-blue-600"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:`font-medium ${s?"text-white":"text-navy"}`,children:f.name}),i.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-500"}`,children:f.type})]}),f.trending&&i.jsxs("div",{className:"flex items-center space-x-1 text-orange-500",children:[i.jsx(Jr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs font-medium",children:"Trending"})]})]},m))})]})]})})]})]})}):null},N7=({isOpen:t,onClose:e,notificationCount:n,onMarkAsRead:s})=>{const{isDark:r}=ye(),[a,o]=T.useState([{id:1,type:"booking",title:"Booking Confirmed",message:"Your Maldives trip has been confirmed for Dec 15-22",time:"2 hours ago",read:!1,icon:os,color:"text-green-500"},{id:2,type:"offer",title:"Special Offer",message:"20% off on your next booking. Limited time offer!",time:"1 day ago",read:!1,icon:Ic,color:"text-purple-500"},{id:3,type:"reminder",title:"Travel Reminder",message:"Don't forget to check-in online for your flight",time:"2 days ago",read:!0,icon:Kn,color:"text-blue-500"},{id:4,type:"alert",title:"Weather Update",message:"Weather conditions updated for your destination",time:"3 days ago",read:!0,icon:Ff,color:"text-orange-500"}]),l=u=>{o(h=>h.map(f=>f.id===u?{...f,read:!0}:f)),s()},c=()=>{o(u=>u.map(h=>({...h,read:!0}))),s()};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-start justify-end pt-20 pr-6",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/20"}),i.jsxs(S.div,{initial:{opacity:0,x:20,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:20,scale:.95},className:`relative w-full max-w-md rounded-2xl ${r?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${r?"border-gray-600":"border-gray-200"} shadow-2xl max-h-96`,onClick:u=>u.stopPropagation(),children:[i.jsxs("div",{className:"p-4 border-b border-gray-300 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Sc,{className:`w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("h3",{className:`font-bold ${r?"text-white":"text-navy"}`,children:"Notifications"}),n>0&&i.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:n})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:c,className:`text-sm font-medium ${r?"text-yellow-400 hover:text-yellow-300":"text-blue-600 hover:text-blue-700"}`,children:"Mark all read"}),i.jsx("button",{onClick:e,className:`p-1 rounded-full ${r?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-4 h-4 ${r?"text-gray-400":"text-gray-500"}`})})]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto",children:a.length>0?i.jsx("div",{className:"p-2",children:a.map((u,h)=>{const f=u.icon;return i.jsx(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h*.05},onClick:()=>l(u.id),className:`p-3 rounded-lg mb-2 cursor-pointer transition-colors ${u.read?r?"bg-navy/30":"bg-gray-50":r?"bg-navy/50":"bg-blue-50"} ${r?"hover:bg-navy/60":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`p-2 rounded-full ${r?"bg-navy/50":"bg-white"}`,children:i.jsx(f,{className:`w-4 h-4 ${u.color}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:`font-semibold text-sm ${r?"text-white":"text-navy"}`,children:u.title}),!u.read&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),i.jsx("p",{className:`text-sm mt-1 ${r?"text-gray-300":"text-gray-600"}`,children:u.message}),i.jsx("p",{className:`text-xs mt-2 ${r?"text-gray-400":"text-gray-500"}`,children:u.time})]})]})},u.id)})}):i.jsxs("div",{className:`text-center py-8 ${r?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Sc,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"No notifications"})]})})]})]})}):null},On=({children:t})=>{const{isAuthenticated:e,loading:n}=jt(),{isDark:s}=ye(),r=Yn();return n?i.jsx("div",{className:`min-h-screen flex items-center justify-center ${s?"bg-gradient-to-br from-navy via-gray-900 to-blue-900":"bg-gradient-to-br from-amber-100 via-blue-50 to-purple-100"}`,children:i.jsx(Qn,{size:"xl",text:"Authenticating..."})}):e?t:i.jsx(o5,{to:"/login",state:{from:r},replace:!0})},UI=({isOpen:t,onClose:e})=>{const{isDark:n}=ye(),{signOut:s,loading:r}=jt(),[a,o]=T.useState(!1),l=async()=>{o(!0);const c=await s();c.success?e():(console.error("Sign out failed:",c.error),o(!1))};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-md rounded-2xl ${n?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${n?"border-gray-600":"border-gray-200"} shadow-2xl p-6`,onClick:c=>c.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center",children:i.jsx(ko,{className:"w-6 h-6 text-red-500"})}),i.jsx("h2",{className:`text-xl font-bold ${n?"text-white":"text-navy"}`,children:"Sign Out"})]}),i.jsx("button",{onClick:e,disabled:a,className:`p-2 rounded-full ${n?"hover:bg-gray-600":"hover:bg-gray-200"} transition-colors disabled:opacity-50`,children:i.jsx(Cn,{className:`w-5 h-5 ${n?"text-gray-400":"text-gray-500"}`})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[i.jsx(Ff,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold mb-2 ${n?"text-white":"text-navy"}`,children:"Are you sure you want to sign out?"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:"You'll need to sign in again to access your account and continue planning your trips."})]})]}),i.jsxs("div",{className:`p-4 rounded-xl ${n?"bg-orange-500/10":"bg-orange-50"} border-l-4 border-orange-500`,children:[i.jsx("h4",{className:`font-semibold text-sm mb-2 ${n?"text-white":"text-navy"}`,children:"What happens when you sign out:"}),i.jsxs("ul",{className:`text-sm space-y-1 ${n?"text-gray-300":"text-gray-600"}`,children:[i.jsx("li",{children:"• Your session will be ended"}),i.jsx("li",{children:"• Cart items will be saved for next login"}),i.jsx("li",{children:"• Saved preferences will be preserved"}),i.jsx("li",{children:"• You'll be redirected to the welcome page"})]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:e,disabled:a,className:`flex-1 py-3 rounded-xl font-semibold border-2 transition-colors disabled:opacity-50 ${n?"border-gray-600 text-white hover:bg-gray-600":"border-gray-300 text-navy hover:bg-gray-100"}`,children:"Cancel"}),i.jsx(S.button,{onClick:l,disabled:a,className:"flex-1 py-3 rounded-xl font-semibold bg-red-500 text-white hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",whileHover:{scale:a?1:1.02},whileTap:{scale:a?1:.98},children:a?i.jsxs(i.Fragment,{children:[i.jsx(VI,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Signing Out..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(ko,{className:"w-4 h-4"}),i.jsx("span",{children:"Sign Out"})]})})]})]})]})}):null},lj=({onSignOutClick:t})=>{var h,f,m,p;const{isDark:e}=ye(),{user:n}=jt(),s=mt(),[r,a]=T.useState(!1),o=T.useRef(null),l=[{icon:dn,label:"My Profile",route:"/profile",description:"View and edit profile"},{icon:$t,label:"My Bookings",route:"/bookings",description:"Manage your trips"},{icon:en,label:"Saved Items",route:"/saved",description:"Your favorites"},{icon:au,label:"Payment Methods",route:"/settings",description:"Cards & billing"},{icon:So,label:"Travel Points",route:"/profile",description:"2,450 points available"},{icon:Ic,label:"Referral Program",route:"/profile",description:"Invite friends & earn"},{icon:rr,label:"Help & Support",route:"/settings",description:"Get assistance"},{icon:Ox,label:"Settings",route:"/settings",description:"Privacy & preferences"}];T.useEffect(()=>{const y=N=>{o.current&&!o.current.contains(N.target)&&a(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const c=y=>{a(!1),s(y)},u=()=>{a(!1),t()};return n?i.jsxs("div",{className:"relative",ref:o,children:[i.jsxs(S.button,{onClick:()=>a(!r),className:"flex items-center space-x-2 p-2 rounded-xl hover:bg-white/10 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:n.photoURL?i.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-full h-full rounded-full object-cover"}):i.jsx("span",{className:"text-navy font-bold",children:((h=n.displayName)==null?void 0:h.charAt(0))||((f=n.email)==null?void 0:f.charAt(0))||"U"})}),i.jsxs("div",{className:"hidden lg:block text-left",children:[i.jsx("div",{className:`text-sm font-semibold ${e?"text-white":"text-navy"}`,children:n.displayName||"User"}),i.jsx("div",{className:`text-xs ${e?"text-gray-300":"text-gray-600"}`,children:"Premium Member"})]}),i.jsx(S.div,{animate:{rotate:r?180:0},transition:{duration:.2},className:"hidden lg:block",children:i.jsx(Rx,{className:`w-4 h-4 ${e?"text-gray-400":"text-gray-600"}`})})]}),i.jsx(Nt,{children:r&&i.jsxs(S.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:`absolute top-full right-0 mt-2 w-80 rounded-2xl border shadow-2xl z-50 ${e?"bg-navy/95 border-gray-600":"bg-white/95 border-gray-200"} backdrop-blur-md`,children:[i.jsx("div",{className:"p-4 border-b border-gray-300",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center",children:n.photoURL?i.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-full h-full rounded-full object-cover"}):i.jsx("span",{className:"text-navy font-bold text-lg",children:((m=n.displayName)==null?void 0:m.charAt(0))||((p=n.email)==null?void 0:p.charAt(0))||"U"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-bold ${e?"text-white":"text-navy"}`,children:n.displayName||"User"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:n.email}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[i.jsx(So,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:`text-xs font-semibold ${e?"text-yellow-400":"text-blue-600"}`,children:"Premium Member"})]})]})]})}),i.jsx("div",{className:"p-2",children:l.map((y,N)=>{const j=y.icon;return i.jsxs(S.button,{onClick:()=>c(y.route),className:`w-full p-3 rounded-xl text-left flex items-center space-x-3 transition-colors ${e?"hover:bg-white/10 text-white":"hover:bg-gray-100 text-navy"}`,whileHover:{x:5},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:N*.05},children:[i.jsx(j,{className:`w-5 h-5 ${e?"text-yellow-400":"text-blue-600"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold",children:y.label}),i.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:y.description})]})]},y.label)})}),i.jsx("div",{className:"p-2 border-t border-gray-300",children:i.jsxs(S.button,{onClick:u,className:"w-full p-3 rounded-xl text-left flex items-center space-x-3 text-red-500 hover:bg-red-500/10 transition-colors",whileHover:{x:5},children:[i.jsx(ko,{className:"w-5 h-5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Sign Out"}),i.jsx("div",{className:"text-xs text-red-400",children:"End your session"})]})]})})]})})]}):null},j7=()=>{const{isDark:t}=ye(),{signOut:e,isAuthenticated:n}=jt(),[s,r]=T.useState(!1),[a,o]=T.useState(300),[l,c]=T.useState(!1),u=30*60*1e3,h=5*60*1e3;T.useEffect(()=>{if(!n)return;let p,y,N;const j=()=>{clearTimeout(p),clearTimeout(y),clearInterval(N),r(!1),o(300),y=setTimeout(()=>{r(!0),o(300),N=setInterval(()=>{o(C=>C<=1?(_(),0):C-1)},1e3)},u-h),p=setTimeout(_,u)},_=async()=>{clearTimeout(p),clearTimeout(y),clearInterval(N),r(!1),await e()},b=()=>{n&&j()},x=["mousedown","mousemove","keypress","scroll","touchstart","click"];return x.forEach(C=>{document.addEventListener(C,b,!0)}),j(),()=>{clearTimeout(p),clearTimeout(y),clearInterval(N),x.forEach(C=>{document.removeEventListener(C,b,!0)})}},[n,e]);const f=async()=>{c(!0),await new Promise(p=>setTimeout(p,1e3)),c(!1),r(!1),document.dispatchEvent(new Event("mousedown"))},m=p=>{const y=Math.floor(p/60),N=p%60;return`${y}:${N.toString().padStart(2,"0")}`};return!n||!s?null:i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-md rounded-2xl ${t?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${t?"border-gray-600":"border-gray-200"} shadow-2xl p-6`,children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Un,{className:"w-8 h-8 text-orange-500"})}),i.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-navy"}`,children:"Session Expiring Soon"}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Your session will expire in"})]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx(S.div,{initial:{scale:1.1},animate:{scale:1},className:`text-4xl font-bold ${a<=60?"text-red-500":"text-orange-500"}`,children:m(a)},a),i.jsx("p",{className:`text-sm mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:"You'll be automatically signed out for security"})]}),i.jsx("div",{className:`w-full h-2 rounded-full mb-6 ${t?"bg-gray-700":"bg-gray-200"}`,children:i.jsx(S.div,{className:`h-2 rounded-full ${a<=60?"bg-red-500":"bg-orange-500"}`,initial:{width:"100%"},animate:{width:`${a/300*100}%`},transition:{duration:1}})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(S.button,{onClick:e,className:"flex-1 py-3 rounded-xl font-semibold border-2 border-gray-300 text-gray-600 hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(ko,{className:"w-4 h-4"}),i.jsx("span",{children:"Sign Out Now"})]}),i.jsx(S.button,{onClick:f,disabled:l,className:`flex-1 py-3 rounded-xl font-semibold transition-colors flex items-center justify-center space-x-2 ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} disabled:opacity-50`,whileHover:{scale:l?1:1.02},whileTap:{scale:l?1:.98},children:l?i.jsxs(i.Fragment,{children:[i.jsx(aj,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Extending..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(aj,{className:"w-4 h-4"}),i.jsx("span",{children:"Stay Signed In"})]})})]})]})]})})},BI=({isOpen:t,onClose:e,onApplyFilters:n,currentFilters:s={}})=>{const{isDark:r}=ye(),[a,o]=T.useState({priceRange:s.priceRange||[0,5e3],rating:s.rating||0,duration:s.duration||"",category:s.category||"",amenities:s.amenities||[],...s}),l=["Beach","Mountains","City","Adventure","Luxury","Culture"],c=["1-3 days","4-7 days","8-14 days","15+ days"],u=["Free WiFi","Pool","Spa","Gym","Restaurant","Bar","Room Service","Parking"],h=(y,N)=>{const j=[...a.priceRange];j[N]=parseInt(y),o({...a,priceRange:j})},f=y=>{const N=a.amenities.includes(y)?a.amenities.filter(j=>j!==y):[...a.amenities,y];o({...a,amenities:N})},m=()=>{n(a),e()},p=()=>{o({priceRange:[0,5e3],rating:0,duration:"",category:"",amenities:[]})};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl ${r?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${r?"border-gray-600":"border-gray-200"} shadow-2xl`,onClick:y=>y.stopPropagation(),children:[i.jsx("div",{className:"sticky top-0 p-6 border-b border-gray-300 bg-inherit rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Uf,{className:`w-6 h-6 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-navy"}`,children:"Filters"})]}),i.jsx("button",{onClick:e,className:`p-2 rounded-full ${r?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})})]})}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:`font-semibold mb-4 flex items-center space-x-2 ${r?"text-white":"text-navy"}`,children:[i.jsx(ss,{className:"w-5 h-5"}),i.jsx("span",{children:"Price Range"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:`block text-sm mb-2 ${r?"text-gray-300":"text-gray-600"}`,children:"Min Price"}),i.jsx("input",{type:"number",value:a.priceRange[0],onChange:y=>h(y.target.value,0),className:`w-full p-3 rounded-lg border-0 ${r?"bg-navy/50 text-white":"bg-gray-100 text-navy"} focus:ring-2 focus:ring-blue-500`,placeholder:"0"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:`block text-sm mb-2 ${r?"text-gray-300":"text-gray-600"}`,children:"Max Price"}),i.jsx("input",{type:"number",value:a.priceRange[1],onChange:y=>h(y.target.value,1),className:`w-full p-3 rounded-lg border-0 ${r?"bg-navy/50 text-white":"bg-gray-100 text-navy"} focus:ring-2 focus:ring-blue-500`,placeholder:"5000"})]})]}),i.jsxs("div",{className:`text-center text-sm ${r?"text-gray-300":"text-gray-600"}`,children:["₹",a.priceRange[0].toLocaleString()," - ₹",a.priceRange[1].toLocaleString()]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:`font-semibold mb-4 flex items-center space-x-2 ${r?"text-white":"text-navy"}`,children:[i.jsx(Qe,{className:"w-5 h-5"}),i.jsx("span",{children:"Minimum Rating"})]}),i.jsx("div",{className:"flex space-x-2",children:[0,3,4,4.5,5].map(y=>i.jsx("button",{onClick:()=>o({...a,rating:y}),className:`px-4 py-2 rounded-lg border-2 transition-all ${a.rating===y?r?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":r?"border-gray-600 text-white hover:border-yellow-400":"border-gray-300 text-navy hover:border-blue-600"}`,children:y===0?"Any":`${y}+`},y))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:`font-semibold mb-4 flex items-center space-x-2 ${r?"text-white":"text-navy"}`,children:[i.jsx($t,{className:"w-5 h-5"}),i.jsx("span",{children:"Trip Duration"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.map(y=>i.jsx("button",{onClick:()=>o({...a,duration:a.duration===y?"":y}),className:`p-3 rounded-lg border-2 transition-all text-center ${a.duration===y?r?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":r?"border-gray-600 text-white hover:border-yellow-400":"border-gray-300 text-navy hover:border-blue-600"}`,children:y},y))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:`font-semibold mb-4 flex items-center space-x-2 ${r?"text-white":"text-navy"}`,children:[i.jsx(Fe,{className:"w-5 h-5"}),i.jsx("span",{children:"Category"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.map(y=>i.jsx("button",{onClick:()=>o({...a,category:a.category===y?"":y}),className:`p-3 rounded-lg border-2 transition-all text-center ${a.category===y?r?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":r?"border-gray-600 text-white hover:border-yellow-400":"border-gray-300 text-navy hover:border-blue-600"}`,children:y},y))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold mb-4 ${r?"text-white":"text-navy"}`,children:"Amenities"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.map(y=>i.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${a.amenities.includes(y)?r?"bg-yellow-400/20 border-yellow-400":"bg-blue-600/20 border-blue-600":r?"border-gray-600 hover:border-yellow-400":"border-gray-300 hover:border-blue-600"}`,children:[i.jsx("input",{type:"checkbox",checked:a.amenities.includes(y),onChange:()=>f(y),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:`text-sm font-medium ${r?"text-white":"text-navy"}`,children:y})]},y))})]})]}),i.jsx("div",{className:"sticky bottom-0 p-6 border-t border-gray-300 bg-inherit rounded-b-2xl",children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{onClick:p,className:`flex-1 py-3 rounded-xl font-semibold border-2 ${r?"border-gray-600 text-white hover:bg-gray-600":"border-gray-300 text-navy hover:bg-gray-100"} transition-colors`,children:"Reset"}),i.jsx("button",{onClick:m,className:`flex-1 py-3 rounded-xl font-semibold ${r?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,children:"Apply Filters"})]})})]})]})}):null},zI=({categories:t,activeFilter:e,setActiveFilter:n})=>{const{isDark:s}=ye();return i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:i.jsx("div",{className:"flex space-x-2 sm:space-x-3 overflow-x-auto pb-2 scrollbar-hide",children:t.map((r,a)=>i.jsx(S.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:a*.05},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(r),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-full whitespace-nowrap font-semibold transition-all text-sm sm:text-base ${e===r?s?"bg-yellow-400 text-navy":"bg-blue-600 text-white":s?"bg-navy/50 text-white hover:bg-navy/70":"bg-white/50 text-navy hover:bg-white/70"}`,children:r},r))})})},HI=({sortBy:t,setSortBy:e,options:n})=>{const{isDark:s}=ye(),[r,a]=T.useState(!1),o=n.find(l=>l.value===t);return i.jsxs("div",{className:"relative",children:[i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(!r),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg border ${s?"bg-navy/50 border-gray-600 text-white":"bg-white/50 border-gray-300 text-navy"} hover:bg-opacity-70 transition-all min-w-0`,children:[i.jsxs("span",{className:"text-xs sm:text-sm font-medium truncate",children:["Sort: ",i.jsx("span",{className:"hidden sm:inline",children:o==null?void 0:o.label}),i.jsx("span",{className:"sm:hidden",children:o==null?void 0:o.label.split(":")[0]})]}),i.jsx(S.div,{animate:{rotate:r?180:0},transition:{duration:.2},className:"flex-shrink-0",children:i.jsx(Rx,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),i.jsx(Nt,{children:r&&i.jsx(S.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:`absolute top-full right-0 mt-2 w-48 rounded-lg border shadow-lg z-50 ${s?"bg-navy/95 border-gray-600":"bg-white/95 border-gray-200"} backdrop-blur-md`,children:n.map((l,c)=>i.jsxs(S.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.05},onClick:()=>{e(l.value),a(!1)},className:`w-full px-3 sm:px-4 py-2 sm:py-3 text-left text-xs sm:text-sm font-medium flex items-center justify-between ${t===l.value?s?"bg-yellow-400/20 text-yellow-400":"bg-blue-600/20 text-blue-600":s?"text-white hover:bg-white/10":"text-navy hover:bg-gray-100"} transition-colors first:rounded-t-lg last:rounded-b-lg`,children:[i.jsx("span",{className:"truncate",children:l.label}),t===l.value&&i.jsx(os,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"})]},l.value))})}),r&&i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},s0=({viewMode:t,setViewMode:e})=>{const{isDark:n}=ye();return i.jsxs("div",{className:`flex items-center space-x-1 p-1 rounded-lg ${n?"bg-gray-800":"bg-gray-100"}`,children:[i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("grid"),className:`p-1.5 sm:p-2 rounded-lg transition-all ${t==="grid"?n?"bg-yellow-400 text-navy":"bg-blue-600 text-white":n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-navy"}`,children:i.jsx(PI,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("list"),className:`p-1.5 sm:p-2 rounded-lg transition-all ${t==="list"?n?"bg-yellow-400 text-navy":"bg-blue-600 text-white":n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-navy"}`,children:i.jsx(OI,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})},pp=({trip:t,index:e,viewMode:n="grid",onUse:s,onRate:r,onSave:a,isSaved:o=!1,currentUserId:l})=>{var A,$,D,P,ae,pe,ge;const c=mt(),[u,h]=T.useState(!1),[f,m]=T.useState(0),[p,y]=T.useState(""),[N,j]=T.useState(!1),_=()=>{s&&s(t.id)},b=()=>{c(`/trip-details/${t.id}`,{state:{trip:t}})},x=async()=>{if(f>0){const re=await r(t.id,f,p);re!=null&&re.success&&(h(!1),m(0),y(""))}},C=re=>{switch(re){case"easy":return"bg-green-500";case"medium":return"bg-yellow-500";case"hard":return"bg-red-500";default:return"bg-gray-500"}},R=re=>{switch(re){case"easy":return"🟢";case"medium":return"🟡";case"hard":return"🔴";default:return"⚪"}},O=(re,q)=>re&&q?`₹${re.toLocaleString()} - ₹${q.toLocaleString()}`:"Budget varies",E=re=>({0:{label:"Solo",icon:"👤"},1:{label:"Couple",icon:"💕"},2:{label:"Family",icon:"👨‍👩‍👧‍👦"},3:{label:"Friends",icon:"👥"}})[re]||{label:"Any",icon:"👥"},w=re=>({0:{label:"Adventure",icon:"🏔️"},1:{label:"Relaxation",icon:"🧘"},2:{label:"Spiritual",icon:"🕉️"},3:{label:"Cultural",icon:"🏛️"},4:{label:"Nature",icon:"🌲"}})[re]||{label:"Mixed",icon:"🌍"},k=(A=t.ratings)==null?void 0:A.some(re=>re.userId===l);return($=t.ratings)==null||$.find(re=>re.userId===l),n==="list"?i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},className:"bg-navy/30 backdrop-blur-sm rounded-xl border border-blue-500/20 hover:border-blue-500/40 transition-all duration-300 h-[240px] overflow-hidden",children:i.jsx("div",{className:"p-6 h-full",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full",children:[i.jsx("div",{className:"md:w-1/3 flex-shrink-0",children:i.jsxs("div",{className:"relative h-32 rounded-lg overflow-hidden",children:[i.jsx("img",{src:t.image||"/api/placeholder/400/200",alt:t.name,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute top-2 left-2 flex gap-2",children:[i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(t.difficulty)} text-white`,children:[R(t.difficulty)," ",t.difficulty]}),t.usageCount>10&&i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-500 text-navy",children:"🔥 Popular"})]})]})}),i.jsxs("div",{className:"md:w-2/3 flex flex-col justify-between",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:t.name}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fe,{className:"w-4 h-4"}),i.jsx("span",{className:"truncate",children:t.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($t,{className:"w-4 h-4"}),i.jsxs("span",{children:[t.duration||t.days," days"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yn,{className:"w-4 h-4"}),i.jsx("span",{children:E(t.companion).label})]})]})]}),i.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/10 transition-colors flex-shrink-0",children:i.jsx(en,{className:`w-5 h-5 ${o?"fill-red-500 text-red-500":"text-gray-300"}`})})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),i.jsx("span",{className:"text-white",children:((D=t.averageRating)==null?void 0:D.toFixed(1))||0}),i.jsxs("span",{className:"text-gray-300",children:["(",t.totalRatings||0,")"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Jt,{className:"w-4 h-4 text-blue-400"}),i.jsxs("span",{className:"text-gray-300",children:[t.usageCount||0," uses"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ss,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{className:"text-gray-300",children:O(t.minBudget,t.maxBudget)})]})]}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed line-clamp-2",children:t.description})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dn,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-300 truncate",children:["by ",t.creatorName||"Anonymous"]})]}),i.jsx("span",{className:"text-xs text-gray-400",children:((pe=(ae=(P=t.shareDate)==null?void 0:P.toDate)==null?void 0:ae.call(P))==null?void 0:pe.toLocaleDateString())||"Recently"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!k&&i.jsx("button",{onClick:()=>h(!0),className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg text-sm hover:bg-yellow-500/30 transition-colors",children:"Rate"}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"px-3 py-2 bg-gray-600/50 text-gray-300 rounded-lg font-medium hover:bg-gray-600/70 transition-all flex items-center gap-2 text-sm",children:[i.jsx(Jt,{className:"w-4 h-4"}),i.jsx("span",{children:"View Details"})]}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all flex items-center gap-2",children:[i.jsx("span",{children:"Use Plan"}),i.jsx(da,{className:"w-4 h-4"})]})]})]})]})]})})}):i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},className:"bg-navy/30 backdrop-blur-sm rounded-xl border border-blue-500/20 hover:border-blue-500/40 transition-all duration-300 overflow-hidden group h-[420px] flex flex-col",children:[i.jsxs("div",{className:"relative h-48 overflow-hidden flex-shrink-0",children:[i.jsx("img",{src:t.image||"/api/placeholder/400/200",alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(t.difficulty)} text-white`,children:[R(t.difficulty)," ",t.difficulty]}),t.usageCount>10&&i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-500 text-navy",children:"🔥 Popular"})]}),i.jsx("button",{onClick:a,className:"absolute top-3 right-3 p-2 rounded-full bg-black/20 backdrop-blur-sm hover:bg-black/40 transition-colors",children:i.jsx(en,{className:`w-5 h-5 ${o?"fill-red-500 text-red-500":"text-white"}`})}),i.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:i.jsxs("div",{className:"flex items-center justify-between text-white",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),i.jsx("span",{className:"text-sm font-medium",children:((ge=t.averageRating)==null?void 0:ge.toFixed(1))||0}),i.jsxs("span",{className:"text-xs text-gray-300",children:["(",t.totalRatings||0,")"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Jt,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{className:"text-sm",children:t.usageCount||0})]})]})})]}),i.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"h-16",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-1 group-hover:text-blue-300 transition-colors line-clamp-2",children:t.name}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fe,{className:"w-4 h-4"}),i.jsx("span",{className:"truncate",children:t.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($t,{className:"w-4 h-4"}),i.jsxs("span",{children:[t.duration||t.days," days"]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm h-6",children:[i.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:[w(t.type).icon," ",w(t.type).label]}),i.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-xs",children:[E(t.companion).icon," ",E(t.companion).label]})]}),i.jsx("div",{className:"h-10",children:i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed line-clamp-2",children:t.description})}),i.jsxs("div",{className:"flex items-center justify-between text-sm h-5",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ss,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{className:"text-gray-300 truncate",children:O(t.minBudget,t.maxBudget)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(dn,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-gray-300 truncate",children:t.creatorName||"Anonymous"})]})]}),i.jsx("div",{className:"h-6",children:t.tags&&t.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.tags.slice(0,2).map((re,q)=>i.jsxs("span",{className:"px-2 py-1 bg-gray-500/20 text-gray-300 rounded-full text-xs",children:["#",re]},q)),t.tags.length>2&&i.jsxs("span",{className:"px-2 py-1 bg-gray-500/20 text-gray-300 rounded-full text-xs",children:["+",t.tags.length-2]})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-3 mt-auto",children:[!k&&i.jsx("button",{onClick:()=>h(!0),className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-lg text-sm hover:bg-yellow-500/30 transition-colors",children:"Rate"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"px-3 py-2 bg-gray-600/50 text-gray-300 rounded-lg font-medium hover:bg-gray-600/70 transition-all flex items-center gap-2 text-sm",children:[i.jsx(Jt,{className:"w-4 h-4"}),i.jsx("span",{children:"View Details"})]}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all flex items-center gap-2",children:[i.jsx("span",{children:"Use Plan"}),i.jsx(da,{className:"w-4 h-4"})]})]})]})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-navy rounded-xl p-6 max-w-md w-full mx-4",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Rate this trip"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your rating"}),i.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(re=>i.jsx("button",{onClick:()=>m(re),className:`w-8 h-8 ${re<=f?"text-yellow-400 fill-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,children:i.jsx(Qe,{className:"w-full h-full"})},re)),i.jsxs("span",{className:"text-white ml-2",children:[f,"/5"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Comment (optional)"}),i.jsx("textarea",{value:p,onChange:re=>y(re.target.value),className:"w-full p-3 bg-navy/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Share your experience with this trip..."})]}),i.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[i.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:x,disabled:f===0,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Rating"})]})]})]})})]})},_7=({isOpen:t,onClose:e,userInfo:n,onSave:s})=>{const{isDark:r}=ye(),[a,o]=T.useState({firstName:(n==null?void 0:n.firstName)||"Sarah",lastName:(n==null?void 0:n.lastName)||"Johnson",email:(n==null?void 0:n.email)||"sarah.johnson@email.com",phone:(n==null?void 0:n.phone)||"+1 (555) 123-4567",dateOfBirth:(n==null?void 0:n.dateOfBirth)||"1990-05-15",location:(n==null?void 0:n.location)||"New York, NY",bio:(n==null?void 0:n.bio)||"Travel enthusiast who loves exploring new cultures and destinations.",profileImage:(n==null?void 0:n.profileImage)||null}),[l,c]=T.useState(!1),u=m=>{o({...a,[m.target.name]:m.target.value})},h=async()=>{c(!0),await new Promise(m=>setTimeout(m,1e3)),s(a),c(!1),e()},f=m=>{const p=m.target.files[0];if(p){const y=new FileReader;y.onload=N=>{o({...a,profileImage:N.target.result})},y.readAsDataURL(p)}};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl ${r?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${r?"border-gray-600":"border-gray-300"} shadow-2xl`,onClick:m=>m.stopPropagation(),children:[i.jsx("div",{className:"sticky top-0 p-6 border-b border-gray-300 bg-inherit rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Personal Information"}),i.jsx("button",{onClick:e,className:`p-2 rounded-full ${r?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-600"}`})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"relative inline-block",children:[i.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-yellow-400 flex items-center justify-center",children:a.profileImage?i.jsx("img",{src:a.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):i.jsxs("span",{className:"text-3xl font-bold text-navy",children:[a.firstName[0],a.lastName[0]]})}),i.jsxs("label",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors",children:[i.jsx(Wl,{className:"w-4 h-4 text-white"}),i.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"hidden"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"First Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(dn,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:u,className:`w-full pl-12 pr-4 py-3 rounded-xl border-0 ${r?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Last Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(dn,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:u,className:`w-full pl-12 pr-4 py-3 rounded-xl border-0 ${r?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xr,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:"email",name:"email",value:a.email,onChange:u,className:`w-full pl-12 pr-4 py-3 rounded-xl border-0 ${r?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(Yi,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:u,className:`w-full pl-12 pr-4 py-3 rounded-xl border-0 ${r?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Date of Birth"}),i.jsxs("div",{className:"relative",children:[i.jsx($t,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:"date",name:"dateOfBirth",value:a.dateOfBirth,onChange:u,className:`w-full pl-12 pr-4 py-3 rounded-xl border-0 ${r?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Location"}),i.jsxs("div",{className:"relative",children:[i.jsx(Fe,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:"text",name:"location",value:a.location,onChange:u,className:`w-full pl-12 pr-4 py-3 rounded-xl border-0 ${r?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Bio"}),i.jsx("textarea",{name:"bio",value:a.bio,onChange:u,rows:4,className:`w-full p-4 rounded-xl border-0 ${r?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`,placeholder:"Tell us about yourself..."})]})]}),i.jsx("div",{className:"sticky bottom-0 p-6 border-t border-gray-300 bg-inherit rounded-b-2xl",children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{onClick:e,className:`flex-1 py-3 rounded-xl font-semibold border-2 ${r?"border-gray-600 text-white hover:bg-gray-600":"border-gray-300 text-gray-900 hover:bg-gray-100"} transition-colors`,children:"Cancel"}),i.jsx(S.button,{onClick:h,disabled:l,className:`flex-1 py-3 rounded-xl font-semibold flex items-center justify-center space-x-2 ${r?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors disabled:opacity-50`,whileHover:{scale:1.02},whileTap:{scale:.98},children:l?i.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(f7,{className:"w-5 h-5"}),i.jsx("span",{children:"Save Changes"})]})})]})})]})]})}):null},T7=({isOpen:t,onClose:e})=>{const{isDark:n}=ye(),[s,r]=T.useState([{id:1,type:"visa",last4:"4242",expiryMonth:"12",expiryYear:"2025",holderName:"Sarah Johnson",isDefault:!0},{id:2,type:"mastercard",last4:"8888",expiryMonth:"08",expiryYear:"2026",holderName:"Sarah Johnson",isDefault:!1}]),[a,o]=T.useState(!1),[l,c]=T.useState({number:"",expiryMonth:"",expiryYear:"",cvv:"",holderName:""}),u=p=>({visa:"💳",mastercard:"💳",amex:"💳",discover:"💳"})[p]||"💳",h=()=>{const p=l.number.startsWith("4")?"visa":l.number.startsWith("5")?"mastercard":"visa",y={id:Date.now(),type:p,last4:l.number.slice(-4),expiryMonth:l.expiryMonth,expiryYear:l.expiryYear,holderName:l.holderName,isDefault:s.length===0};r([...s,y]),c({number:"",expiryMonth:"",expiryYear:"",cvv:"",holderName:""}),o(!1)},f=p=>{r(s.filter(y=>y.id!==p))},m=p=>{r(s.map(y=>({...y,isDefault:y.id===p})))};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl ${n?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${n?"border-gray-600":"border-gray-300"} shadow-2xl`,onClick:p=>p.stopPropagation(),children:[i.jsx("div",{className:"sticky top-0 p-6 border-b border-gray-300 bg-inherit rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(au,{className:`w-6 h-6 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("h2",{className:`text-xl font-bold ${n?"text-white":"text-gray-900"}`,children:"Payment Methods"})]}),i.jsx("button",{onClick:e,className:`p-2 rounded-full ${n?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-5 h-5 ${n?"text-gray-400":"text-gray-600"}`})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:`p-4 rounded-xl ${n?"bg-blue-600/20":"bg-blue-100"} border-l-4 border-blue-500`,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(fr,{className:"w-5 h-5 text-blue-500"}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${n?"text-white":"text-gray-900"}`,children:"Secure Payment Processing"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-700"}`,children:"Your payment information is encrypted and securely stored"})]})]})}),i.jsx("div",{className:"space-y-4",children:s.map((p,y)=>i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:`p-6 rounded-xl border-2 ${p.isDefault?n?"border-yellow-400 bg-yellow-400/10":"border-blue-600 bg-blue-600/10":n?"border-gray-600 bg-navy/30":"border-gray-300 bg-white/30"} backdrop-blur-sm`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"text-3xl",children:u(p.type)}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("h3",{className:`font-bold ${n?"text-white":"text-gray-900"}`,children:["•••• •••• •••• ",p.last4]}),p.isDefault&&i.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${n?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:"Default"})]}),i.jsxs("p",{className:`text-sm ${n?"text-gray-300":"text-gray-700"}`,children:[p.holderName," • Expires ",p.expiryMonth,"/",p.expiryYear]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[!p.isDefault&&i.jsx("button",{onClick:()=>m(p.id),className:`px-3 py-2 rounded-lg text-sm font-semibold ${n?"bg-yellow-400 text-navy":"bg-blue-600 text-white"} hover:opacity-90 transition-opacity`,children:"Set Default"}),i.jsx("button",{onClick:()=>f(p.id),className:"p-2 rounded-lg text-red-500 hover:bg-red-500/20 transition-colors",children:i.jsx(Pc,{className:"w-4 h-4"})})]})]})},p.id))}),!a&&i.jsxs(S.button,{onClick:()=>o(!0),className:`w-full p-6 rounded-xl border-2 border-dashed ${n?"border-gray-600 hover:border-yellow-400":"border-gray-300 hover:border-blue-600"} transition-colors flex items-center justify-center space-x-2`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(u7,{className:`w-6 h-6 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("span",{className:`font-semibold ${n?"text-yellow-400":"text-blue-600"}`,children:"Add New Payment Method"})]}),a&&i.jsxs(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-6 rounded-xl ${n?"bg-navy/50":"bg-gray-100"} backdrop-blur-sm space-y-4`,children:[i.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-gray-900"}`,children:"Add New Card"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-gray-900"}`,children:"Card Number"}),i.jsx("input",{type:"text",value:l.number,onChange:p=>c({...l,number:p.target.value}),placeholder:"1234 5678 9012 3456",className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-gray-900"}`,children:"Cardholder Name"}),i.jsx("input",{type:"text",value:l.holderName,onChange:p=>c({...l,holderName:p.target.value}),placeholder:"John Doe",className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-gray-900"}`,children:"Month"}),i.jsxs("select",{value:l.expiryMonth,onChange:p=>c({...l,expiryMonth:p.target.value}),className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white":"bg-white text-gray-900"} focus:ring-2 focus:ring-blue-500`,children:[i.jsx("option",{value:"",children:"MM"}),Array.from({length:12},(p,y)=>i.jsx("option",{value:String(y+1).padStart(2,"0"),children:String(y+1).padStart(2,"0")},y+1))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-gray-900"}`,children:"Year"}),i.jsxs("select",{value:l.expiryYear,onChange:p=>c({...l,expiryYear:p.target.value}),className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white":"bg-white text-gray-900"} focus:ring-2 focus:ring-blue-500`,children:[i.jsx("option",{value:"",children:"YYYY"}),Array.from({length:10},(p,y)=>i.jsx("option",{value:2024+y,children:2024+y},y))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-gray-900"}`,children:"CVV"}),i.jsx("input",{type:"text",value:l.cvv,onChange:p=>c({...l,cvv:p.target.value}),placeholder:"123",maxLength:4,className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]})]})]}),i.jsxs("div",{className:"flex space-x-4 pt-4",children:[i.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-3 rounded-xl font-semibold border-2 ${n?"border-gray-600 text-white hover:bg-gray-600":"border-gray-300 text-gray-900 hover:bg-gray-100"} transition-colors`,children:"Cancel"}),i.jsx("button",{onClick:h,className:`flex-1 py-3 rounded-xl font-semibold ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,children:"Add Card"})]})]})]})]})]})}):null},E7=({isOpen:t,onClose:e})=>{const{isDark:n}=ye(),[s,r]=T.useState("security"),[a,o]=T.useState(!1),[l,c]=T.useState(!1),[u,h]=T.useState(!1),[f,m]=T.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,y]=T.useState({twoFactorAuth:!0,loginNotifications:!0,deviceTracking:!0,dataSharing:!1,marketingEmails:!0,profileVisibility:"public"}),N=[{id:"security",label:"Security",icon:fr},{id:"privacy",label:"Privacy",icon:Jt},{id:"data",label:"Data",icon:Za}],j=(x,C)=>{m({...f,[x]:C})},_=x=>{y({...p,[x]:!p[x]})},b=()=>{console.log("Password updated"),m({currentPassword:"",newPassword:"",confirmPassword:""})};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl ${n?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${n?"border-gray-600":"border-gray-200"} shadow-2xl`,onClick:x=>x.stopPropagation(),children:[i.jsxs("div",{className:"sticky top-0 p-6 border-b border-gray-300 bg-inherit rounded-t-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fr,{className:`w-6 h-6 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("h2",{className:`text-xl font-bold ${n?"text-white":"text-navy"}`,children:"Privacy & Security"})]}),i.jsx("button",{onClick:e,className:`p-2 rounded-full ${n?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-5 h-5 ${n?"text-gray-400":"text-gray-500"}`})})]}),i.jsx("div",{className:"flex space-x-1 mt-6",children:N.map(x=>{const C=x.icon;return i.jsxs("button",{onClick:()=>r(x.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-semibold transition-all ${s===x.id?n?"bg-yellow-400 text-navy":"bg-blue-600 text-white":n?"text-white hover:bg-white/10":"text-navy hover:bg-navy/10"}`,children:[i.jsx(C,{className:"w-4 h-4"}),i.jsx("span",{children:x.label})]},x.id)})})]}),i.jsxs("div",{className:"p-6",children:[s==="security"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Change Password"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-navy"}`,children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Za,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:a?"text":"password",value:f.currentPassword,onChange:x=>j("currentPassword",x.target.value),className:`w-full pl-12 pr-12 py-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`}),i.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a?i.jsx(ho,{className:"w-5 h-5 text-gray-400"}):i.jsx(Jt,{className:"w-5 h-5 text-gray-400"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-navy"}`,children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Za,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:l?"text":"password",value:f.newPassword,onChange:x=>j("newPassword",x.target.value),className:`w-full pl-12 pr-12 py-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l?i.jsx(ho,{className:"w-5 h-5 text-gray-400"}):i.jsx(Jt,{className:"w-5 h-5 text-gray-400"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-navy"}`,children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Za,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:u?"text":"password",value:f.confirmPassword,onChange:x=>j("confirmPassword",x.target.value),className:`w-full pl-12 pr-12 py-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`}),i.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u?i.jsx(ho,{className:"w-5 h-5 text-gray-400"}):i.jsx(Jt,{className:"w-5 h-5 text-gray-400"})})]})]}),i.jsx("button",{onClick:b,className:`w-full py-3 rounded-xl font-semibold ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,children:"Update Password"})]}),i.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-navy/30":"bg-gray-100"}`,children:[i.jsx("h4",{className:`font-semibold mb-3 ${n?"text-white":"text-navy"}`,children:"Password Requirements"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(os,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:n?"text-gray-300":"text-gray-600",children:"At least 8 characters"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(os,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:n?"text-gray-300":"text-gray-600",children:"One uppercase letter"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(os,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:n?"text-gray-300":"text-gray-600",children:"One lowercase letter"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(os,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:n?"text-gray-300":"text-gray-600",children:"One number"})]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Two-Factor Authentication"}),i.jsx("div",{className:`p-6 rounded-xl ${n?"bg-navy/30":"bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(MI,{className:`w-6 h-6 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:"SMS Authentication"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:"Receive verification codes via SMS"})]})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",checked:p.twoFactorAuth,onChange:()=>_("twoFactorAuth")}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Login Notifications"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:`p-4 rounded-xl ${n?"bg-navy/30":"bg-gray-100"} flex items-center justify-between`,children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:"Email notifications for new logins"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:"Get notified when someone logs into your account"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",checked:p.loginNotifications,onChange:()=>_("loginNotifications")}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:`p-4 rounded-xl ${n?"bg-navy/30":"bg-gray-100"} flex items-center justify-between`,children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:"Device tracking"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:"Track devices that access your account"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",checked:p.deviceTracking,onChange:()=>_("deviceTracking")}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),s==="privacy"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Profile Visibility"}),i.jsx("div",{className:"space-y-4",children:["public","friends","private"].map(x=>i.jsxs("label",{className:`flex items-center space-x-3 p-4 rounded-xl cursor-pointer ${p.profileVisibility===x?n?"bg-yellow-400/20 border-2 border-yellow-400":"bg-blue-600/20 border-2 border-blue-600":n?"bg-navy/30 border-2 border-transparent":"bg-gray-100 border-2 border-transparent"}`,children:[i.jsx("input",{type:"radio",name:"profileVisibility",value:x,checked:p.profileVisibility===x,onChange:C=>y({...p,profileVisibility:C.target.value}),className:"text-blue-600 focus:ring-blue-500"}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold capitalize ${n?"text-white":"text-navy"}`,children:x}),i.jsxs("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:[x==="public"&&"Anyone can see your profile",x==="friends"&&"Only your friends can see your profile",x==="private"&&"Only you can see your profile"]})]})]},x))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Data Sharing"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:`p-4 rounded-xl ${n?"bg-navy/30":"bg-gray-100"} flex items-center justify-between`,children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:"Share data with partners"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:"Allow us to share anonymized data with travel partners"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",checked:p.dataSharing,onChange:()=>_("dataSharing")}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:`p-4 rounded-xl ${n?"bg-navy/30":"bg-gray-100"} flex items-center justify-between`,children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:"Marketing emails"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:"Receive promotional emails and travel deals"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",checked:p.marketingEmails,onChange:()=>_("marketingEmails")}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),s==="data"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Data Export"}),i.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-navy/30":"bg-gray-100"}`,children:[i.jsx("p",{className:`mb-4 ${n?"text-gray-300":"text-gray-600"}`,children:"Download a copy of all your data including bookings, preferences, and activity history."}),i.jsx("button",{className:`px-6 py-3 rounded-xl font-semibold ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,children:"Request Data Export"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-4 text-red-500",children:"Delete Account"}),i.jsxs("div",{className:`p-6 rounded-xl border-2 border-red-500/20 ${n?"bg-red-500/10":"bg-red-50"}`,children:[i.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[i.jsx(Ff,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-red-500 mb-2",children:"Permanently delete your account"}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"} mb-4`,children:"This action cannot be undone. All your data, bookings, and preferences will be permanently deleted."}),i.jsxs("ul",{className:`text-sm ${n?"text-gray-300":"text-gray-600"} space-y-1 mb-4`,children:[i.jsx("li",{children:"• All booking history will be deleted"}),i.jsx("li",{children:"• Saved preferences and favorites will be lost"}),i.jsx("li",{children:"• You will lose access to all travel points"}),i.jsx("li",{children:"• This action is irreversible"})]})]})]}),i.jsx("button",{className:"px-6 py-3 rounded-xl font-semibold bg-red-500 text-white hover:bg-red-600 transition-colors",children:"Delete My Account"})]})]})]})]})]})]})}):null},S7=({isOpen:t,onClose:e,currentSettings:n,onSave:s})=>{var h,f,m,p;const{isDark:r}=ye(),[a,o]=T.useState({language:(n==null?void 0:n.language)||"en-US",currency:(n==null?void 0:n.currency)||"USD",region:(n==null?void 0:n.region)||"US"}),l=[{code:"en-US",name:"English (US)",flag:"🇺🇸"},{code:"en-GB",name:"English (UK)",flag:"🇬🇧"},{code:"es-ES",name:"Español",flag:"🇪🇸"},{code:"fr-FR",name:"Français",flag:"🇫🇷"},{code:"de-DE",name:"Deutsch",flag:"🇩🇪"},{code:"it-IT",name:"Italiano",flag:"🇮🇹"},{code:"pt-BR",name:"Português",flag:"🇧🇷"},{code:"ja-JP",name:"日本語",flag:"🇯🇵"},{code:"ko-KR",name:"한국어",flag:"🇰🇷"},{code:"zh-CN",name:"中文",flag:"🇨🇳"},{code:"hi-IN",name:"हिंदी",flag:"🇮🇳"},{code:"ar-SA",name:"العربية",flag:"🇸🇦"}],c=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"€"},{code:"GBP",name:"British Pound",symbol:"£"},{code:"JPY",name:"Japanese Yen",symbol:"¥"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CHF",name:"Swiss Franc",symbol:"CHF"},{code:"CNY",name:"Chinese Yuan",symbol:"¥"},{code:"INR",name:"Indian Rupee",symbol:"₹"},{code:"KRW",name:"South Korean Won",symbol:"₩"},{code:"BRL",name:"Brazilian Real",symbol:"R$"},{code:"MXN",name:"Mexican Peso",symbol:"$"}],u=()=>{s(a),e()};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl ${r?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${r?"border-gray-600":"border-gray-200"} shadow-2xl`,onClick:y=>y.stopPropagation(),children:[i.jsx("div",{className:"sticky top-0 p-6 border-b border-gray-300 bg-inherit rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ha,{className:`w-6 h-6 ${r?"text-yellow-400":"text-blue-600"}`}),i.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-navy"}`,children:"Language & Currency"})]}),i.jsx("button",{onClick:e,className:`p-2 rounded-full ${r?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})})]})}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:`font-bold text-lg mb-4 flex items-center space-x-2 ${r?"text-white":"text-navy"}`,children:[i.jsx(ha,{className:"w-5 h-5"}),i.jsx("span",{children:"Language"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.map(y=>i.jsx(S.button,{onClick:()=>o({...a,language:y.code}),className:`p-4 rounded-xl border-2 transition-all text-left ${a.language===y.code?r?"border-yellow-400 bg-yellow-400/20":"border-blue-600 bg-blue-600/20":r?"border-gray-600 hover:border-yellow-400":"border-gray-300 hover:border-blue-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-2xl",children:y.flag}),i.jsx("span",{className:`font-semibold ${r?"text-white":"text-navy"}`,children:y.name})]}),a.language===y.code&&i.jsx(os,{className:`w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`})]})},y.code))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:`font-bold text-lg mb-4 flex items-center space-x-2 ${r?"text-white":"text-navy"}`,children:[i.jsx(ss,{className:"w-5 h-5"}),i.jsx("span",{children:"Currency"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.map(y=>i.jsx(S.button,{onClick:()=>o({...a,currency:y.code}),className:`p-4 rounded-xl border-2 transition-all text-left ${a.currency===y.code?r?"border-yellow-400 bg-yellow-400/20":"border-blue-600 bg-blue-600/20":r?"border-gray-600 hover:border-yellow-400":"border-gray-300 hover:border-blue-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:`text-xl font-bold ${r?"text-yellow-400":"text-blue-600"}`,children:y.symbol}),i.jsxs("div",{children:[i.jsx("div",{className:`font-semibold ${r?"text-white":"text-navy"}`,children:y.code}),i.jsx("div",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:y.name})]})]}),a.currency===y.code&&i.jsx(os,{className:`w-5 h-5 ${r?"text-yellow-400":"text-blue-600"}`})]})},y.code))})]}),i.jsxs("div",{className:`p-6 rounded-xl ${r?"bg-navy/30":"bg-gray-100"}`,children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${r?"text-white":"text-navy"}`,children:"Preview"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Language:"}),i.jsx("span",{className:`font-semibold ${r?"text-white":"text-navy"}`,children:(h=l.find(y=>y.code===a.language))==null?void 0:h.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Currency:"}),i.jsxs("span",{className:`font-semibold ${r?"text-white":"text-navy"}`,children:[(f=c.find(y=>y.code===a.currency))==null?void 0:f.name," (",(m=c.find(y=>y.code===a.currency))==null?void 0:m.symbol,")"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Sample Price:"}),i.jsxs("span",{className:`font-semibold ${r?"text-yellow-400":"text-blue-600"}`,children:[(p=c.find(y=>y.code===a.currency))==null?void 0:p.symbol,"1,299"]})]})]})]})]}),i.jsx("div",{className:"sticky bottom-0 p-6 border-t border-gray-300 bg-inherit rounded-b-2xl",children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{onClick:e,className:`flex-1 py-3 rounded-xl font-semibold border-2 ${r?"border-gray-600 text-white hover:bg-gray-600":"border-gray-300 text-navy hover:bg-gray-100"} transition-colors`,children:"Cancel"}),i.jsx(S.button,{onClick:u,className:`flex-1 py-3 rounded-xl font-semibold ${r?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Save Changes"})]})})]})]})}):null},k7=({isOpen:t,onClose:e})=>{const{isDark:n}=ye(),[s,r]=T.useState("faq"),[a,o]=T.useState(""),[l,c]=T.useState(null),[u,h]=T.useState({subject:"",message:"",priority:"medium"}),f=[{id:"faq",label:"FAQ",icon:Os},{id:"contact",label:"Contact Us",icon:e0},{id:"live-chat",label:"Live Chat",icon:rr}],m=[{id:1,question:"How do I cancel my booking?",answer:"You can cancel your booking up to 24 hours before departure. Go to My Bookings, select your trip, and click Cancel. Refund policies vary by booking type.",category:"Bookings"},{id:2,question:"How does AI trip planning work?",answer:"Our AI analyzes your preferences, budget, travel dates, and millions of data points to create personalized itineraries. It considers weather, local events, and your interests.",category:"AI Features"},{id:3,question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express), PayPal, Apple Pay, and Google Pay. All payments are securely processed.",category:"Payments"},{id:4,question:"Can I modify my trip after booking?",answer:"Yes, you can modify most bookings. Changes may incur fees depending on the supplier and timing. Contact our support team for assistance with modifications.",category:"Bookings"},{id:5,question:"How do I earn and use travel points?",answer:"Earn points with every booking, review, and referral. 100 points = $1. Use points at checkout or save them for bigger discounts on future trips.",category:"Rewards"},{id:6,question:"Is my personal data secure?",answer:"Yes, we use enterprise-grade encryption and follow strict privacy policies. Your data is never shared without consent and is protected by industry-leading security measures.",category:"Privacy"}],p=[{type:"email",title:"Email Support",description:"Get help via email within 24 hours",contact:"support@sanchari.com",icon:Xr,available:"24/7"},{type:"phone",title:"Phone Support",description:"Speak with our travel experts",contact:"+1 (555) 123-4567",icon:Yi,available:"9 AM - 9 PM EST"},{type:"chat",title:"Live Chat",description:"Instant help from our support team",contact:"Start Chat",icon:e0,available:"24/7"}],y=m.filter(j=>j.question.toLowerCase().includes(a.toLowerCase())||j.answer.toLowerCase().includes(a.toLowerCase())||j.category.toLowerCase().includes(a.toLowerCase())),N=()=>{console.log("Contact form submitted:",u),h({subject:"",message:"",priority:"medium"})};return t?i.jsx(Nt,{children:i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(S.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl ${n?"bg-navy/95":"bg-white/95"} backdrop-blur-md border ${n?"border-gray-600":"border-gray-200"} shadow-2xl`,onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"sticky top-0 p-6 border-b border-gray-300 bg-inherit rounded-t-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rr,{className:`w-6 h-6 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("h2",{className:`text-xl font-bold ${n?"text-white":"text-navy"}`,children:"Help & Support"})]}),i.jsx("button",{onClick:e,className:`p-2 rounded-full ${n?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:i.jsx(Cn,{className:`w-5 h-5 ${n?"text-gray-400":"text-gray-500"}`})})]}),i.jsx("div",{className:"flex space-x-1 mt-6",children:f.map(j=>{const _=j.icon;return i.jsxs("button",{onClick:()=>r(j.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-semibold transition-all ${s===j.id?n?"bg-yellow-400 text-navy":"bg-blue-600 text-white":n?"text-white hover:bg-white/10":"text-navy hover:bg-navy/10"}`,children:[i.jsx(_,{className:"w-4 h-4"}),i.jsx("span",{children:j.label})]},j.id)})})]}),i.jsxs("div",{className:"p-6",children:[s==="faq"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Os,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${n?"text-gray-400":"text-gray-500"}`}),i.jsx("input",{type:"text",placeholder:"Search frequently asked questions...",value:a,onChange:j=>o(j.target.value),className:`w-full pl-12 pr-4 py-4 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-gray-100 text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]}),i.jsx("div",{className:"space-y-4",children:y.map((j,_)=>i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:`rounded-xl border ${n?"border-gray-600 bg-navy/30":"border-gray-300 bg-white/30"} backdrop-blur-sm overflow-hidden`,children:[i.jsxs("button",{onClick:()=>c(l===j.id?null:j.id),className:"w-full p-6 text-left flex items-center justify-between hover:bg-opacity-80 transition-all",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center space-x-3 mb-2",children:i.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-semibold ${n?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:j.category})}),i.jsx("h3",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:j.question})]}),i.jsx(S.div,{animate:{rotate:l===j.id?90:0},transition:{duration:.2},children:i.jsx(Dx,{className:`w-5 h-5 ${n?"text-gray-400":"text-gray-500"}`})})]}),i.jsx(Nt,{children:l===j.id&&i.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:i.jsx("div",{className:`px-6 pb-6 ${n?"text-gray-300":"text-gray-600"}`,children:j.answer})})})]},j.id))}),y.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Os,{className:`w-16 h-16 mx-auto mb-4 ${n?"text-gray-400":"text-gray-500"}`}),i.jsx("h3",{className:`text-xl font-bold mb-2 ${n?"text-white":"text-navy"}`,children:"No results found"}),i.jsx("p",{className:`${n?"text-gray-300":"text-gray-600"}`,children:"Try different keywords or contact our support team"})]})]}),s==="contact"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Contact Options"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map((j,_)=>{const b=j.icon;return i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:`p-6 rounded-xl ${n?"bg-navy/30":"bg-gray-100"} text-center`,children:[i.jsx(b,{className:`w-12 h-12 mx-auto mb-4 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("h4",{className:`font-bold text-lg mb-2 ${n?"text-white":"text-navy"}`,children:j.title}),i.jsx("p",{className:`text-sm mb-3 ${n?"text-gray-300":"text-gray-600"}`,children:j.description}),i.jsx("div",{className:`font-semibold mb-2 ${n?"text-yellow-400":"text-blue-600"}`,children:j.contact}),i.jsxs("div",{className:`text-xs ${n?"text-gray-400":"text-gray-500"}`,children:["Available: ",j.available]})]},j.type)})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Send us a Message"}),i.jsxs("div",{className:`p-6 rounded-xl ${n?"bg-navy/30":"bg-gray-100"} space-y-4`,children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-navy"}`,children:"Subject"}),i.jsx("input",{type:"text",value:u.subject,onChange:j=>h({...u,subject:j.target.value}),placeholder:"What can we help you with?",className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-white text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-navy"}`,children:"Priority"}),i.jsxs("select",{value:u.priority,onChange:j=>h({...u,priority:j.target.value}),className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white":"bg-white text-navy"} focus:ring-2 focus:ring-blue-500`,children:[i.jsx("option",{value:"low",children:"Low - General inquiry"}),i.jsx("option",{value:"medium",children:"Medium - Need assistance"}),i.jsx("option",{value:"high",children:"High - Urgent issue"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${n?"text-white":"text-navy"}`,children:"Message"}),i.jsx("textarea",{value:u.message,onChange:j=>h({...u,message:j.target.value}),placeholder:"Please describe your issue or question in detail...",rows:6,className:`w-full p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-white text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`})]}),i.jsx("button",{onClick:N,className:`w-full py-3 rounded-xl font-semibold ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,children:"Send Message"})]})]})]}),s==="live-chat"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:`h-96 rounded-xl ${n?"bg-navy/30":"bg-gray-100"} p-6 flex flex-col`,children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4 pb-4 border-b border-gray-300",children:[i.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(rr,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold ${n?"text-white":"text-navy"}`,children:"Support Agent"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:"Online"})]})]})]}),i.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-sm",children:"S"})}),i.jsxs("div",{className:`p-3 rounded-xl max-w-xs ${n?"bg-blue-600 text-white":"bg-blue-100 text-navy"}`,children:[i.jsx("p",{className:"text-sm",children:"Hi! I'm here to help you with any questions about your travel plans. How can I assist you today?"}),i.jsx("span",{className:`text-xs mt-1 block ${n?"text-blue-200":"text-blue-600"}`,children:"Just now"})]})]})}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("input",{type:"text",placeholder:"Type your message...",className:`flex-1 p-3 rounded-xl border-0 ${n?"bg-navy/50 text-white placeholder-gray-400":"bg-white text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500`}),i.jsx("button",{className:`px-6 py-3 rounded-xl font-semibold ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,children:"Send"})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${n?"text-white":"text-navy"}`,children:"Quick Actions"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Booking Help","Payment Issues","Trip Changes","Refund Request"].map((j,_)=>i.jsx(S.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:`p-4 rounded-xl border-2 border-dashed ${n?"border-gray-600 hover:border-yellow-400 text-white":"border-gray-300 hover:border-blue-600 text-navy"} transition-colors text-center font-semibold`,whileHover:{scale:1.02},whileTap:{scale:.98},children:j},j))})]})]})]})]})]})}):null},I7=({activeSection:t="home",setActiveSection:e})=>{const[n,s]=T.useState(!1),r=mt(),{isDark:a}=ye(),o=[{name:"Features",id:"features"},{name:"Destinations",id:"destinations"},{name:"About",id:"about"},{name:"Contact",id:"contact"}],l=c=>{e(c);const u=document.getElementById(c);u&&u.scrollIntoView({behavior:"smooth"})};return i.jsx("header",{className:"relative z-50 backdrop-blur-md bg-white/10 border-b border-white/20",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(S.div,{className:"flex items-center space-x-3 cursor-pointer",whileHover:{scale:1.05},onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),onClick:()=>{e("home"),window.scrollTo({top:0,behavior:"smooth"})},children:[i.jsx(S.div,{className:`w-12 h-12 rounded-full flex items-center justify-center ${a?"bg-yellow-400":"bg-blue-600"}`,animate:{rotate:n?360:0,scale:n?1.1:1},transition:{duration:.5},children:i.jsx(Kn,{className:`w-7 h-7 ${a?"text-navy":"text-white"}`})}),i.jsxs("div",{children:[i.jsx(S.h1,{className:`text-2xl font-bold font-playfair ${a?"text-yellow-400":"text-blue-600"}`,animate:{color:n?a?"#fbbf24":"#2563eb":void 0},children:"Sanchari"}),i.jsx(S.p,{className:`text-sm ${a?"text-gray-300":"text-gray-600"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Travel. Discover. Live."})]})]}),i.jsx("nav",{className:"hidden lg:flex items-center space-x-8",children:o.map((c,u)=>i.jsxs(S.button,{onClick:()=>l(c.id),className:`font-semibold hover:opacity-80 transition-opacity relative ${a?"text-white":"text-navy"} ${t===c.id?"opacity-100":"opacity-80"}`,whileHover:{scale:1.05},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:[c.name,i.jsx(S.div,{className:`absolute -bottom-1 left-0 h-0.5 ${a?"bg-yellow-400":"bg-blue-600"}`,initial:{width:0},animate:{width:t===c.id?"100%":0},whileHover:{width:"100%"},transition:{duration:.3}})]},c.id))}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs(S.button,{onClick:()=>r("/login"),className:`px-6 py-2 rounded-lg font-semibold transition-all relative overflow-hidden ${a?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(S.div,{className:"absolute inset-0 bg-white/20",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.5}}),i.jsx("span",{className:"relative z-10",children:"Sign In"})]})})]})})})},C7=()=>{const{isDark:t}=ye(),e={company:[{name:"About Us",href:"#about"},{name:"Our Team",href:"#team"},{name:"Careers",href:"#careers"},{name:"Press",href:"#press"}],services:[{name:"Trip Planning",href:"#trip-planning"},{name:"Destinations",href:"#destinations"},{name:"Travel Insurance",href:"#insurance"},{name:"Group Bookings",href:"#group-bookings"}],support:[{name:"Help Center",href:"#help"},{name:"Contact Us",href:"#contact"},{name:"Privacy Policy",href:"#privacy"},{name:"Terms of Service",href:"#terms"}]},n=[{name:"Facebook",icon:AI,href:"https://facebook.com"},{name:"Twitter",icon:FI,href:"https://twitter.com"},{name:"Instagram",icon:DI,href:"https://instagram.com"},{name:"LinkedIn",icon:$I,href:"https://linkedin.com"}],s=[{icon:Xr,text:"support@sanchari.com",href:"mailto:support@sanchari.com"},{icon:Yi,text:"+91 99999 99999",href:"tel:+919999999999"},{icon:Fe,text:"Mumbai, India",href:"#"}];return i.jsx(S.footer,{className:`mt-20 border-t ${t?"border-gray-700":"border-gray-200"} backdrop-blur-md bg-white/10`,initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[i.jsxs(S.div,{className:"space-y-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},children:[i.jsxs(S.div,{className:"flex items-center space-x-3",whileHover:{scale:1.05},children:[i.jsx(S.div,{className:`w-10 h-10 rounded-full flex items-center justify-center ${t?"bg-yellow-400":"bg-blue-600"}`,animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},children:i.jsx(Kn,{className:`w-6 h-6 ${t?"text-navy":"text-white"}`})}),i.jsx("span",{className:`text-xl font-bold ${t?"text-white":"text-navy"}`,children:"Sanchari"})]}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"} leading-relaxed`,children:"Your AI-powered travel companion, crafting unforgettable journeys with personalized recommendations and premium experiences."}),i.jsx("div",{className:"space-y-3",children:s.map((r,a)=>{const o=r.icon;return i.jsxs(S.a,{href:r.href,className:`flex items-center space-x-3 text-sm ${t?"text-gray-300 hover:text-yellow-400":"text-gray-600 hover:text-blue-600"} transition-colors`,whileHover:{scale:1.02,x:5},children:[i.jsx(o,{className:"w-4 h-4"}),i.jsx("span",{children:r.text})]},a)})})]}),i.jsxs(S.div,{className:"space-y-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:[i.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-navy"}`,children:"Company"}),i.jsx("ul",{className:"space-y-2",children:e.company.map((r,a)=>i.jsx(S.li,{whileHover:{x:5},children:i.jsx("a",{href:r.href,className:`text-sm ${t?"text-gray-300 hover:text-yellow-400":"text-gray-600 hover:text-blue-600"} transition-colors`,children:r.name})},a))})]}),i.jsxs(S.div,{className:"space-y-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},children:[i.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-navy"}`,children:"Services"}),i.jsx("ul",{className:"space-y-2",children:e.services.map((r,a)=>i.jsx(S.li,{whileHover:{x:5},children:i.jsx("a",{href:r.href,className:`text-sm ${t?"text-gray-300 hover:text-yellow-400":"text-gray-600 hover:text-blue-600"} transition-colors`,children:r.name})},a))})]}),i.jsxs(S.div,{className:"space-y-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},children:[i.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-navy"}`,children:"Support"}),i.jsx("ul",{className:"space-y-2",children:e.support.map((r,a)=>i.jsx(S.li,{whileHover:{x:5},children:i.jsx("a",{href:r.href,className:`text-sm ${t?"text-gray-300 hover:text-yellow-400":"text-gray-600 hover:text-blue-600"} transition-colors`,children:r.name})},a))})]})]}),i.jsx(S.div,{className:`border-t ${t?"border-gray-700":"border-gray-200"} pt-8 mb-8`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.5},children:i.jsxs("div",{className:"max-w-md mx-auto text-center",children:[i.jsx("h3",{className:`text-lg font-semibold mb-4 ${t?"text-white":"text-navy"}`,children:"Stay Updated"}),i.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-300":"text-gray-600"}`,children:"Subscribe to our newsletter for exclusive deals and travel tips"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"email",placeholder:"Enter your email",className:`flex-1 px-4 py-2 rounded-lg border ${t?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"}`}),i.jsx(S.button,{className:`px-6 py-2 rounded-lg font-semibold transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Subscribe"})]})]})}),i.jsx("div",{className:`border-t ${t?"border-gray-700":"border-gray-200"} pt-8`,children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[i.jsx(S.div,{className:"mb-4 lg:mb-0",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:i.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"© 2024 Sanchari. All rights reserved."})}),i.jsx(S.div,{className:"flex items-center space-x-4",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:n.map((r,a)=>{const o=r.icon;return i.jsx(S.a,{href:r.href,className:`w-8 h-8 rounded-full flex items-center justify-center ${t?"bg-navy/50 text-gray-300 hover:text-yellow-400":"bg-white/50 text-gray-600 hover:text-blue-600"} transition-colors`,whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},children:i.jsx(o,{className:"w-4 h-4"})},a)})})]})})]})})},A7=()=>{const{isDark:t}=ye(),[e,n]=T.useState(0),s=[{icon:Kl,title:"AI-Powered Planning",description:"Our advanced AI analyzes millions of data points to create your perfect trip in seconds",color:"from-yellow-400 to-orange-500",details:["Smart destination matching based on your preferences","Real-time price optimization","Weather-based itinerary adjustments","Machine learning from travel patterns"]},{icon:en,title:"Personalized Experience",description:"Every recommendation is tailored to your unique preferences and travel style",color:"from-pink-500 to-red-500",details:["Custom travel profiles","Preference learning algorithm","Behavioral pattern analysis","Adaptive recommendations"]},{icon:So,title:"Premium Quality",description:"Handpicked accommodations and experiences that exceed expectations",color:"from-purple-500 to-indigo-500",details:["Verified premium partners","Quality assurance system","Expert curation team","Exclusive access to unique experiences"]},{icon:fr,title:"Secure & Reliable",description:"Your data and bookings are protected with enterprise-grade security",color:"from-blue-500 to-cyan-500",details:["End-to-end encryption","Secure payment processing","Data privacy compliance","24/7 booking protection"]}],r=[{icon:KB,title:"Smart Recommendations",description:"AI learns your preferences to suggest better trips over time"},{icon:ha,title:"Global Coverage",description:"Access to destinations and experiences worldwide"},{icon:$t,title:"Flexible Booking",description:"Easy cancellation and modification policies"},{icon:ss,title:"Best Price Guarantee",description:"We'll match or beat any comparable price"},{icon:yn,title:"Group Travel",description:"Special features for family and group bookings"},{icon:Fe,title:"Local Insights",description:"Insider tips and hidden gems from locals"},{icon:Un,title:"24/7 Support",description:"Round-the-clock customer service and assistance"},{icon:MI,title:"Mobile Optimized",description:"Seamless experience across all devices"},{icon:rr,title:"Concierge Service",description:"Personal travel assistant for premium bookings"},{icon:Jr,title:"Real-time Updates",description:"Live notifications for flight changes and updates"}];return i.jsx("section",{id:"features",className:"py-20",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[i.jsxs(S.h2,{className:`text-4xl lg:text-5xl font-bold font-playfair mb-6 ${t?"text-white":"text-navy"}`,initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.2},children:["Why Choose ",i.jsx("span",{className:t?"text-yellow-400":"text-blue-600",children:"Sanchari"}),"?"]}),i.jsx(S.p,{className:`text-xl ${t?"text-gray-300":"text-gray-600"} max-w-3xl mx-auto`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},children:"Experience the future of travel planning with our cutting-edge AI technology and premium service"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:s.map((a,o)=>{const l=a.icon;return i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},whileHover:{y:-10,scale:1.02},className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm text-center group cursor-pointer relative overflow-hidden`,onClick:()=>n(o),children:[i.jsx(S.div,{className:`absolute inset-0 bg-gradient-to-r ${a.color} opacity-0 group-hover:opacity-10 transition-opacity`}),i.jsx(S.div,{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${a.color} flex items-center justify-center mb-6 mx-auto`,whileHover:{rotate:360,scale:1.1},transition:{duration:.5},children:i.jsx(l,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`font-bold text-xl mb-4 ${t?"text-white":"text-navy"}`,children:a.title}),i.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"} mb-4`,children:a.description}),i.jsx(S.div,{className:`text-sm ${t?"text-yellow-400":"text-blue-600"} font-medium`,whileHover:{scale:1.05},children:"Learn More →"})]},o)})}),e!==null&&i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`mb-16 p-8 rounded-2xl ${t?"bg-navy/70":"bg-white/70"} backdrop-blur-sm`,children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`text-2xl font-bold mb-4 ${t?"text-white":"text-navy"}`,children:s[e].title}),i.jsx("p",{className:`text-lg mb-6 ${t?"text-gray-300":"text-gray-600"}`,children:s[e].description}),i.jsx("div",{className:"space-y-3",children:s[e].details.map((a,o)=>i.jsxs(S.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},className:"flex items-center space-x-3",children:[i.jsx(Ts,{className:`w-5 h-5 ${t?"text-yellow-400":"text-blue-600"}`}),i.jsx("span",{className:`${t?"text-gray-300":"text-gray-700"}`,children:a})]},o))})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(S.div,{className:`w-32 h-32 rounded-full bg-gradient-to-r ${s[e].color} flex items-center justify-center`,animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},children:Ao.createElement(s[e].icon,{className:"w-16 h-16 text-white"})})})]})}),i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12",children:[i.jsx("h3",{className:`text-3xl font-bold mb-4 ${t?"text-white":"text-navy"}`,children:"More Features"}),i.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"Discover all the ways we make your travel experience exceptional"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:r.map((a,o)=>{const l=a.icon;return i.jsxs(S.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.05},whileHover:{y:-5,scale:1.02},className:`p-6 rounded-xl ${t?"bg-navy/30":"bg-white/30"} backdrop-blur-sm text-center group cursor-pointer`,children:[i.jsx(S.div,{className:`w-12 h-12 rounded-xl ${t?"bg-yellow-400/20":"bg-blue-600/20"} flex items-center justify-center mb-4 mx-auto`,whileHover:{scale:1.1,rotate:10},children:i.jsx(l,{className:`w-6 h-6 ${t?"text-yellow-400":"text-blue-600"}`})}),i.jsx("h4",{className:`font-semibold text-sm mb-2 ${t?"text-white":"text-navy"}`,children:a.title}),i.jsx("p",{className:`text-xs ${t?"text-gray-300":"text-gray-600"}`,children:a.description})]},o)})}),i.jsx(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mt-16",children:i.jsx(S.button,{className:`px-8 py-4 rounded-xl font-semibold text-lg ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-all`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Start Planning Your Trip"})})]})})},P7=()=>{const{isDark:t}=ye(),[e,n]=T.useState("all"),[s,r]=T.useState(new Set),a=[{id:"all",name:"All Destinations",icon:ha},{id:"beach",name:"Beach",icon:Sd},{id:"mountain",name:"Mountains",icon:Gl},{id:"city",name:"Cities",icon:CI},{id:"nature",name:"Nature",icon:t0},{id:"cultural",name:"Cultural",icon:y7}],o=[{id:1,name:"Santorini, Greece",category:"beach",image:"https://images.unsplash.com/photo-1613395877344-13d4a8e0d49e?auto=format&fit=crop&w=800&q=80",price:"From ₹45,000",originalPrice:"₹55,000",rating:4.8,reviews:324,duration:"5-7 days",highlights:["Sunset Views","Wine Tasting","Volcanic Beaches"],description:"Stunning sunsets and white-washed buildings overlooking the Aegean Sea",discount:18},{id:2,name:"Kyoto, Japan",category:"cultural",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=800&q=80",price:"From ₹65,000",rating:4.9,reviews:567,duration:"6-8 days",highlights:["Temples","Gardens","Traditional Culture"],description:"Ancient temples, traditional gardens, and authentic Japanese culture"},{id:3,name:"Swiss Alps, Switzerland",category:"mountain",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",price:"From ₹85,000",rating:4.7,reviews:412,duration:"7-10 days",highlights:["Alpine Views","Skiing","Mountain Hiking"],description:"Breathtaking alpine scenery and world-class skiing resorts"},{id:4,name:"Bali, Indonesia",category:"beach",image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?auto=format&fit=crop&w=800&q=80",price:"From ₹35,000",originalPrice:"₹42,000",rating:4.6,reviews:756,duration:"6-8 days",highlights:["Temples","Rice Terraces","Beach Clubs"],description:"Tropical paradise with rich culture and stunning landscapes",discount:16},{id:5,name:"Dubai, UAE",category:"city",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?auto=format&fit=crop&w=800&q=80",price:"From ₹55,000",rating:4.5,reviews:892,duration:"4-6 days",highlights:["Luxury Shopping","Desert Safari","Modern Architecture"],description:"Modern marvels, luxury shopping, and desert adventures"},{id:6,name:"Iceland",category:"nature",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",price:"From ₹75,000",rating:4.8,reviews:234,duration:"8-10 days",highlights:["Northern Lights","Geysers","Glaciers"],description:"Land of fire and ice with spectacular natural phenomena"},{id:7,name:"Paris, France",category:"city",image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?auto=format&fit=crop&w=800&q=80",price:"From ₹60,000",rating:4.7,reviews:1203,duration:"5-7 days",highlights:["Eiffel Tower","Louvre Museum","Seine River"],description:"The City of Light with world-class art, cuisine, and romance"},{id:8,name:"Maldives",category:"beach",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",price:"From ₹95,000",rating:4.9,reviews:445,duration:"5-7 days",highlights:["Overwater Villas","Coral Reefs","Luxury Resorts"],description:"Pristine beaches and crystal-clear waters in the Indian Ocean"}],l=e==="all"?o:o.filter(u=>u.category===e),c=u=>{r(h=>{const f=new Set(h);return f.has(u)?f.delete(u):f.add(u),f})};return i.jsx("section",{id:"destinations",className:"py-20",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[i.jsxs("h2",{className:`text-4xl lg:text-5xl font-bold font-playfair mb-6 ${t?"text-white":"text-navy"}`,children:["Discover Amazing ",i.jsx("span",{className:t?"text-yellow-400":"text-blue-600",children:"Destinations"})]}),i.jsx("p",{className:`text-xl ${t?"text-gray-300":"text-gray-600"} max-w-3xl mx-auto`,children:"Explore handpicked destinations curated by our travel experts and AI algorithms"})]}),i.jsxs(S.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12 flex flex-col md:flex-row gap-4 items-center justify-between",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Os,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`}),i.jsx("input",{type:"text",placeholder:"Search destinations...",className:`w-full pl-10 pr-4 py-3 rounded-xl border ${t?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"}`})]}),i.jsxs(S.button,{className:`flex items-center space-x-2 px-4 py-3 rounded-xl border ${t?"border-gray-600 text-gray-300 hover:bg-navy/50":"border-gray-300 text-gray-700 hover:bg-gray-50"} transition-all`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(Uf,{className:"w-5 h-5"}),i.jsx("span",{children:"Filters"})]})]}),i.jsx(S.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"mb-12",children:i.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:a.map(u=>{const h=u.icon;return i.jsxs(S.button,{onClick:()=>n(u.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full border transition-all ${e===u.id?t?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":t?"border-gray-600 text-gray-300 hover:border-yellow-400":"border-gray-300 text-gray-700 hover:border-blue-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(h,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:u.name})]},u.id)})})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:l.map((u,h)=>i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:h*.1},whileHover:{y:-10,scale:1.02},className:`rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm overflow-hidden group cursor-pointer`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:u.image,alt:u.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),u.discount&&i.jsx("div",{className:"absolute top-3 left-3",children:i.jsxs("span",{className:"bg-green-500 text-white px-2 py-1 rounded-lg text-xs font-bold",children:[u.discount,"% OFF"]})}),i.jsx(S.button,{onClick:f=>{f.stopPropagation(),c(u.id)},className:"absolute top-3 right-3 w-8 h-8 bg-white/80 rounded-full flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(en,{className:`w-4 h-4 ${s.has(u.id)?"text-red-500 fill-current":"text-gray-600"}`})}),i.jsx("div",{className:"absolute bottom-3 left-3 text-white",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-lg font-bold",children:u.price}),u.originalPrice&&i.jsx("span",{className:"text-sm line-through opacity-75",children:u.originalPrice})]})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:`font-bold text-xl mb-2 ${t?"text-white":"text-navy"}`,children:u.name}),i.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-300":"text-gray-600"}`,children:u.description}),i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:`text-sm font-medium ${t?"text-white":"text-navy"}`,children:u.rating})]}),i.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[u.reviews," reviews"]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx($t,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:u.duration})]})]}),i.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:u.highlights.slice(0,3).map((f,m)=>i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t?"bg-yellow-400/20 text-yellow-400":"bg-blue-100 text-blue-700"}`,children:f},m))}),i.jsxs(S.button,{className:`w-full py-3 rounded-xl font-semibold flex items-center justify-center space-x-2 transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx("span",{children:"Explore Now"}),i.jsx(da,{className:"w-4 h-4"})]})]})]},u.id))}),i.jsx(S.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-12",children:i.jsx(S.button,{className:`px-8 py-4 rounded-xl font-semibold text-lg border-2 transition-all ${t?"border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-navy":"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white"}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Load More Destinations"})})]})})},R7=()=>{const{isDark:t}=ye(),[e,n]=T.useState("story"),s=[{number:"4",label:"Team Members",icon:yn,color:"text-blue-500"},{number:"50+",label:"Features",icon:Ts,color:"text-green-500"},{number:"AI",label:"Powered Planning",icon:Kl,color:"text-yellow-500"},{number:"1st",label:"Hackathon Project",icon:So,color:"text-purple-500"}],r=[{icon:en,title:"Customer First",description:"Every decision we make is centered around creating exceptional experiences for our travelers",color:"from-pink-500 to-red-500"},{icon:Kl,title:"Innovation",description:"We leverage cutting-edge AI technology to revolutionize how people plan and experience travel",color:"from-yellow-400 to-orange-500"},{icon:fr,title:"Trust & Safety",description:"Your safety and security are our top priorities, with comprehensive protection at every step",color:"from-blue-500 to-cyan-500"},{icon:n7,title:"Sustainability",description:"We're committed to promoting responsible tourism and protecting the destinations we love",color:"from-green-500 to-emerald-500"}],a=[{name:"Rajesh",role:"Designer & Team Lead",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=300&q=80",bio:"4th year B.Tech student specializing in UI/UX design and user experience",linkedin:"#"},{name:"Siraj",role:"Designer & AI Integration",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=300&q=80",bio:"4th year B.Tech student focused on design and AI-powered features",linkedin:"#"},{name:"Surya",role:"Developer & AI Integration",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?auto=format&fit=crop&w=300&q=80",bio:"4th year B.Tech student specializing in full-stack development and AI integration",linkedin:"#"},{name:"Phani",role:"Developer",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=300&q=80",bio:"4th year B.Tech student passionate about software development and innovation",linkedin:"#"}],o=[{year:"2024",title:"Idea Conception",description:"Team formation and initial brainstorming during college hackathon preparation"},{year:"2024",title:"Project Planning",description:"Detailed planning and architecture design for AI-powered travel application"},{year:"2024",title:"Development Phase",description:"Frontend development, Firebase integration, and AI features implementation"},{year:"2025",title:"AI Integration",description:"Successfully integrated Google Gemini AI for intelligent trip planning"},{year:"2025",title:"Testing & Refinement",description:"Comprehensive testing and user interface improvements"},{year:"2025",title:"Hackathon Ready",description:"Final preparations for hackathon presentation and demo"}];return i.jsx("section",{id:"about",className:"py-20",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[i.jsxs("h2",{className:`text-4xl lg:text-5xl font-bold font-playfair mb-6 ${t?"text-white":"text-navy"}`,children:["About ",i.jsx("span",{className:t?"text-yellow-400":"text-blue-600",children:"Sanchari"})]}),i.jsx("p",{className:`text-xl ${t?"text-gray-300":"text-gray-600"} max-w-3xl mx-auto`,children:"We're on a mission to make travel planning effortless and extraordinary through the power of AI"})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:[i.jsxs("button",{onClick:()=>n("story"),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 border-2 ${e==="story"?t?"bg-yellow-400 text-navy shadow-lg border-yellow-400":"bg-blue-600 text-white shadow-lg border-blue-600":t?"bg-navy/30 text-gray-300 hover:bg-navy/50 hover:text-white border-gray-600":"bg-white/30 text-gray-700 hover:bg-white/50 hover:text-gray-900 border-gray-300"} hover:scale-105 active:scale-95`,style:{cursor:"pointer"},children:[i.jsx(d7,{className:"w-5 h-5"}),i.jsx("span",{children:"Our Story"})]}),i.jsxs("button",{onClick:()=>n("mission"),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 border-2 ${e==="mission"?t?"bg-yellow-400 text-navy shadow-lg border-yellow-400":"bg-blue-600 text-white shadow-lg border-blue-600":t?"bg-navy/30 text-gray-300 hover:bg-navy/50 hover:text-white border-gray-600":"bg-white/30 text-gray-700 hover:bg-white/50 hover:text-gray-900 border-gray-300"} hover:scale-105 active:scale-95`,style:{cursor:"pointer"},children:[i.jsx(oj,{className:"w-5 h-5"}),i.jsx("span",{children:"Mission & Vision"})]}),i.jsxs("button",{onClick:()=>n("values"),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 border-2 ${e==="values"?t?"bg-yellow-400 text-navy shadow-lg border-yellow-400":"bg-blue-600 text-white shadow-lg border-blue-600":t?"bg-navy/30 text-gray-300 hover:bg-navy/50 hover:text-white border-gray-600":"bg-white/30 text-gray-700 hover:bg-white/50 hover:text-gray-900 border-gray-300"} hover:scale-105 active:scale-95`,style:{cursor:"pointer"},children:[i.jsx(en,{className:"w-5 h-5"}),i.jsx("span",{children:"Our Values"})]}),i.jsxs("button",{onClick:()=>n("team"),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 border-2 ${e==="team"?t?"bg-yellow-400 text-navy shadow-lg border-yellow-400":"bg-blue-600 text-white shadow-lg border-blue-600":t?"bg-navy/30 text-gray-300 hover:bg-navy/50 hover:text-white border-gray-600":"bg-white/30 text-gray-700 hover:bg-white/50 hover:text-gray-900 border-gray-300"} hover:scale-105 active:scale-95`,style:{cursor:"pointer"},children:[i.jsx(yn,{className:"w-5 h-5"}),i.jsx("span",{children:"Our Team"})]})]}),i.jsx("div",{className:"text-center mb-4",children:i.jsxs("p",{className:`text-lg font-bold ${t?"text-yellow-400":"text-blue-600"}`,children:["Active Tab: ",e]})}),i.jsxs("div",{className:"mb-20 min-h-[500px] bg-opacity-10 border-2 border-dashed border-gray-400 rounded-2xl p-8",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsxs("h3",{className:`text-2xl font-bold ${t?"text-white":"text-navy"}`,children:[e==="story"&&"Our Story",e==="mission"&&"Mission & Vision",e==="values"&&"Our Values",e==="team"&&"Our Team"]})}),e==="story"&&i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`text-3xl font-bold mb-6 ${t?"text-white":"text-navy"}`,children:"Our Journey"}),i.jsx("p",{className:`text-lg mb-6 ${t?"text-gray-300":"text-gray-600"}`,children:"Created by a team of passionate 4th year B.Tech students from a small college, Sanchari was born during a hackathon with a simple observation: travel planning was too complex and time-consuming."}),i.jsx("p",{className:`text-lg mb-6 ${t?"text-gray-300":"text-gray-600"}`,children:"As young innovators, we believed that artificial intelligence could revolutionize how people discover, plan, and experience their journeys. This project represents our vision for the future of travel technology."}),i.jsxs("button",{className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(LI,{className:"w-5 h-5"}),i.jsx("span",{children:"Watch Our Story"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=800&q=80",alt:"Team meeting",className:"rounded-2xl shadow-xl"}),i.jsx("div",{className:"absolute -bottom-6 -left-6 w-24 h-24 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:i.jsx(Kl,{className:"w-12 h-12 text-white"})})]})]})}),e==="mission"&&i.jsx("div",{className:"max-w-4xl mx-auto text-center",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[i.jsxs("div",{className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:[i.jsx(oj,{className:`w-16 h-16 mx-auto mb-6 ${t?"text-yellow-400":"text-blue-600"}`}),i.jsx("h3",{className:`text-2xl font-bold mb-4 ${t?"text-white":"text-navy"}`,children:"Our Mission"}),i.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"To showcase how young innovators can leverage AI technology to solve real-world problems and make travel planning more accessible and enjoyable for everyone."})]}),i.jsxs("div",{className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:[i.jsx(ha,{className:`w-16 h-16 mx-auto mb-6 ${t?"text-yellow-400":"text-blue-600"}`}),i.jsx("h3",{className:`text-2xl font-bold mb-4 ${t?"text-white":"text-navy"}`,children:"Our Vision"}),i.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"To demonstrate the potential of student-led innovation in creating intelligent travel solutions that inspire people to explore the world with confidence."})]})]})}),e==="values"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map((l,c)=>{const u=l.icon;return i.jsxs("div",{className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm hover:scale-105 transition-transform duration-300`,children:[i.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${l.color} flex items-center justify-center mb-6`,children:i.jsx(u,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`text-xl font-bold mb-4 ${t?"text-white":"text-navy"}`,children:l.title}),i.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:l.description})]},c)})}),e==="team"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((l,c)=>i.jsxs("div",{className:`p-6 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm text-center hover:scale-105 transition-transform duration-300`,children:[i.jsx("img",{src:l.image,alt:l.name,className:"w-20 h-20 rounded-full mx-auto mb-4 object-cover"}),i.jsx("h4",{className:`font-bold text-lg mb-2 ${t?"text-white":"text-navy"}`,children:l.name}),i.jsx("p",{className:`text-sm font-medium mb-3 ${t?"text-yellow-400":"text-blue-600"}`,children:l.role}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:l.bio})]},c))})]}),i.jsx(S.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"grid grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:s.map((l,c)=>{const u=l.icon;return i.jsxs(S.div,{initial:{opacity:0,y:20,scale:.8},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{delay:c*.1,duration:.5},whileHover:{scale:1.05,y:-5},className:"text-center group cursor-pointer",children:[i.jsx(S.div,{className:`w-16 h-16 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm flex items-center justify-center mb-4 mx-auto group-hover:shadow-lg transition-all`,whileHover:{rotate:360},transition:{duration:.5},children:i.jsx(u,{className:`w-8 h-8 ${l.color}`})}),i.jsx(S.div,{className:`text-4xl lg:text-5xl font-bold mb-2 ${t?"text-yellow-400":"text-blue-600"}`,animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,delay:c*.2},children:l.number}),i.jsx("div",{className:`text-lg font-semibold ${t?"text-white":"text-navy"}`,children:l.label})]},c)})}),i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-20",children:[i.jsx("h3",{className:`text-3xl font-bold text-center mb-12 ${t?"text-white":"text-navy"}`,children:"Our Journey"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`absolute left-1/2 transform -translate-x-1/2 w-1 h-full ${t?"bg-yellow-400":"bg-blue-600"}`}),i.jsx("div",{className:"space-y-12",children:o.map((l,c)=>i.jsxs(S.div,{initial:{opacity:0,x:c%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:c*.2},className:`flex items-center ${c%2===0?"flex-row":"flex-row-reverse"}`,children:[i.jsx("div",{className:`w-1/2 ${c%2===0?"pr-8 text-right":"pl-8 text-left"}`,children:i.jsxs("div",{className:`p-6 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:[i.jsx("div",{className:`text-2xl font-bold mb-2 ${t?"text-yellow-400":"text-blue-600"}`,children:l.year}),i.jsx("h4",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-navy"}`,children:l.title}),i.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:l.description})]})}),i.jsx("div",{className:`w-6 h-6 rounded-full ${t?"bg-yellow-400":"bg-blue-600"} relative z-10`}),i.jsx("div",{className:"w-1/2"})]},c))})]})]}),i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:`p-12 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm text-center`,children:[i.jsx("h3",{className:`text-3xl font-bold mb-4 ${t?"text-white":"text-navy"}`,children:"Experience Our Innovation"}),i.jsx("p",{className:`text-lg mb-8 ${t?"text-gray-300":"text-gray-600"}`,children:"Discover how our team of 4th year B.Tech students is revolutionizing travel planning with AI"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(S.button,{className:`px-8 py-4 rounded-xl font-semibold text-lg flex items-center justify-center space-x-2 ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-all`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[i.jsx("span",{children:"Start Planning"}),i.jsx(da,{className:"w-5 h-5"})]}),i.jsx(S.button,{className:`px-8 py-4 rounded-xl font-semibold text-lg border-2 transition-all ${t?"border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-navy":"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white"}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Learn More"})]})]})]})})},D7=()=>{const{isDark:t}=ye(),[e,n]=T.useState({name:"",email:"",phone:"",subject:"",message:"",inquiryType:"general"}),[s,r]=T.useState(!1),[a,o]=T.useState(!1),l=[{icon:Xr,title:"Email Us",value:"support@sanchari.com",description:"Get in touch for any inquiries",color:"from-blue-500 to-cyan-500"},{icon:Yi,title:"Call Us",value:"+91 99999 99999",description:"Available 24/7 for urgent matters",color:"from-green-500 to-emerald-500"},{icon:Fe,title:"Visit Us",value:"Mumbai, India",description:"Come visit our headquarters",color:"from-purple-500 to-indigo-500"},{icon:Un,title:"Business Hours",value:"24/7 Support",description:"We're here whenever you need us",color:"from-orange-500 to-red-500"}],c=[{value:"general",label:"General Inquiry"},{value:"booking",label:"Booking Support"},{value:"technical",label:"Technical Issue"},{value:"feedback",label:"Feedback"},{value:"partnership",label:"Partnership"},{value:"media",label:"Media & Press"}],u=[{name:"Facebook",icon:AI,href:"https://facebook.com",color:"hover:text-blue-600"},{name:"Twitter",icon:FI,href:"https://twitter.com",color:"hover:text-blue-400"},{name:"Instagram",icon:DI,href:"https://instagram.com",color:"hover:text-pink-600"},{name:"LinkedIn",icon:$I,href:"https://linkedin.com",color:"hover:text-blue-700"}],h=[{question:"How does AI trip planning work?",answer:"Our AI analyzes your preferences, budget, and travel style to create personalized itineraries that match your unique needs."},{question:"Can I modify my booking after confirmation?",answer:"Yes, most bookings can be modified up to 24 hours before your trip. Check your booking details for specific policies."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards, debit cards, net banking, and popular digital wallets like UPI, Paytm, and Google Pay."},{question:"Is my personal information secure?",answer:"Absolutely. We use enterprise-grade encryption and follow strict data protection guidelines to keep your information safe."}],f=p=>{const{name:y,value:N}=p.target;n(j=>({...j,[y]:N}))},m=async p=>{p.preventDefault(),r(!0),await new Promise(y=>setTimeout(y,2e3)),r(!1),o(!0),setTimeout(()=>{o(!1),n({name:"",email:"",phone:"",subject:"",message:"",inquiryType:"general"})},3e3)};return i.jsx("section",{id:"contact",className:"py-20",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[i.jsxs("h2",{className:`text-4xl lg:text-5xl font-bold font-playfair mb-6 ${t?"text-white":"text-navy"}`,children:["Get in ",i.jsx("span",{className:t?"text-yellow-400":"text-blue-600",children:"Touch"})]}),i.jsx("p",{className:`text-xl ${t?"text-gray-300":"text-gray-600"} max-w-3xl mx-auto`,children:"Have questions? We're here to help you plan your perfect journey"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:l.map((p,y)=>{const N=p.icon;return i.jsxs(S.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:y*.1},whileHover:{y:-10,scale:1.02},className:`p-6 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm text-center group cursor-pointer`,children:[i.jsx(S.div,{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${p.color} flex items-center justify-center mb-4 mx-auto`,whileHover:{rotate:360},transition:{duration:.5},children:i.jsx(N,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`font-bold text-lg mb-2 ${t?"text-white":"text-navy"}`,children:p.title}),i.jsx("p",{className:`font-semibold text-lg mb-2 ${t?"text-yellow-400":"text-blue-600"}`,children:p.value}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:p.description})]},y)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[i.jsxs(S.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:[i.jsx("h3",{className:`text-2xl font-bold mb-6 ${t?"text-white":"text-navy"}`,children:"Send us a Message"}),a?i.jsxs(S.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx(Ts,{className:`w-16 h-16 mx-auto mb-4 ${t?"text-yellow-400":"text-green-500"}`}),i.jsx("h4",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-navy"}`,children:"Message Sent Successfully!"}),i.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:"We'll get back to you within 24 hours."})]}):i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-navy"}`,children:"Full Name *"}),i.jsxs("div",{className:"relative",children:[i.jsx(dn,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`}),i.jsx("input",{type:"text",name:"name",value:e.name,onChange:f,required:!0,className:`w-full pl-10 pr-4 py-3 rounded-lg border ${t?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"}`,placeholder:"Your full name"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-navy"}`,children:"Email Address *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xr,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`}),i.jsx("input",{type:"email",name:"email",value:e.email,onChange:f,required:!0,className:`w-full pl-10 pr-4 py-3 rounded-lg border ${t?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"}`,placeholder:"your@email.com"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-navy"}`,children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(Yi,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`}),i.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:f,className:`w-full pl-10 pr-4 py-3 rounded-lg border ${t?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"}`,placeholder:"+91 99999 99999"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-navy"}`,children:"Inquiry Type"}),i.jsx("select",{name:"inquiryType",value:e.inquiryType,onChange:f,className:`w-full px-4 py-3 rounded-lg border ${t?"bg-navy/50 border-gray-600 text-white":"bg-white border-gray-300 text-navy"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"}`,children:c.map(p=>i.jsx("option",{value:p.value,children:p.label},p.value))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-navy"}`,children:"Subject *"}),i.jsx("input",{type:"text",name:"subject",value:e.subject,onChange:f,required:!0,className:`w-full px-4 py-3 rounded-lg border ${t?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"}`,placeholder:"What's this about?"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-navy"}`,children:"Message *"}),i.jsx("textarea",{name:"message",value:e.message,onChange:f,required:!0,rows:6,className:`w-full px-4 py-3 rounded-lg border ${t?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t?"focus:ring-yellow-400":"focus:ring-blue-500"} resize-none`,placeholder:"Tell us how we can help you..."})]}),i.jsx(S.button,{type:"submit",disabled:s,className:`w-full py-4 rounded-lg font-semibold text-lg flex items-center justify-center space-x-2 transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} ${s?"opacity-50 cursor-not-allowed":""}`,whileHover:{scale:s?1:1.02},whileTap:{scale:s?1:.98},children:s?i.jsxs(i.Fragment,{children:[i.jsx(S.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full"}),i.jsx("span",{children:"Sending..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(m7,{className:"w-5 h-5"}),i.jsx("span",{children:"Send Message"})]})})]})]}),i.jsxs(S.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-8",children:[i.jsxs("div",{className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:[i.jsx("h3",{className:`text-2xl font-bold mb-6 ${t?"text-white":"text-navy"}`,children:"Frequently Asked Questions"}),i.jsx("div",{className:"space-y-4",children:h.map((p,y)=>i.jsxs(S.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:y*.1},className:`border-b ${t?"border-gray-600":"border-gray-200"} pb-4`,children:[i.jsx("h4",{className:`font-semibold mb-2 ${t?"text-white":"text-navy"}`,children:p.question}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:p.answer})]},y))})]}),i.jsxs("div",{className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:[i.jsx("h3",{className:`text-2xl font-bold mb-6 ${t?"text-white":"text-navy"}`,children:"Follow Us"}),i.jsx("p",{className:`mb-6 ${t?"text-gray-300":"text-gray-600"}`,children:"Stay connected with us on social media for the latest updates and travel inspiration."}),i.jsx("div",{className:"flex space-x-4",children:u.map((p,y)=>{const N=p.icon;return i.jsx(S.a,{href:p.href,className:`w-12 h-12 rounded-full ${t?"bg-navy/50":"bg-white/50"} flex items-center justify-center ${t?"text-gray-300":"text-gray-600"} ${p.color} transition-colors`,whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},children:i.jsx(N,{className:"w-6 h-6"})},y)})})]}),i.jsxs("div",{className:`p-8 rounded-2xl ${t?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:[i.jsx("h3",{className:`text-2xl font-bold mb-6 ${t?"text-white":"text-navy"}`,children:"Support Hours"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(rr,{className:`w-6 h-6 ${t?"text-yellow-400":"text-blue-600"}`}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${t?"text-white":"text-navy"}`,children:"24/7 Live Chat"}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Always available for urgent matters"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Yi,{className:`w-6 h-6 ${t?"text-yellow-400":"text-blue-600"}`}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${t?"text-white":"text-navy"}`,children:"Phone Support"}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Mon-Fri: 9AM-6PM IST"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Xr,{className:`w-6 h-6 ${t?"text-yellow-400":"text-blue-600"}`}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${t?"text-white":"text-navy"}`,children:"Email Support"}),i.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Response within 24 hours"})]})]})]})]})]})]})]})})},qs=[{title:"Your Journey, Curated by AI",subtitle:"Discover premium travel experiences, tailored just for you with cutting-edge artificial intelligence.",image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?auto=format&fit=crop&w=800&q=80",features:["AI-Powered Recommendations","Personalized Itineraries","Smart Budget Planning"],color:"from-blue-600 to-purple-600"},{title:"Luxury Travel, Smarter Planning",subtitle:"AI-crafted itineraries that match your dreams, not just your budget. Experience travel like never before.",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=800&q=80",features:["Premium Destinations","Exclusive Deals","24/7 Concierge Support"],color:"from-purple-600 to-pink-600"},{title:"Wander. Discover. Live.",subtitle:"From flights to flavors — explore every detail with elegance and sophistication.",image:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=80",features:["Complete Travel Solutions","Local Experiences","Seamless Booking"],color:"from-pink-600 to-orange-600"}],$7=[{number:"50K+",label:"Happy Travelers",icon:yn,color:"text-blue-500"},{number:"200+",label:"Destinations",icon:ha,color:"text-green-500"},{number:"4.9",label:"Average Rating",icon:Qe,color:"text-yellow-500"},{number:"24/7",label:"Support",icon:fr,color:"text-purple-500"}],Nr=[{name:"Sarah Johnson",role:"Travel Enthusiast",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?auto=format&fit=crop&w=150&q=80",quote:"Sanchari transformed how I plan my trips. The AI recommendations were spot-on!",rating:5},{name:"Michael Chen",role:"Business Traveler",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=150&q=80",quote:"The luxury experiences curated by Sanchari exceeded all my expectations.",rating:5},{name:"Emma Rodriguez",role:"Adventure Seeker",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=150&q=80",quote:"Found hidden gems I never would have discovered on my own. Amazing!",rating:5}],O7=()=>{const[t,e]=T.useState(0),[n,s]=T.useState(!0),[r,a]=T.useState(!0),[o,l]=T.useState({x:0,y:0}),[c,u]=T.useState(0),[h,f]=T.useState("home"),m=mt(),{isDark:p}=ye(),{scrollY:y}=zB(),N=QN(y,[0,300],[0,-50]);QN(y,[0,300],[0,-100]),T.useEffect(()=>{if(!n)return;const b=setInterval(()=>{e(x=>(x+1)%qs.length)},4e3);return()=>clearInterval(b)},[n]),T.useEffect(()=>{const b=setInterval(()=>{u(x=>(x+1)%Nr.length)},3e3);return()=>clearInterval(b)},[]),T.useEffect(()=>{const b=x=>{l({x:x.clientX/window.innerWidth*100,y:x.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",b),()=>window.removeEventListener("mousemove",b)},[]),T.useEffect(()=>{const b=()=>{const x=["home","features","destinations","about","contact"],C=window.scrollY+100;for(const R of x){const O=document.getElementById(R==="home"?"hero":R);if(O){const E=O.offsetTop,w=E+O.offsetHeight;if(C>=E&&C<w){f(R);break}}}};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const j=()=>{t<qs.length-1?e(t+1):m("/login")},_=p?"bg-gradient-to-br from-navy via-gray-900 to-blue-900":"bg-gradient-to-br from-amber-100 via-blue-50 to-purple-100";return i.jsxs("div",{className:`min-h-screen ${_} relative overflow-hidden`,children:[i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((b,x)=>i.jsx(S.div,{className:`absolute w-2 h-2 rounded-full ${p?"bg-yellow-400/20":"bg-blue-600/20"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-20,0],opacity:[.2,.8,.2],scale:[1,1.5,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},x))}),i.jsxs(S.div,{style:{y:N},className:"absolute inset-0 opacity-10",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-gradient-to-r from-pink-500 to-orange-500 rounded-full blur-3xl"})]}),i.jsx(I7,{activeSection:h,setActiveSection:f}),i.jsx("section",{id:"hero",className:"min-h-screen flex items-center",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"space-y-8 relative",children:[i.jsx(S.div,{style:{transform:`translate(${o.x*.02}px, ${o.y*.02}px)`},children:i.jsx(Nt,{mode:"wait",children:i.jsxs(S.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.5},className:"space-y-6",children:[i.jsx(S.h1,{className:`text-4xl lg:text-6xl font-bold font-playfair leading-tight ${p?"text-white":"text-navy"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:qs[t].title.split(" ").map((b,x)=>{const C=["Journey","AI","Luxury","Planning","Discover"].includes(b);return i.jsxs(S.span,{className:C?p?"text-yellow-400":"text-blue-600":"",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+x*.1},whileHover:{scale:1.05},children:[b," "]},x)})}),i.jsx(S.p,{className:`text-xl lg:text-2xl leading-relaxed ${p?"text-gray-300":"text-gray-700"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:qs[t].subtitle}),i.jsx(S.div,{className:"space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:qs[t].features.map((b,x)=>i.jsxs(S.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+x*.1},whileHover:{x:10,scale:1.02},children:[i.jsx(S.div,{className:`w-6 h-6 rounded-full flex items-center justify-center ${p?"bg-yellow-400":"bg-blue-600"}`,whileHover:{rotate:360,scale:1.2},transition:{duration:.3},children:i.jsx("span",{className:`text-sm font-bold ${p?"text-navy":"text-white"}`,children:"✓"})}),i.jsx("span",{className:`text-lg font-semibold ${p?"text-white":"text-navy"}`,children:b})]},x))}),i.jsxs(S.div,{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 pt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[i.jsxs(S.button,{onClick:j,className:`px-8 py-4 rounded-xl font-semibold text-lg flex items-center justify-center space-x-2 transition-all transform relative overflow-hidden ${p?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[i.jsx("span",{className:"relative z-10",children:t===qs.length-1?"Get Started":"Next"}),i.jsx(S.div,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:i.jsx(Dx,{className:"w-5 h-5 relative z-10"})})]}),i.jsx(S.button,{onClick:()=>m("/login"),className:`px-8 py-4 rounded-xl font-semibold text-lg border-2 transition-all relative overflow-hidden ${p?"border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-navy":"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white"}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:i.jsx("span",{className:"relative z-10",children:"Skip to Login"})})]})]},t)})}),i.jsxs(S.div,{className:"flex items-center space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:[i.jsx("div",{className:"flex space-x-3",children:qs.map((b,x)=>i.jsx(S.button,{onClick:()=>e(x),className:`h-3 rounded-full transition-all ${x===t?p?"bg-yellow-400 w-12":"bg-blue-600 w-12":p?"bg-white/30 w-3":"bg-gray-400 w-3"}`,whileHover:{scale:1.2},whileTap:{scale:.9}},x))}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(S.button,{onClick:()=>s(!n),className:`p-2 rounded-full ${p?"bg-navy/50 text-yellow-400":"bg-white/50 text-blue-600"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:n?i.jsx(o7,{className:"w-4 h-4"}):i.jsx(LI,{className:"w-4 h-4"})}),i.jsx(S.button,{onClick:()=>a(!r),className:`p-2 rounded-full ${p?"bg-navy/50 text-yellow-400":"bg-white/50 text-blue-600"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:r?i.jsx(b7,{className:"w-4 h-4"}):i.jsx(w7,{className:"w-4 h-4"})})]})]})]}),i.jsx("div",{className:"relative",children:i.jsx(Nt,{mode:"wait",children:i.jsxs(S.div,{initial:{opacity:0,scale:.8,rotateY:90},animate:{opacity:1,scale:1,rotateY:0},exit:{opacity:0,scale:1.2,rotateY:-90},transition:{duration:.5},className:"relative",style:{transform:`translate(${o.x*.01}px, ${o.y*.01}px)`},children:[i.jsxs(S.div,{className:"relative rounded-3xl overflow-hidden shadow-2xl",whileHover:{scale:1.02,rotateY:5},transition:{duration:.3},children:[i.jsx("img",{src:qs[t].image,alt:"Travel",className:"w-full h-96 lg:h-[600px] object-cover"}),i.jsx(S.div,{className:`absolute inset-0 bg-gradient-to-t ${qs[t].color} opacity-20`,animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}})]}),i.jsx(S.div,{className:"absolute -bottom-6 -left-6 lg:-left-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.05,y:-5},children:i.jsx("div",{className:`p-6 rounded-2xl ${p?"bg-navy/90":"bg-white/90"} backdrop-blur-md shadow-xl`,children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(S.div,{className:`w-12 h-12 rounded-full flex items-center justify-center ${p?"bg-yellow-400":"bg-blue-600"}`,animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:i.jsx(Qe,{className:`w-6 h-6 ${p?"text-navy":"text-white"}`})}),i.jsxs("div",{children:[i.jsx(S.div,{className:`text-2xl font-bold ${p?"text-white":"text-navy"}`,animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:"4.9/5"}),i.jsx("div",{className:`text-sm ${p?"text-gray-300":"text-gray-600"}`,children:"User Rating"})]})]})})}),i.jsx(S.div,{className:"absolute -top-6 -right-6 lg:-right-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.05,y:-5},children:i.jsx("div",{className:`p-6 rounded-2xl ${p?"bg-navy/90":"bg-white/90"} backdrop-blur-md shadow-xl`,children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(S.div,{className:`w-12 h-12 rounded-full flex items-center justify-center ${p?"bg-yellow-400":"bg-blue-600"}`,animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:i.jsx(yn,{className:`w-6 h-6 ${p?"text-navy":"text-white"}`})}),i.jsxs("div",{children:[i.jsx(S.div,{className:`text-2xl font-bold ${p?"text-white":"text-navy"}`,animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,delay:.5},children:"50K+"}),i.jsx("div",{className:`text-sm ${p?"text-gray-300":"text-gray-600"}`,children:"Happy Travelers"})]})]})})})]},t)})})]}),i.jsx(S.div,{className:"flex justify-center mt-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},children:i.jsxs(S.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},className:`flex flex-col items-center space-y-2 ${p?"text-white":"text-navy"}`,children:[i.jsx("span",{className:"text-sm font-medium",children:"Scroll to explore"}),i.jsx(WB,{className:"w-5 h-5"})]})})]})}),i.jsx(A7,{}),i.jsx(P7,{}),i.jsx(S.div,{className:"py-20",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx(S.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:i.jsx("h2",{className:`text-4xl lg:text-5xl font-bold font-playfair mb-6 ${p?"text-white":"text-navy"}`,children:"What Our Travelers Say"})}),i.jsxs("div",{className:"relative",children:[i.jsx(Nt,{mode:"wait",children:i.jsxs(S.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:.5},className:`max-w-4xl mx-auto p-8 rounded-2xl ${p?"bg-navy/50":"bg-white/50"} backdrop-blur-sm text-center`,children:[i.jsx("div",{className:"flex justify-center mb-6",children:[...Array(Nr[c].rating)].map((b,x)=>i.jsx(S.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:x*.1},children:i.jsx(Qe,{className:"w-6 h-6 text-yellow-400 fill-current"})},x))}),i.jsxs("blockquote",{className:`text-2xl lg:text-3xl font-medium mb-8 ${p?"text-white":"text-navy"}`,children:['"',Nr[c].quote,'"']}),i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[i.jsx(S.img,{src:Nr[c].image,alt:Nr[c].name,className:"w-16 h-16 rounded-full object-cover",whileHover:{scale:1.1}}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold text-lg ${p?"text-white":"text-navy"}`,children:Nr[c].name}),i.jsx("p",{className:`${p?"text-gray-300":"text-gray-600"}`,children:Nr[c].role})]})]})]},c)}),i.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Nr.map((b,x)=>i.jsx(S.button,{onClick:()=>u(x),className:`w-3 h-3 rounded-full transition-all ${x===c?p?"bg-yellow-400":"bg-blue-600":p?"bg-white/30":"bg-gray-400"}`,whileHover:{scale:1.2},whileTap:{scale:.9}},x))})]})]})}),i.jsx(S.div,{className:"py-20",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:i.jsx("div",{className:"max-w-7xl mx-auto px-6",children:i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:$7.map((b,x)=>{const C=b.icon;return i.jsxs(S.div,{initial:{opacity:0,y:20,scale:.8},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{delay:x*.1,duration:.5},whileHover:{scale:1.05,y:-5},className:"text-center group cursor-pointer",children:[i.jsx(S.div,{className:`w-16 h-16 rounded-2xl ${p?"bg-navy/50":"bg-white/50"} backdrop-blur-sm flex items-center justify-center mb-4 mx-auto group-hover:shadow-lg transition-all`,whileHover:{rotate:360},transition:{duration:.5},children:i.jsx(C,{className:`w-8 h-8 ${b.color}`})}),i.jsx(S.div,{className:`text-4xl lg:text-5xl font-bold mb-2 ${p?"text-yellow-400":"text-blue-600"}`,animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,delay:x*.2},children:b.number}),i.jsx("div",{className:`text-lg font-semibold ${p?"text-white":"text-navy"}`,children:b.label})]},x)})})})}),i.jsx(R7,{}),i.jsx(D7,{}),i.jsx(C7,{})]})},V7=()=>{const[t,e]=T.useState(null),[n,s]=T.useState(null);return{location:t,error:n,requestLocation:()=>{if(!navigator.geolocation){s("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(a=>{e({lat:a.coords.latitude,lon:a.coords.longitude}),s(null)},a=>{s("Failed to get your location"),console.error(a)})}}},L7=()=>{const[t,e]=T.useState(!1),[n,s]=T.useState({email:"",password:""}),[r,a]=T.useState(!1),[o,l]=T.useState(""),c=mt(),{isDark:u}=ye(),{signIn:h}=jt(),{location:f,error:m,requestLocation:p}=V7();T.useEffect(()=>{p()},[]);const y=async _=>{_.preventDefault(),a(!0),l("");try{const b=await h(n.email,n.password);b.success?c("/dashboard"):l(b.error||"Login failed. Please try again.")}catch{l("An unexpected error occurred. Please try again.")}finally{a(!1)}},N=_=>{s({...n,[_.target.name]:_.target.value}),o&&l("")},j=u?"bg-gradient-to-br from-navy via-gray-900 to-blue-900":"bg-gradient-to-br from-amber-100 via-blue-50 to-purple-100";return i.jsxs("div",{className:`min-h-screen ${j}`,children:[i.jsx("header",{className:"backdrop-blur-md bg-white/10 border-b border-white/20",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("button",{onClick:()=>c("/"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(Kn,{className:`w-6 h-6 ${u?"text-navy":"text-white"}`})}),i.jsx("h1",{className:`text-2xl font-bold font-playfair ${u?"text-yellow-400":"text-blue-600"}`,children:"Sanchari"})]})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{onClick:p,className:`flex items-center px-4 py-2 rounded-lg font-semibold transition-all ${f?u?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700":u?"bg-navy text-yellow-400 border border-yellow-400 hover:bg-yellow-400/10":"bg-white text-blue-600 border border-blue-600 hover:bg-blue-600/10"}`,title:f?"Location enabled":"Enable location",children:[i.jsx("span",{className:"mr-2",children:f?"📍":"📡"}),f?"Location On":"Enable Location"]}),f&&i.jsxs("span",{className:`ml-2 text-xs ${u?"text-yellow-400":"text-blue-600"}`,children:[f.lat,", ",f.lon]}),m&&i.jsx("span",{className:"ml-2 text-xs text-red-500",children:m}),i.jsx("button",{onClick:()=>c("/"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${u?"text-yellow-400 hover:bg-yellow-400/20":"text-blue-600 hover:bg-blue-600/20"}`,children:"Back to Home"})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:`text-4xl lg:text-5xl font-bold font-playfair mb-4 ${u?"text-white":"text-navy"}`,children:["Welcome back to ",i.jsx("span",{className:u?"text-yellow-400":"text-blue-600",children:"Sanchari"})]}),i.jsx("p",{className:`text-xl ${u?"text-gray-300":"text-gray-700"}`,children:"Sign in to continue your journey and explore amazing destinations."})]}),i.jsxs("div",{className:`p-4 rounded-xl ${u?"bg-blue-600/20":"bg-blue-100"} border-l-4 border-blue-500`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${u?"text-white":"text-navy"}`,children:"Demo Credentials"}),i.jsxs("div",{className:`text-sm ${u?"text-gray-300":"text-gray-600"} space-y-1`,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," demo@sanchari.com"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Password:"})," demo123"]}),i.jsx("p",{className:"text-xs mt-2 opacity-75",children:"Or create a new account with any email and password"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx("span",{className:`text-xl ${u?"text-navy":"text-white"}`,children:"🤖"})}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg ${u?"text-white":"text-navy"}`,children:"AI-Powered Planning"}),i.jsx("p",{className:`${u?"text-gray-300":"text-gray-600"}`,children:"Personalized itineraries created by advanced AI"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx("span",{className:`text-xl ${u?"text-navy":"text-white"}`,children:"🌍"})}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg ${u?"text-white":"text-navy"}`,children:"Global Destinations"}),i.jsx("p",{className:`${u?"text-gray-300":"text-gray-600"}`,children:"Access to 200+ premium destinations worldwide"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx("span",{className:`text-xl ${u?"text-navy":"text-white"}`,children:"💎"})}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg ${u?"text-white":"text-navy"}`,children:"Luxury Experiences"}),i.jsx("p",{className:`${u?"text-gray-300":"text-gray-600"}`,children:"Curated premium experiences and accommodations"})]})]})]})]}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:i.jsxs("div",{className:"glass-morphism rounded-3xl p-8 shadow-2xl",children:[i.jsx("h2",{className:`text-2xl font-bold mb-8 text-center ${u?"text-yellow-400":"text-blue-600"}`,children:"Sign In"}),o&&i.jsx(S.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-red-500/20 border border-red-500/30",children:i.jsx("p",{className:"text-red-500 text-sm font-medium",children:o})}),i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Xr,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${u?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:n.email,onChange:N,required:!0,disabled:r,className:`w-full pl-12 pr-4 py-4 rounded-xl border-0 ${u?"bg-navy/50 text-white placeholder-gray-400":"bg-white/50 text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500 disabled:opacity-50`})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Za,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${u?"text-yellow-400":"text-blue-600"}`}),i.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Password",value:n.password,onChange:N,required:!0,disabled:r,className:`w-full pl-12 pr-12 py-4 rounded-xl border-0 ${u?"bg-navy/50 text-white placeholder-gray-400":"bg-white/50 text-navy placeholder-gray-500"} focus:ring-2 focus:ring-blue-500 disabled:opacity-50`}),i.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2",disabled:r,children:t?i.jsx(ho,{className:"w-5 h-5 text-gray-400"}):i.jsx(Jt,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:r}),i.jsx("span",{className:`ml-2 text-sm ${u?"text-gray-300":"text-gray-600"}`,children:"Remember me"})]}),i.jsx("button",{type:"button",className:`text-sm font-semibold ${u?"text-yellow-400":"text-blue-600"} hover:opacity-80 disabled:opacity-50`,disabled:r,children:"Forgot password?"})]}),i.jsx(S.button,{type:"submit",whileHover:{scale:r?1:1.02},whileTap:{scale:r?1:.98},disabled:r,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all flex items-center justify-center space-x-2 ${u?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Signing In..."})]}):i.jsx("span",{children:"Sign In"})})]}),i.jsxs("div",{className:"my-8 flex items-center",children:[i.jsx("div",{className:`flex-1 h-px ${u?"bg-gray-600":"bg-gray-300"}`}),i.jsx("span",{className:`px-4 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Or continue with"}),i.jsx("div",{className:`flex-1 h-px ${u?"bg-gray-600":"bg-gray-300"}`})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:r,className:"w-full py-3 px-4 bg-white rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-all flex items-center justify-center space-x-2 disabled:opacity-50",children:[i.jsx("span",{children:"🔍"}),i.jsx("span",{children:"Continue with Google"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:r,className:"py-3 px-4 bg-black rounded-xl font-semibold text-white hover:bg-gray-800 transition-all flex items-center justify-center space-x-2 disabled:opacity-50",children:[i.jsx("span",{children:"🍎"}),i.jsx("span",{children:"Apple"})]})})]}),i.jsxs("p",{className:`text-center mt-6 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Don't have an account? ",i.jsx("button",{onClick:()=>c("/profile-setup"),disabled:r,className:`font-semibold ${u?"text-yellow-400":"text-blue-600"} hover:opacity-80 disabled:opacity-50`,children:"Sign up"})]}),i.jsxs("div",{className:"mt-6 p-4 rounded-xl bg-blue-500/20 border-l-4 border-blue-600",children:[i.jsx("h3",{className:`font-semibold mb-2 ${u?"text-white":"text-navy"}`,children:"Location Access"}),i.jsx("p",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:"We use your location to personalize your experience and provide relevant content."}),i.jsx("button",{onClick:p,className:`mt-2 px-4 py-2 rounded-lg font-semibold transition-all ${u?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Enable Location"}),f&&i.jsxs("div",{className:`mt-4 text-sm ${u?"text-yellow-400":"text-blue-600"}`,children:["Your location: ",f.lat,", ",f.lon]}),m&&i.jsx("div",{className:"mt-2 text-red-500 text-sm",children:m})]})]})})})]})})]})},an=[{type:"welcome",title:"Welcome to Sanchari!",subtitle:"We're excited to help you plan your next adventure. Let's create your account to get started.",icon:Kn},{title:"What's your full name?",subtitle:"Help us personalize your experience",field:"name",type:"name",icon:dn},{title:"What's your email address?",subtitle:"We'll use this to send you trip updates and for login",field:"email",type:"email",icon:Xr},{title:"Create a secure password",subtitle:"Choose a strong password to protect your account",field:"password",type:"password",icon:Za},{title:"What's your phone number?",subtitle:"For important travel notifications and account security",field:"phone",type:"tel",placeholder:"Enter your phone number",icon:Yi},{title:"Tell us about yourself",subtitle:"This helps us recommend better experiences",field:"personal",type:"personal",icon:$t},{title:"What are your travel preferences?",subtitle:"Select all that interest you",field:"preferences",type:"preferences",icon:en}],M7=[{name:"Beach",emoji:"🏖️"},{name:"Mountains",emoji:"🏔️"},{name:"Luxury Hotels",emoji:"🏨"},{name:"Adventure",emoji:"🎯"},{name:"Culture",emoji:"🎭"},{name:"Food",emoji:"🍽️"},{name:"Nightlife",emoji:"🌃"},{name:"History",emoji:"🏛️"},{name:"Art",emoji:"🎨"},{name:"Photography",emoji:"📸"},{name:"Wildlife",emoji:"🦁"},{name:"Shopping",emoji:"🛍️"}],F7=()=>{const[t,e]=T.useState(0),[n,s]=T.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",gender:"",dob:"",location:"",preferences:[]}),[r,a]=T.useState(!1),[o,l]=T.useState(!1),[c,u]=T.useState(!0),[h,f]=T.useState(!1),[m,p]=T.useState({}),y=mt(),{isDark:N}=ye(),{signUp:j}=jt();T.useEffect(()=>{const $=setTimeout(()=>u(!1),1e3);return()=>clearTimeout($)},[]);const _=$=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($),b=$=>$.length>=6,x=()=>{const $=an[t],D={};switch($.type){case"name":n.firstName.trim()||(D.firstName="First name is required"),n.lastName.trim()||(D.lastName="Last name is required");break;case"email":n.email.trim()?_(n.email)||(D.email="Please enter a valid email address"):D.email="Email is required";break;case"password":n.password?b(n.password)||(D.password="Password must be at least 6 characters long"):D.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(D.confirmPassword="Passwords do not match"):D.confirmPassword="Please confirm your password";break;case"tel":n.phone.trim()||(D.phone="Phone number is required");break;case"personal":n.gender||(D.gender="Please select your gender"),n.dob||(D.dob="Date of birth is required");break}return p(D),Object.keys(D).length===0},C=async()=>{if(t===0){e(t+1);return}x()&&(t<an.length-1?e(t+1):await w())},R=()=>{t>0&&(e(t-1),p({}))},O=$=>{const{name:D,value:P}=$.target;s({...n,[D]:P}),m[D]&&p(ae=>({...ae,[D]:""}))},E=$=>{s({...n,preferences:n.preferences.includes($)?n.preferences.filter(D=>D!==$):[...n.preferences,$]})},w=async()=>{f(!0);try{const $={firstName:n.firstName,lastName:n.lastName,phone:n.phone,gender:n.gender,dateOfBirth:n.dob,location:n.location,preferences:n.preferences,profileComplete:!0},D=await j(n.email,n.password,$);D.success?y("/dashboard"):D.error.includes("email already exists")||D.error.includes("email-already-in-use")?(p({email:D.error}),e(2)):D.error.includes("password")||D.error.includes("weak-password")?(p({password:D.error}),e(3)):(p({submit:D.error}),e(2))}catch{p({submit:"An unexpected error occurred. Please try again."}),e(2)}finally{f(!1)}},k=N?"bg-gradient-to-br from-navy via-gray-900 to-blue-900":"bg-gradient-to-br from-amber-100 via-blue-50 to-purple-100",A=()=>{const $=an[t];if($.type==="welcome")return i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[i.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 ${N?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(Kn,{className:`w-12 h-12 ${N?"text-navy":"text-white"}`})}),i.jsx("h2",{className:`text-3xl lg:text-4xl font-bold font-playfair mb-2 ${N?"text-yellow-400":"text-blue-600"}`,children:$.title}),i.jsx("p",{className:`text-lg text-center ${N?"text-gray-300":"text-gray-600"}`,children:$.subtitle})]});switch($.type){case"name":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${N?"text-white":"text-navy"}`,children:"First Name *"}),i.jsx("input",{type:"text",name:"firstName",placeholder:"Enter your first name",value:n.firstName,onChange:O,className:`w-full p-4 rounded-xl border-2 text-lg ${m.firstName?"border-red-500":N?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:border-blue-500 focus:outline-none`}),m.firstName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${N?"text-white":"text-navy"}`,children:"Last Name *"}),i.jsx("input",{type:"text",name:"lastName",placeholder:"Enter your last name",value:n.lastName,onChange:O,className:`w-full p-4 rounded-xl border-2 text-lg ${m.lastName?"border-red-500":N?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:border-blue-500 focus:outline-none`}),m.lastName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName})]})]});case"email":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${N?"text-white":"text-navy"}`,children:"Email Address *"}),i.jsx("input",{type:"email",name:"email",placeholder:"Enter your email address",value:n.email,onChange:O,className:`w-full p-4 rounded-xl border-2 text-lg ${m.email?"border-red-500":N?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:border-blue-500 focus:outline-none`}),m.email&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email}),i.jsx("p",{className:`text-xs mt-2 ${N?"text-gray-400":"text-gray-500"}`,children:"This will be your login email address"}),m.email&&m.email.includes("email already exists")&&i.jsx("div",{className:`mt-3 p-3 rounded-lg ${N?"bg-blue-500/20":"bg-blue-50"} border ${N?"border-blue-500/30":"border-blue-200"}`,children:i.jsxs("p",{className:`text-sm ${N?"text-blue-300":"text-blue-700"}`,children:["Already have an account?",i.jsx("button",{onClick:()=>y("/login"),className:`ml-1 font-semibold underline hover:no-underline ${N?"text-blue-200":"text-blue-600"}`,children:"Sign in instead"})]})})]})});case"password":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${N?"text-white":"text-navy"}`,children:"Password *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:r?"text":"password",name:"password",placeholder:"Create a secure password",value:n.password,onChange:O,className:`w-full p-4 pr-12 rounded-xl border-2 text-lg ${m.password?"border-red-500":N?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:border-blue-500 focus:outline-none`}),i.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:r?i.jsx(ho,{className:"w-5 h-5 text-gray-400"}):i.jsx(Jt,{className:"w-5 h-5 text-gray-400"})})]}),m.password&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.password})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${N?"text-white":"text-navy"}`,children:"Confirm Password *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:o?"text":"password",name:"confirmPassword",placeholder:"Confirm your password",value:n.confirmPassword,onChange:O,className:`w-full p-4 pr-12 rounded-xl border-2 text-lg ${m.confirmPassword?"border-red-500":N?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:border-blue-500 focus:outline-none`}),i.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:o?i.jsx(ho,{className:"w-5 h-5 text-gray-400"}):i.jsx(Jt,{className:"w-5 h-5 text-gray-400"})})]}),m.confirmPassword&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.confirmPassword})]}),i.jsxs("div",{className:`p-4 rounded-xl ${N?"bg-navy/30":"bg-gray-100"}`,children:[i.jsx("h4",{className:`font-semibold mb-2 ${N?"text-white":"text-navy"}`,children:"Password Requirements:"}),i.jsxs("ul",{className:"text-sm space-y-1",children:[i.jsxs("li",{className:`flex items-center space-x-2 ${n.password.length>=6?"text-green-500":N?"text-gray-300":"text-gray-600"}`,children:[i.jsx("span",{children:n.password.length>=6?"✓":"○"}),i.jsx("span",{children:"At least 6 characters"})]}),i.jsxs("li",{className:`flex items-center space-x-2 ${/[A-Z]/.test(n.password)?"text-green-500":N?"text-gray-300":"text-gray-600"}`,children:[i.jsx("span",{children:/[A-Z]/.test(n.password)?"✓":"○"}),i.jsx("span",{children:"One uppercase letter (recommended)"})]}),i.jsxs("li",{className:`flex items-center space-x-2 ${/[0-9]/.test(n.password)?"text-green-500":N?"text-gray-300":"text-gray-600"}`,children:[i.jsx("span",{children:/[0-9]/.test(n.password)?"✓":"○"}),i.jsx("span",{children:"One number (recommended)"})]})]})]}),m.submit&&i.jsx("div",{className:"p-4 rounded-xl bg-red-500/20 border border-red-500/30",children:i.jsx("p",{className:"text-red-500 text-sm font-medium",children:m.submit})})]});case"tel":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-semibold mb-2 ${N?"text-white":"text-navy"}`,children:"Phone Number *"}),i.jsx("input",{type:"tel",name:"phone",placeholder:"Enter your phone number",value:n.phone,onChange:O,className:`w-full p-4 rounded-xl border-2 text-lg ${m.phone?"border-red-500":N?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:border-blue-500 focus:outline-none`}),m.phone&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone}),i.jsx("p",{className:`text-xs mt-2 ${N?"text-gray-400":"text-gray-500"}`,children:"We'll use this for important travel notifications and account security"})]})});case"personal":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-lg font-semibold mb-3 ${N?"text-white":"text-navy"}`,children:"Gender *"}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Male","Female","Other"].map(D=>i.jsx("button",{type:"button",onClick:()=>s({...n,gender:D.toLowerCase()}),className:`p-4 rounded-xl border-2 font-semibold transition-all ${n.gender===D.toLowerCase()?N?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":N?"bg-navy/50 border-gray-600 text-white hover:border-yellow-400":"bg-white border-gray-300 text-navy hover:border-blue-600"} ${m.gender?"border-red-500":""}`,children:D},D))}),m.gender&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.gender})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-lg font-semibold mb-3 ${N?"text-white":"text-navy"}`,children:"Date of Birth *"}),i.jsx("input",{type:"date",name:"dob",value:n.dob,onChange:O,className:`w-full p-4 rounded-xl border-2 text-lg ${m.dob?"border-red-500":N?"bg-navy/50 border-gray-600 text-white":"bg-white border-gray-300 text-navy"} focus:border-blue-500 focus:outline-none`}),m.dob&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.dob})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-lg font-semibold mb-3 ${N?"text-white":"text-navy"}`,children:"Location (Optional)"}),i.jsx("input",{type:"text",name:"location",placeholder:"City, Country",value:n.location,onChange:O,className:`w-full p-4 rounded-xl border-2 text-lg ${N?"bg-navy/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-navy placeholder-gray-500"} focus:border-blue-500 focus:outline-none`})]})]});case"preferences":return i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:M7.map(D=>i.jsxs("button",{type:"button",onClick:()=>E(D.name),className:`p-6 rounded-xl border-2 font-semibold transition-all text-center ${n.preferences.includes(D.name)?N?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":N?"bg-navy/50 border-gray-600 text-white hover:border-yellow-400":"bg-white border-gray-300 text-navy hover:border-blue-600"}`,children:[i.jsx("div",{className:"text-3xl mb-2",children:D.emoji}),i.jsx("div",{className:"text-sm font-semibold",children:D.name})]},D.name))});default:return null}};return c?i.jsx("div",{className:`min-h-screen flex items-center justify-center ${k}`,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 ${N?"border-yellow-400":"border-blue-600"}`}),i.jsx("span",{className:`mt-6 text-xl font-semibold ${N?"text-yellow-400":"text-blue-600"}`,children:"Loading..."})]})}):i.jsxs("div",{className:`min-h-screen ${k}`,children:[i.jsx("header",{className:"backdrop-blur-md bg-white/10 border-b border-white/20",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${N?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(Kn,{className:`w-6 h-6 ${N?"text-navy":"text-white"}`})}),i.jsx("h1",{className:`text-2xl font-bold font-playfair ${N?"text-yellow-400":"text-blue-600"}`,children:"Sanchari"})]}),i.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[i.jsxs("span",{className:`text-sm font-semibold ${N?"text-white":"text-navy"}`,children:["Step ",t===0?0:t," of ",an.length-1]}),i.jsx("div",{className:`w-32 h-2 rounded-full ${N?"bg-gray-700":"bg-gray-200"}`,children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N?"bg-yellow-400":"bg-blue-600"}`,style:{width:`${(t===0?0:t/(an.length-1))*100}%`}})})]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[i.jsx("div",{className:"lg:col-span-8",children:i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-morphism rounded-3xl p-8 lg:p-12 shadow-2xl",children:[i.jsxs("div",{className:"lg:hidden mb-8",children:[i.jsx("div",{className:`w-full h-2 rounded-full ${N?"bg-gray-700":"bg-gray-200"}`,children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N?"bg-yellow-400":"bg-blue-600"}`,style:{width:`${(t===0?0:t/(an.length-1))*100}%`}})}),i.jsxs("p",{className:`text-sm mt-2 ${N?"text-gray-400":"text-gray-600"}`,children:["Step ",t===0?0:t," of ",an.length-1]})]}),an[t].type!=="welcome"&&i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:`w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center ${N?"bg-yellow-400":"bg-blue-600"}`,children:Ao.createElement(an[t].icon,{className:`w-10 h-10 ${N?"text-navy":"text-white"}`})}),i.jsx("h2",{className:`text-2xl lg:text-3xl font-bold mb-2 ${N?"text-white":"text-navy"}`,children:an[t].title}),i.jsx("p",{className:`text-lg ${N?"text-gray-300":"text-gray-600"}`,children:an[t].subtitle})]}),i.jsx("div",{className:`${an[t].type==="welcome"?"text-center":""} mb-8`,children:A()}),i.jsxs("div",{className:"flex justify-between",children:[t>0?i.jsxs("button",{onClick:R,disabled:h,className:`px-8 py-4 rounded-xl font-semibold flex items-center space-x-2 ${N?"bg-navy/50 text-yellow-400 hover:bg-navy/70":"bg-gray-200 text-blue-600 hover:bg-gray-300"} transition-all disabled:opacity-50`,children:[i.jsx(YB,{className:"w-5 h-5"}),i.jsx("span",{children:"Back"})]}):i.jsx("div",{}),i.jsx("button",{onClick:C,disabled:h,className:`px-8 py-4 rounded-xl font-semibold flex items-center space-x-2 ${N?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"} transition-all disabled:opacity-50`,children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Creating Account..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:t===0?"Get Started":t===an.length-1?"Create Account":"Continue"}),i.jsx(Dx,{className:"w-5 h-5"})]})})]})]})}),i.jsxs("div",{className:"lg:col-span-4",children:[i.jsxs("div",{className:`p-6 rounded-2xl ${N?"bg-navy/50":"bg-white/50"} backdrop-blur-sm mb-6`,children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${N?"text-white":"text-navy"}`,children:"Account Setup Progress"}),i.jsx("div",{className:"space-y-3",children:an.slice(1).map(($,D)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D<t-1?"bg-green-500 text-white":D===t-1?N?"bg-yellow-400 text-navy":"bg-blue-600 text-white":N?"bg-gray-600 text-gray-400":"bg-gray-200 text-gray-500"}`,children:D<t-1?"✓":D+1}),i.jsx("span",{className:`text-sm font-semibold ${D<=t-1?N?"text-white":"text-navy":N?"text-gray-400":"text-gray-500"}`,children:$.title.replace("?","")})]},D))})]}),i.jsxs("div",{className:`p-6 rounded-2xl ${N?"bg-navy/50":"bg-white/50"} backdrop-blur-sm mb-6`,children:[i.jsx("h3",{className:`font-bold text-lg mb-4 ${N?"text-white":"text-navy"}`,children:"Why Create an Account?"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-sm",children:"🎯"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${N?"text-white":"text-navy"}`,children:"Personalized Recommendations"}),i.jsx("p",{className:`text-sm ${N?"text-gray-300":"text-gray-600"}`,children:"Get AI-powered suggestions tailored to your preferences"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-sm",children:"💰"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${N?"text-white":"text-navy"}`,children:"Exclusive Deals"}),i.jsx("p",{className:`text-sm ${N?"text-gray-300":"text-gray-600"}`,children:"Access member-only discounts and offers"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-sm",children:"⚡"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${N?"text-white":"text-navy"}`,children:"Seamless Booking"}),i.jsx("p",{className:`text-sm ${N?"text-gray-300":"text-gray-600"}`,children:"Save time with pre-filled information and quick checkout"})]})]})]})]}),i.jsxs("div",{className:`p-6 rounded-2xl ${N?"bg-yellow-400":"bg-blue-600"} text-center`,children:[i.jsx("h3",{className:`font-bold text-lg mb-2 ${N?"text-navy":"text-white"}`,children:"Already have an account?"}),i.jsx("p",{className:`text-sm mb-4 ${N?"text-navy":"text-white"}`,children:"Sign in to access your existing profile and bookings"}),i.jsx("button",{onClick:()=>y("/login"),className:`px-4 py-2 rounded-lg font-semibold ${N?"bg-navy text-white":"bg-white text-blue-600"} hover:opacity-90 transition-opacity`,children:"Sign In Instead"})]})]})]})})]})},U7=(t={})=>{const[e,n]=T.useState([]),[s,r]=T.useState(!0),[a,o]=T.useState(null);return T.useEffect(()=>{(async()=>{r(!0),o(null);try{const h=await z1(t);h.success?n(h.data):o(h.error)}catch(h){o(h.message)}finally{r(!1)}})()},[JSON.stringify(t)]),{destinations:e,loading:s,error:a,refetch:async()=>{r(!0),o(null);try{const u=await z1(t);u.success?n(u.data):o(u.error)}catch(u){o(u.message)}finally{r(!1)}},searchDestinations:async(u,h={})=>{r(!0),o(null);try{const f=await qM(u,{...t,...h});return f.success?(n(f.data),{success:!0,data:f.data}):(o(f.error),{success:!1,error:f.error})}catch(f){return o(f.message),{success:!1,error:f.message}}finally{r(!1)}}}};function qI(t,e){return function(){return t.apply(e,arguments)}}const{toString:B7}=Object.prototype,{getPrototypeOf:Mx}=Object,{iterator:Bf,toStringTag:WI}=Symbol,zf=(t=>e=>{const n=B7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vs=t=>(t=t.toLowerCase(),e=>zf(e)===t),Hf=t=>e=>typeof e===t,{isArray:Fo}=Array,Rc=Hf("undefined");function z7(t){return t!==null&&!Rc(t)&&t.constructor!==null&&!Rc(t.constructor)&&xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const GI=vs("ArrayBuffer");function H7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&GI(t.buffer),e}const q7=Hf("string"),xn=Hf("function"),KI=Hf("number"),qf=t=>t!==null&&typeof t=="object",W7=t=>t===!0||t===!1,kd=t=>{if(zf(t)!=="object")return!1;const e=Mx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(WI in t)&&!(Bf in t)},G7=vs("Date"),K7=vs("File"),Q7=vs("Blob"),Y7=vs("FileList"),X7=t=>qf(t)&&xn(t.pipe),J7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xn(t.append)&&((e=zf(t))==="formdata"||e==="object"&&xn(t.toString)&&t.toString()==="[object FormData]"))},Z7=vs("URLSearchParams"),[ez,tz,nz,sz]=["ReadableStream","Request","Response","Headers"].map(vs),rz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ou(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Fo(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(s=0;s<o;s++)l=a[s],e.call(null,t[l],l,t)}}function QI(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Hi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YI=t=>!Rc(t)&&t!==Hi;function r0(){const{caseless:t}=YI(this)&&this||{},e={},n=(s,r)=>{const a=t&&QI(e,r)||r;kd(e[a])&&kd(s)?e[a]=r0(e[a],s):kd(s)?e[a]=r0({},s):Fo(s)?e[a]=s.slice():e[a]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ou(arguments[s],n);return e}const iz=(t,e,n,{allOwnKeys:s}={})=>(ou(e,(r,a)=>{n&&xn(r)?t[a]=qI(r,n):t[a]=r},{allOwnKeys:s}),t),az=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),oz=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lz=(t,e,n,s)=>{let r,a,o;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)o=r[a],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Mx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},cz=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},uz=t=>{if(!t)return null;if(Fo(t))return t;let e=t.length;if(!KI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},dz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Mx(Uint8Array)),hz=(t,e)=>{const s=(t&&t[Bf]).call(t);let r;for(;(r=s.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},fz=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},mz=vs("HTMLFormElement"),pz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),cj=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gz=vs("RegExp"),XI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};ou(n,(r,a)=>{let o;(o=e(r,a,t))!==!1&&(s[a]=o||r)}),Object.defineProperties(t,s)},yz=t=>{XI(t,(e,n)=>{if(xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(xn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xz=(t,e)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return Fo(t)?s(t):s(String(t).split(e)),n},vz=()=>{},wz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function bz(t){return!!(t&&xn(t.append)&&t[WI]==="FormData"&&t[Bf])}const Nz=t=>{const e=new Array(10),n=(s,r)=>{if(qf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const a=Fo(s)?[]:{};return ou(s,(o,l)=>{const c=n(o,r+1);!Rc(c)&&(a[l]=c)}),e[r]=void 0,a}}return s};return n(t,0)},jz=vs("AsyncFunction"),_z=t=>t&&(qf(t)||xn(t))&&xn(t.then)&&xn(t.catch),JI=((t,e)=>t?setImmediate:e?((n,s)=>(Hi.addEventListener("message",({source:r,data:a})=>{r===Hi&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Hi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xn(Hi.postMessage)),Tz=typeof queueMicrotask<"u"?queueMicrotask.bind(Hi):typeof process<"u"&&process.nextTick||JI,Ez=t=>t!=null&&xn(t[Bf]),L={isArray:Fo,isArrayBuffer:GI,isBuffer:z7,isFormData:J7,isArrayBufferView:H7,isString:q7,isNumber:KI,isBoolean:W7,isObject:qf,isPlainObject:kd,isReadableStream:ez,isRequest:tz,isResponse:nz,isHeaders:sz,isUndefined:Rc,isDate:G7,isFile:K7,isBlob:Q7,isRegExp:gz,isFunction:xn,isStream:X7,isURLSearchParams:Z7,isTypedArray:dz,isFileList:Y7,forEach:ou,merge:r0,extend:iz,trim:rz,stripBOM:az,inherits:oz,toFlatObject:lz,kindOf:zf,kindOfTest:vs,endsWith:cz,toArray:uz,forEachEntry:hz,matchAll:fz,isHTMLForm:mz,hasOwnProperty:cj,hasOwnProp:cj,reduceDescriptors:XI,freezeMethods:yz,toObjectSet:xz,toCamelCase:pz,noop:vz,toFiniteNumber:wz,findKey:QI,global:Hi,isContextDefined:YI,isSpecCompliantForm:bz,toJSONObject:Nz,isAsyncFn:jz,isThenable:_z,setImmediate:JI,asap:Tz,isIterable:Ez};function me(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}L.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const ZI=me.prototype,e4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{e4[t]={value:t}});Object.defineProperties(me,e4);Object.defineProperty(ZI,"isAxiosError",{value:!0});me.from=(t,e,n,s,r,a)=>{const o=Object.create(ZI);return L.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),me.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const Sz=null;function i0(t){return L.isPlainObject(t)||L.isArray(t)}function t4(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function uj(t,e,n){return t?t.concat(e).map(function(r,a){return r=t4(r),!n&&a?"["+r+"]":r}).join(n?".":""):e}function kz(t){return L.isArray(t)&&!t.some(i0)}const Iz=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function Wf(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!L.isUndefined(j[N])});const s=n.metaTokens,r=n.visitor||h,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(r))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(L.isDate(y))return y.toISOString();if(L.isBoolean(y))return y.toString();if(!c&&L.isBlob(y))throw new me("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(y)||L.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,N,j){let _=y;if(y&&!j&&typeof y=="object"){if(L.endsWith(N,"{}"))N=s?N:N.slice(0,-2),y=JSON.stringify(y);else if(L.isArray(y)&&kz(y)||(L.isFileList(y)||L.endsWith(N,"[]"))&&(_=L.toArray(y)))return N=t4(N),_.forEach(function(x,C){!(L.isUndefined(x)||x===null)&&e.append(o===!0?uj([N],C,a):o===null?N:N+"[]",u(x))}),!1}return i0(y)?!0:(e.append(uj(j,N,a),u(y)),!1)}const f=[],m=Object.assign(Iz,{defaultVisitor:h,convertValue:u,isVisitable:i0});function p(y,N){if(!L.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+N.join("."));f.push(y),L.forEach(y,function(_,b){(!(L.isUndefined(_)||_===null)&&r.call(e,_,L.isString(b)?b.trim():b,N,m))===!0&&p(_,N?N.concat(b):[b])}),f.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return p(t),e}function dj(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Fx(t,e){this._pairs=[],t&&Wf(t,this,e)}const n4=Fx.prototype;n4.append=function(e,n){this._pairs.push([e,n])};n4.toString=function(e){const n=e?function(s){return e.call(this,s,dj)}:dj;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Cz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function s4(t,e,n){if(!e)return t;const s=n&&n.encode||Cz;L.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(e,n):a=L.isURLSearchParams(e)?e.toString():new Fx(e,n).toString(s),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class hj{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(s){s!==null&&e(s)})}}const r4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Az=typeof URLSearchParams<"u"?URLSearchParams:Fx,Pz=typeof FormData<"u"?FormData:null,Rz=typeof Blob<"u"?Blob:null,Dz={isBrowser:!0,classes:{URLSearchParams:Az,FormData:Pz,Blob:Rz},protocols:["http","https","file","blob","url","data"]},Ux=typeof window<"u"&&typeof document<"u",a0=typeof navigator=="object"&&navigator||void 0,$z=Ux&&(!a0||["ReactNative","NativeScript","NS"].indexOf(a0.product)<0),Oz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vz=Ux&&window.location.href||"http://localhost",Lz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ux,hasStandardBrowserEnv:$z,hasStandardBrowserWebWorkerEnv:Oz,navigator:a0,origin:Vz},Symbol.toStringTag,{value:"Module"})),Wt={...Lz,...Dz};function Mz(t,e){return Wf(t,new Wt.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,a){return Wt.isNode&&L.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Fz(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Uz(t){const e={},n=Object.keys(t);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],e[a]=t[a];return e}function i4(t){function e(n,s,r,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&L.isArray(r)?r.length:o,c?(L.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!L.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],a)&&L.isArray(r[o])&&(r[o]=Uz(r[o])),!l)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(s,r)=>{e(Fz(s),r,n,0)}),n}return null}function Bz(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const lu={transitional:r4,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=L.isObject(e);if(a&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return r?JSON.stringify(i4(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Mz(e,this.formSerializer).toString();if((l=L.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wf(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),Bz(e)):e}],transformResponse:[function(e){const n=this.transitional||lu.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?me.from(l,me.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],t=>{lu.headers[t]={}});const zz=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hz=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&zz[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},fj=Symbol("internals");function dl(t){return t&&String(t).trim().toLowerCase()}function Id(t){return t===!1||t==null?t:L.isArray(t)?t.map(Id):String(t)}function qz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const Wz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gp(t,e,n,s,r){if(L.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!L.isString(e)){if(L.isString(s))return e.indexOf(s)!==-1;if(L.isRegExp(s))return s.test(e)}}function Gz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function Kz(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,a,o){return this[s].call(this,e,r,a,o)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function a(l,c,u){const h=dl(c);if(!h)throw new Error("header name must be a non-empty string");const f=L.findKey(r,h);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||c]=Id(l))}const o=(l,c)=>L.forEach(l,(u,h)=>a(u,h,c));if(L.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(L.isString(e)&&(e=e.trim())&&!Wz(e))o(Hz(e),n);else if(L.isObject(e)&&L.isIterable(e)){let l={},c,u;for(const h of e){if(!L.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?L.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else e!=null&&a(n,e,s);return this}get(e,n){if(e=dl(e),e){const s=L.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return qz(r);if(L.isFunction(n))return n.call(this,r,s);if(L.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=dl(e),e){const s=L.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||gp(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function a(o){if(o=dl(o),o){const l=L.findKey(s,o);l&&(!n||gp(s,s[l],l,n))&&(delete s[l],r=!0)}}return L.isArray(e)?e.forEach(a):a(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!e||gp(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const n=this,s={};return L.forEach(this,(r,a)=>{const o=L.findKey(s,a);if(o){n[o]=Id(r),delete n[a];return}const l=e?Gz(a):String(a).trim();l!==a&&delete n[a],n[l]=Id(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&L.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[fj]=this[fj]={accessors:{}}).accessors,r=this.prototype;function a(o){const l=dl(o);s[l]||(Kz(r,o),s[l]=!0)}return L.isArray(e)?e.forEach(a):a(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(vn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});L.freezeMethods(vn);function yp(t,e){const n=this||lu,s=e||n,r=vn.from(s.headers);let a=s.data;return L.forEach(t,function(l){a=l.call(n,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function a4(t){return!!(t&&t.__CANCEL__)}function Uo(t,e,n){me.call(this,t??"canceled",me.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(Uo,me,{__CANCEL__:!0});function o4(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Qz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Yz(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=s[a];o||(o=u),n[r]=c,s[r]=u;let f=a,m=0;for(;f!==r;)m+=n[f++],f=f%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),u-o<e)return;const p=h&&u-h;return p?Math.round(m*1e3/p):void 0}}function Xz(t,e){let n=0,s=1e3/e,r,a;const o=(u,h=Date.now())=>{n=h,r=null,a&&(clearTimeout(a),a=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=s?o(u,h):(r=u,a||(a=setTimeout(()=>{a=null,o(r)},s-f)))},()=>r&&o(r)]}const $h=(t,e,n=3)=>{let s=0;const r=Yz(50,250);return Xz(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,u=r(c),h=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},mj=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},pj=t=>(...e)=>L.asap(()=>t(...e)),Jz=Wt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Wt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,Zz=Wt.hasStandardBrowserEnv?{write(t,e,n,s,r,a){const o=[t+"="+encodeURIComponent(e)];L.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),L.isString(s)&&o.push("path="+s),L.isString(r)&&o.push("domain="+r),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function l4(t,e,n){let s=!eH(e);return t&&(s||n==!1)?tH(t,e):e}const gj=t=>t instanceof vn?{...t}:t;function fa(t,e){e=e||{};const n={};function s(u,h,f,m){return L.isPlainObject(u)&&L.isPlainObject(h)?L.merge.call({caseless:m},u,h):L.isPlainObject(h)?L.merge({},h):L.isArray(h)?h.slice():h}function r(u,h,f,m){if(L.isUndefined(h)){if(!L.isUndefined(u))return s(void 0,u,f,m)}else return s(u,h,f,m)}function a(u,h){if(!L.isUndefined(h))return s(void 0,h)}function o(u,h){if(L.isUndefined(h)){if(!L.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function l(u,h,f){if(f in e)return s(u,h);if(f in t)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,f)=>r(gj(u),gj(h),f,!0)};return L.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||r,m=f(t[h],e[h],h);L.isUndefined(m)&&f!==l||(n[h]=m)}),n}const c4=t=>{const e=fa({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=vn.from(o),e.url=s4(l4(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(L.isFormData(n)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Wt.hasStandardBrowserEnv&&(s&&L.isFunction(s)&&(s=s(e)),s||s!==!1&&Jz(e.url))){const u=r&&a&&Zz.read(a);u&&o.set(r,u)}return e},nH=typeof XMLHttpRequest<"u",sH=nH&&function(t){return new Promise(function(n,s){const r=c4(t);let a=r.data;const o=vn.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=r,h,f,m,p,y;function N(){p&&p(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let j=new XMLHttpRequest;j.open(r.method.toUpperCase(),r.url,!0),j.timeout=r.timeout;function _(){if(!j)return;const x=vn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:x,config:t,request:j};o4(function(E){n(E),N()},function(E){s(E),N()},R),j=null}"onloadend"in j?j.onloadend=_:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(_)},j.onabort=function(){j&&(s(new me("Request aborted",me.ECONNABORTED,t,j)),j=null)},j.onerror=function(){s(new me("Network Error",me.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||r4;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),s(new me(C,R.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&L.forEach(o.toJSON(),function(C,R){j.setRequestHeader(R,C)}),L.isUndefined(r.withCredentials)||(j.withCredentials=!!r.withCredentials),l&&l!=="json"&&(j.responseType=r.responseType),u&&([m,y]=$h(u,!0),j.addEventListener("progress",m)),c&&j.upload&&([f,p]=$h(c),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(h=x=>{j&&(s(!x||x.type?new Uo(null,t,j):x),j.abort(),j=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const b=Qz(r.url);if(b&&Wt.protocols.indexOf(b)===-1){s(new me("Unsupported protocol "+b+":",me.ERR_BAD_REQUEST,t));return}j.send(a||null)})},rH=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const a=function(u){if(!r){r=!0,l();const h=u instanceof Error?u:this.reason;s.abort(h instanceof me?h:new Uo(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,a(new me(`timeout ${e} of ms exceeded`,me.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>L.asap(l),c}},iH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},aH=async function*(t,e){for await(const n of oH(t))yield*iH(n,e)},oH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},yj=(t,e,n,s)=>{const r=aH(t,e);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await r.next();if(u){l(),c.close();return}let f=h.byteLength;if(n){let m=a+=f;n(m)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},Gf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u4=Gf&&typeof ReadableStream=="function",lH=Gf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),d4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cH=u4&&d4(()=>{let t=!1;const e=new Request(Wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),xj=64*1024,o0=u4&&d4(()=>L.isReadableStream(new Response("").body)),Oh={stream:o0&&(t=>t.body)};Gf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Oh[e]&&(Oh[e]=L.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new me(`Response type '${e}' is not supported`,me.ERR_NOT_SUPPORT,s)})})})(new Response);const uH=async t=>{if(t==null)return 0;if(L.isBlob(t))return t.size;if(L.isSpecCompliantForm(t))return(await new Request(Wt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(L.isArrayBufferView(t)||L.isArrayBuffer(t))return t.byteLength;if(L.isURLSearchParams(t)&&(t=t+""),L.isString(t))return(await lH(t)).byteLength},dH=async(t,e)=>{const n=L.toFiniteNumber(t.getContentLength());return n??uH(e)},hH=Gf&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:m}=c4(t);u=u?(u+"").toLowerCase():"text";let p=rH([r,a&&a.toAbortSignal()],o),y;const N=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let j;try{if(c&&cH&&n!=="get"&&n!=="head"&&(j=await dH(h,s))!==0){let R=new Request(e,{method:"POST",body:s,duplex:"half"}),O;if(L.isFormData(s)&&(O=R.headers.get("content-type"))&&h.setContentType(O),R.body){const[E,w]=mj(j,$h(pj(c)));s=yj(R.body,xj,E,w)}}L.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;y=new Request(e,{...m,signal:p,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:s,duplex:"half",credentials:_?f:void 0});let b=await fetch(y,m);const x=o0&&(u==="stream"||u==="response");if(o0&&(l||x&&N)){const R={};["status","statusText","headers"].forEach(k=>{R[k]=b[k]});const O=L.toFiniteNumber(b.headers.get("content-length")),[E,w]=l&&mj(O,$h(pj(l),!0))||[];b=new Response(yj(b.body,xj,E,()=>{w&&w(),N&&N()}),R)}u=u||"text";let C=await Oh[L.findKey(Oh,u)||"text"](b,t);return!x&&N&&N(),await new Promise((R,O)=>{o4(R,O,{data:C,headers:vn.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:y})})}catch(_){throw N&&N(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,t,y),{cause:_.cause||_}):me.from(_,_&&_.code,t,y)}}),l0={http:Sz,xhr:sH,fetch:hH};L.forEach(l0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vj=t=>`- ${t}`,fH=t=>L.isFunction(t)||t===null||t===!1,h4={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let a=0;a<e;a++){n=t[a];let o;if(s=n,!fH(n)&&(s=l0[(o=String(n)).toLowerCase()],s===void 0))throw new me(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+a]=s}if(!s){const a=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(vj).join(`
`):" "+vj(a[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:l0};function xp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Uo(null,t)}function wj(t){return xp(t),t.headers=vn.from(t.headers),t.data=yp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),h4.getAdapter(t.adapter||lu.adapter)(t).then(function(s){return xp(t),s.data=yp.call(t,t.transformResponse,s),s.headers=vn.from(s.headers),s},function(s){return a4(s)||(xp(t),s&&s.response&&(s.response.data=yp.call(t,t.transformResponse,s.response),s.response.headers=vn.from(s.response.headers))),Promise.reject(s)})}const f4="1.10.0",Kf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Kf[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const bj={};Kf.transitional=function(e,n,s){function r(a,o){return"[Axios v"+f4+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(e===!1)throw new me(r(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!bj[o]&&(bj[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,l):!0}};Kf.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function mH(t,e,n){if(typeof t!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const a=s[r],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new me("option "+a+" must be "+c,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+a,me.ERR_BAD_OPTION)}}const Cd={assertOptions:mH,validators:Kf},Ns=Cd.validators;let Xi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new hj,response:new hj}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fa(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&Cd.assertOptions(s,{silentJSONParsing:Ns.transitional(Ns.boolean),forcedJSONParsing:Ns.transitional(Ns.boolean),clarifyTimeoutError:Ns.transitional(Ns.boolean)},!1),r!=null&&(L.isFunction(r)?n.paramsSerializer={serialize:r}:Cd.assertOptions(r,{encode:Ns.function,serialize:Ns.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cd.assertOptions(n,{baseUrl:Ns.spelling("baseURL"),withXsrfToken:Ns.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&L.merge(a.common,a[n.method]);a&&L.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),n.headers=vn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(c=c&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const u=[];this.interceptors.response.forEach(function(N){u.push(N.fulfilled,N.rejected)});let h,f=0,m;if(!c){const y=[wj.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,u),m=y.length,h=Promise.resolve(n);f<m;)h=h.then(y[f++],y[f++]);return h}m=l.length;let p=n;for(f=0;f<m;){const y=l[f++],N=l[f++];try{p=y(p)}catch(j){N.call(this,j);break}}try{h=wj.call(this,p)}catch(y){return Promise.reject(y)}for(f=0,m=u.length;f<m;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=fa(this.defaults,e);const n=l4(e.baseURL,e.url,e.allowAbsoluteUrls);return s4(n,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){Xi.prototype[e]=function(n,s){return this.request(fa(s||{},{method:e,url:n,data:(s||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(s){return function(a,o,l){return this.request(fa(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Xi.prototype[e]=n(),Xi.prototype[e+"Form"]=n(!0)});let pH=class m4{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(r);return o.cancel=function(){s.unsubscribe(a)},o},e(function(a,o,l){s.reason||(s.reason=new Uo(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new m4(function(r){e=r}),cancel:e}}};function gH(t){return function(n){return t.apply(null,n)}}function yH(t){return L.isObject(t)&&t.isAxiosError===!0}const c0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(c0).forEach(([t,e])=>{c0[e]=t});function p4(t){const e=new Xi(t),n=qI(Xi.prototype.request,e);return L.extend(n,Xi.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return p4(fa(t,r))},n}const Oe=p4(lu);Oe.Axios=Xi;Oe.CanceledError=Uo;Oe.CancelToken=pH;Oe.isCancel=a4;Oe.VERSION=f4;Oe.toFormData=Wf;Oe.AxiosError=me;Oe.Cancel=Oe.CanceledError;Oe.all=function(e){return Promise.all(e)};Oe.spread=gH;Oe.isAxiosError=yH;Oe.mergeConfig=fa;Oe.AxiosHeaders=vn;Oe.formToJSON=t=>i4(L.isHTMLForm(t)?new FormData(t):t);Oe.getAdapter=h4.getAdapter;Oe.HttpStatusCode=c0;Oe.default=Oe;const{Axios:XH,AxiosError:JH,CanceledError:ZH,isCancel:eq,CancelToken:tq,VERSION:nq,all:sq,Cancel:rq,isAxiosError:iq,spread:aq,toFormData:oq,AxiosHeaders:lq,HttpStatusCode:cq,formToJSON:uq,getAdapter:dq,mergeConfig:hq}=Oe,xH={temple:["https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304202/temple_1_ieqr33.jpg","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304229/temple_2_q1hteg.jpg","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304246/temple_3_vtm25s.jpg","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304265/temple_4_tvgdy5.jpg","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304286/temple_5_wkfhci.jpg"],attraction:["https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304402/Attraction_1_sontrz.avif","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304420/Attraction_2_foiwac.avif","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304478/Attraction_3_kydpj0.avif","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304492/Attraction_4_glwl5n.avif","https://res.cloudinary.com/dvoh0lat7/image/upload/v1752304504/Attraction_5_z9l2s0.avif"]},vH={Temple:mp,Beach:Sd,Mountain:Gl,"Mountain Peak":Gl,Attraction:Wl,Museum:CI,Park:t0,Garden:t0,Castle:QB,Theatre:yn,Cinema:e7,Zoo:Cc,Waterfall:Sd,Cave:Gl,Historic:mp,"Theme Park":Kl,Aquarium:Sd,Gallery:Wl,Viewpoint:Wl,Ruins:mp,POI:Fe},wH="https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/512px-No-Image-Placeholder.svg.png",g4=({poi:t,index:e,onClick:n})=>{var l,c;const{isDark:s}=ye(),r=vH[t.category]||Fe,o=(u=>{const h=u.toLowerCase(),f=xH[h]||[];if(console.log(`POI Category: ${u}, Key: ${h}, Available images: ${f.length}`),f.length===0)return console.log(`No images available for category: ${h}`),null;const m=Math.floor(Math.random()*f.length),p=f[m];return console.log(`Selected image for ${h}: ${p}`),p})(t.category);return i.jsxs(S.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.05*e},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:`relative w-56 min-w-[14rem] max-w-xs rounded-xl overflow-hidden cursor-pointer group shadow-lg ${s?"bg-navy/70":"bg-white/80"}`,onClick:n,children:[i.jsx("img",{src:o||wH,alt:t.name,className:"w-full h-36 object-cover group-hover:scale-110 transition-transform duration-300",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsxs("div",{className:"absolute top-2 left-2 flex items-center space-x-2",children:[i.jsx("span",{className:`p-2 rounded-full ${s?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(r,{className:`w-5 h-5 ${s?"text-navy":"text-white"}`})}),i.jsx("span",{className:`text-xs font-bold ${s?"text-yellow-400":"text-white"}`,children:t.category})]}),i.jsxs("div",{className:"absolute bottom-2 left-2 right-2",children:[i.jsx("h4",{className:"font-bold text-white text-lg truncate drop-shadow-sm",children:t.name}),i.jsxs("div",{className:"flex items-center space-x-1 text-xs text-white/80",children:[i.jsx(Fe,{className:"w-3 h-3"}),i.jsx("span",{className:"truncate",children:t.location||`${(l=t.lat)==null?void 0:l.toFixed(2)}, ${(c=t.lon)==null?void 0:c.toFixed(2)}`})]})]})]})},bH="https://overpass-api.de/api/interpreter",NH=(t,e,n=5e4)=>`
[out:json][timeout:25];
(
  node["amenity"="place_of_worship"](around:${n},${t},${e});
  node["amenity"="theatre"](around:${n},${t},${e});
  node["amenity"="cinema"](around:${n},${t},${e});
  node["tourism"="attraction"](around:${n},${t},${e});
  node["tourism"="museum"](around:${n},${t},${e});
  node["tourism"="zoo"](around:${n},${t},${e});
  node["tourism"="theme_park"](around:${n},${t},${e});
  node["tourism"="aquarium"](around:${n},${t},${e});
  node["tourism"="gallery"](around:${n},${t},${e});
  node["tourism"="viewpoint"](around:${n},${t},${e});
  node["tourism"="castle"](around:${n},${t},${e});
  node["tourism"="ruins"](around:${n},${t},${e});
  node["historic"](around:${n},${t},${e});
  node["leisure"="park"](around:${n},${t},${e});
  node["leisure"="garden"](around:${n},${t},${e});
  node["natural"="beach"](around:${n},${t},${e});
  node["natural"="peak"](around:${n},${t},${e});
  node["natural"="mountain"](around:${n},${t},${e});
  node["natural"="cave_entrance"](around:${n},${t},${e});
  node["natural"="waterfall"](around:${n},${t},${e});
);
out center tags;
`,jH=t=>{if(t.tourism){if(t.tourism==="attraction")return"Attraction";if(t.tourism==="museum")return"Museum";if(t.tourism==="zoo")return"Zoo";if(t.tourism==="theme_park")return"Theme Park";if(t.tourism==="aquarium")return"Aquarium";if(t.tourism==="gallery")return"Gallery";if(t.tourism==="viewpoint")return"Viewpoint";if(t.tourism==="castle")return"Castle";if(t.tourism==="ruins")return"Ruins"}if(t.historic)return"Historic";if(t.leisure){if(t.leisure==="park")return"Park";if(t.leisure==="garden")return"Garden"}if(t.natural){if(t.natural==="beach")return"Beach";if(t.natural==="peak")return"Mountain Peak";if(t.natural==="mountain")return"Mountain";if(t.natural==="cave_entrance")return"Cave";if(t.natural==="waterfall")return"Waterfall"}if(t.amenity){if(t.amenity==="place_of_worship")return"Temple";if(t.amenity==="theatre")return"Theatre";if(t.amenity==="cinema")return"Cinema"}return"POI"},Bx=t=>{const[e,n]=T.useState([]),[s,r]=T.useState(!1),[a,o]=T.useState(null);return T.useEffect(()=>{if(!t)return;r(!0),o(null),n([]),(async()=>{try{const c=NH(t.lat,t.lon),{data:u}=await Oe.post(bH,c,{headers:{"Content-Type":"text/plain"}}),m=(u.elements||[]).slice(0,20).map(p=>({id:p.id,name:p.tags.name||"Unknown",category:jH(p.tags),location:p.tags["addr:city"]||p.tags["addr:town"]||p.tags["addr:state"]||"",lat:p.lat,lon:p.lon}));n(m)}catch{o("Failed to fetch POIs")}finally{r(!1)}})()},[t]),{pois:e,loading:s,error:a}},_H=()=>{const t=mt(),{isDark:e}=ye(),{user:n}=jt(),[s,r]=T.useState(!1),[a,o]=T.useState(!1),[l,c]=T.useState(3),[u,h]=T.useState(!0),[f,m]=T.useState(null),[p,y]=T.useState(null),{loading:N}=U7({trending:!0,limit:4}),{pois:j,loading:_,error:b}=Bx(p);T.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async k=>{const A=k.coords.latitude,$=k.coords.longitude;y({lat:A,lon:$});let D="Your Location";try{const P=await Oe.get(`https://nominatim.openstreetmap.org/reverse?lat=${A}&lon=${$}&format=json`);D=P.data.address.city||P.data.address.town||P.data.address.village||P.data.address.state||"Your Location"}catch{D=`${A.toFixed(2)}, ${$.toFixed(2)}`}try{const ae=(await Oe.get(`https://api.open-meteo.com/v1/forecast?latitude=${A}&longitude=${$}&current_weather=true`)).data.current_weather;m({location:D,temperature:`${ae.temperature}°C`,condition:ae.weathercode===0?"Clear":"See details",recommendation:"Enjoy your day!"})}catch{m({location:D,temperature:"",condition:"",recommendation:""})}},()=>{m({location:"Unknown",temperature:"",condition:"",recommendation:""})}):m({location:"Unknown",temperature:"",condition:"",recommendation:""});const w=setTimeout(()=>h(!1),1500);return()=>clearTimeout(w)},[]);const x="bg-gradient-to-br from-navy via-gray-900 to-blue-900",C=[{icon:Kn,label:"Flights",color:"bg-blue-500",count:"200+ deals"},{icon:t7,label:"Hotels",color:"bg-purple-500",count:"500+ options"},{icon:n0,label:"Experiences",color:"bg-yellow-500",count:"100+ activities"},{icon:Dh,label:"Dining",color:"bg-pink-500",count:"50+ restaurants"}],R=[{icon:au,label:"My Trips",route:"/bookings",count:"3 upcoming"},{icon:GB,label:"Saved",route:"/saved",count:"12 items"},{icon:Ic,label:"Offers",count:"5 new"},{icon:rr,label:"Support",count:"24/7"}],O=w=>{console.log("Searching for:",w),t("/explore",{state:{searchQuery:w}})},E=()=>{c(Math.max(0,l-1))};return u||N?i.jsx("div",{className:`min-h-screen ${x} flex items-center justify-center`,children:i.jsx(Qn,{size:"xl",text:"Loading your dashboard..."})}):i.jsxs("div",{className:`min-h-screen ${x} pb-20 md:pb-0`,children:[i.jsx(xs,{onSearchOpen:()=>r(!0),onNotificationOpen:()=>o(!0),notificationCount:l,cartCount:2}),i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-8",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:i.jsx("div",{className:`p-6 lg:p-8 rounded-2xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4 lg:mb-0",children:[i.jsx(S.div,{whileHover:{scale:1.1},className:"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center",children:n!=null&&n.photoURL?i.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-full h-full rounded-full object-cover"}):i.jsx(dn,{className:"w-8 h-8 text-navy"})}),i.jsxs("div",{children:[i.jsx(S.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Good morning,"}),i.jsxs(S.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`font-bold text-2xl ${e?"text-white":"text-navy"}`,children:[(n==null?void 0:n.displayName)||(n==null?void 0:n.firstName)||"Traveler","!"]}),i.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex items-center space-x-2 mt-1",children:[i.jsx(Fe,{className:`w-4 h-4 ${e?"text-yellow-400":"text-blue-600"}`}),i.jsx("span",{className:`text-sm font-semibold ${e?"text-white":"text-navy"}`,children:f==null?void 0:f.location}),i.jsxs("span",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["• ",f==null?void 0:f.temperature," ",f==null?void 0:f.condition]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs(S.div,{whileHover:{scale:1.05},className:`p-4 rounded-xl ${e?"bg-yellow-400":"bg-blue-600"} text-center`,children:[i.jsx("div",{className:`text-2xl font-bold ${e?"text-navy":"text-white"}`,children:(n==null?void 0:n.travelPoints)||2450}),i.jsx("div",{className:`text-sm font-semibold ${e?"text-navy":"text-white"}`,children:"Travel Points"})]}),i.jsxs(S.div,{whileHover:{scale:1.05},className:`p-4 rounded-xl ${e?"bg-blue-600":"bg-purple-600"} text-center`,children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"3"}),i.jsx("div",{className:"text-sm font-semibold text-yellow-400",children:"Upcoming Trips"})]})]})]})})}),f&&i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:i.jsx("div",{className:`p-4 rounded-xl ${e?"bg-blue-600/20":"bg-blue-100"} border-l-4 border-blue-500`,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-2xl",children:"☀️"}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${e?"text-white":"text-navy"}`,children:"Weather Update"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:f.recommendation})]})]})})}),i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:i.jsxs(S.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-8 rounded-2xl ${e?"bg-yellow-400":"bg-blue-600"} cursor-pointer relative overflow-hidden`,onClick:()=>t("/trip-planner"),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/10"}),i.jsxs("div",{className:"relative flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"mb-4 lg:mb-0",children:[i.jsx("h3",{className:`font-bold text-2xl lg:text-3xl mb-2 ${e?"text-navy":"text-white"}`,children:"Plan Your Dream Trip"}),i.jsx("p",{className:`text-lg ${e?"text-navy":"text-white"}`,children:"Let AI create the perfect itinerary for you"})]}),i.jsx(S.div,{whileHover:{x:5},className:`w-16 h-16 rounded-full flex items-center justify-center ${e?"bg-navy":"bg-white"}`,children:i.jsx(da,{className:`w-8 h-8 ${e?"text-white":"text-navy"}`})})]})]})}),i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:`font-bold text-2xl ${e?"text-white":"text-navy"}`,children:"Suggested for You"}),i.jsx(S.button,{whileHover:{scale:1.05},className:`px-6 py-3 rounded-lg font-semibold ${e?"bg-yellow-400 text-navy":"bg-blue-600 text-white"} hover:opacity-90 transition-opacity`,onClick:()=>t("/nearby-pois"),children:"View All"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold text-lg mb-3 ${e?"text-white":"text-navy"}`,children:"Nearby Points of Interest"}),_&&i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Qn,{size:"md",text:"Finding nearby places..."})}),b&&i.jsx("div",{className:"text-red-500 text-center py-4",children:b}),!_&&!b&&j.length===0&&i.jsx("div",{className:"text-gray-500 text-center py-4",children:"No nearby points of interest found."}),!_&&!b&&j.length>0&&i.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100",children:j.map((w,k)=>i.jsx(g4,{poi:w,index:k},w.id))})]})]}),i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-2xl mb-6 ${e?"text-white":"text-navy"}`,children:"What are you looking for?"}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:C.map((w,k)=>{const A=w.icon;return i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*k},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:`p-6 rounded-2xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm cursor-pointer text-center group`,children:[i.jsx(S.div,{whileHover:{rotate:10},className:`w-16 h-16 rounded-xl ${w.color} flex items-center justify-center mb-4 mx-auto group-hover:shadow-lg transition-shadow`,children:i.jsx(A,{className:"w-8 h-8 text-white"})}),i.jsx("h4",{className:`font-bold text-lg mb-1 ${e?"text-white":"text-navy"}`,children:w.label}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:w.count})]},k)})})]})]}),i.jsxs("div",{className:"lg:col-span-4",children:[i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-navy"}`,children:"Quick Actions"}),i.jsx("div",{className:"space-y-3",children:R.map((w,k)=>{const A=w.icon;return i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*k},whileHover:{scale:1.02,x:5},whileTap:{scale:.98},onClick:()=>w.route&&t(w.route),className:`p-4 rounded-xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm cursor-pointer flex items-center space-x-4 group`,children:[i.jsx(A,{className:`w-6 h-6 ${e?"text-yellow-400":"text-blue-600"} group-hover:scale-110 transition-transform`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:`font-semibold ${e?"text-white":"text-navy"}`,children:w.label}),w.count&&i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:w.count})]}),i.jsx(da,{className:`w-4 h-4 ${e?"text-gray-400":"text-gray-500"} group-hover:translate-x-1 transition-transform`})]},k)})})]}),i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-navy"}`,children:"Recent Activity"}),i.jsx("div",{className:`p-6 rounded-xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm space-y-4`,children:[{icon:$t,color:"bg-green-500",title:"Trip Booked",desc:"Maldives Luxury Retreat",time:"2h ago"},{icon:Qe,color:"bg-blue-500",title:"Review Added",desc:"Dubai Luxury Experience",time:"1d ago"},{icon:Ic,color:"bg-purple-500",title:"Points Earned",desc:"+250 travel points",time:"2d ago"}].map((w,k)=>{const A=w.icon;return i.jsxs(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*k},className:"flex items-center space-x-3",children:[i.jsx(S.div,{whileHover:{scale:1.1},className:`w-10 h-10 ${w.color} rounded-full flex items-center justify-center`,children:i.jsx(A,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-semibold ${e?"text-white":"text-navy"}`,children:w.title}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:w.desc})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Un,{className:`w-3 h-3 ${e?"text-gray-400":"text-gray-500"}`}),i.jsx("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:w.time})]})]},k)})})]}),i.jsx(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"mb-8",children:i.jsxs("div",{className:`p-6 rounded-xl ${e?"bg-yellow-400":"bg-blue-600"} text-center`,children:[i.jsx(Jr,{className:`w-8 h-8 mx-auto mb-3 ${e?"text-navy":"text-white"}`}),i.jsx("h3",{className:`font-bold text-lg mb-2 ${e?"text-navy":"text-white"}`,children:"Trending Now"}),i.jsx("p",{className:`text-sm mb-4 ${e?"text-navy":"text-white"}`,children:"Bali is 40% more popular this month"}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/explore",{state:{searchQuery:"Bali"}}),className:`px-4 py-2 rounded-lg font-semibold ${e?"bg-navy text-white":"bg-white text-blue-600"} hover:opacity-90 transition-opacity`,children:"Explore Bali"})]})})]})]})}),i.jsx(Lx,{isOpen:s,onClose:()=>r(!1),onSearch:O}),i.jsx(N7,{isOpen:a,onClose:()=>o(!1),notificationCount:l,onMarkAsRead:E}),i.jsx(gr,{cartCount:2})]})},u0="AIzaSyCDDABUuK8I57G_EOV31lgZOIlI5rKIukE",Nj=`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${u0}`,jj={trip:{title:"Himalayan Adventure",price:"₹45,000",originalPrice:"₹52,000",subtitle:"Experience the majestic Himalayas with trekking and camping",days:"7 Days",rating:"4.8",reviews:"324",people:"1 people",location:"Himachal Pradesh, India",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80",highlights:["Trek to Triund Peak","Camp under the stars","Visit McLeod Ganj","Explore Dharamshala","Bhagsu Waterfall adventure","Dalai Lama Temple visit"],itinerary:[{day:1,title:"Arrival in Dharamshala",activities:["Airport pickup","Check-in to hotel","Local market visit","Welcome dinner"]},{day:2,title:"Explore McLeod Ganj",activities:["Bhagsu Waterfall trek","McLeod Ganj exploration","Tibetan food tasting","Sunset at viewpoint"]},{day:3,title:"Start Trek to Triund",activities:["Trek preparation","Begin ascent to Triund","Camp setup","Stargazing night"]},{day:4,title:"Triund Peak Summit",activities:["Sunrise at Triund","Peak summit trek","Mountain photography","Camp activities"]},{day:5,title:"Return to Dharamshala",activities:["Descent from Triund","Hotel check-in","Hot shower","Rest and recovery"]},{day:6,title:"Cultural Experience",activities:["Dalai Lama Temple","Tibetan cooking class","Local shopping","Cultural performance"]},{day:7,title:"Departure",activities:["Final breakfast","Hotel checkout","Airport transfer","Farewell"]}]},included:[{icon:"✈️",label:"Flights",description:"Round-trip flights from major cities"},{icon:"🏨",label:"Hotels",description:"3-star accommodations with breakfast"},{icon:"🍽️",label:"Meals",description:"Daily breakfast and 3 special dinners"},{icon:"🚗",label:"Transfers",description:"Private AC vehicle with driver"},{icon:"🏖️",label:"Activities",description:"All mentioned activities and tours"},{icon:"🤖",label:"AI Guide",description:"24/7 AI travel assistant"}]};async function d0({budget:t,budgetType:e,selectedDays:n,selectedType:s,selectedCompanion:r,adults:a,children:o,autoLocation:l,currentLocation:c}){var f,m,p,y,N,j;if(console.log("API Key (first 10 chars):",u0.substring(0,10)+"..."),u0.length<20)return console.error("Invalid API key format"),jj;const h={contents:[{parts:[{text:`Generate a detailed trip plan for: 
Budget: ₹${t}, 
Budget Type: ${e===0?"Budget":e===1?"Comfort":"Luxury"}, 
Duration: ${n} days, 
Trip Type: ${s===0?"Adventure":s===1?"Relaxation":"Spiritual"}, 
Companion: ${r===0?"Solo":r===1?"Couple":"Family"}, 
Adults: ${a}, 
Children: ${o}, 
Location: ${c}.

IMPORTANT: Return ONLY a valid JSON object. Do not include any explanations, markdown formatting, or additional text. Start with { and end with }.

Return this exact JSON structure:
{
  "trip": {
    "title": "Trip Title",
    "price": "₹XX,XXX",
    "originalPrice": "₹XX,XXX",
    "subtitle": "Brief description of the trip experience",
    "days": "${n} Days",
    "rating": "4.X",
    "reviews": "XXX",
    "people": "${a+o} people",
    "location": "Destination, Country",
    "image": "https://images.unsplash.com/photo-[UNIQUE_ID]?auto=format&fit=crop&w=800&q=80",
    "highlights": [
      "Highlight 1",
      "Highlight 2",
      "Highlight 3",
      "Highlight 4",
      "Highlight 5",
      "Highlight 6"
    ],
    "itinerary": [
      {
        "day": 1,
        "title": "Day 1 Title",
        "activities": ["Activity 1", "Activity 2", "Activity 3", "Activity 4"]
      },
      {
        "day": 2,
        "title": "Day 2 Title", 
        "activities": ["Activity 1", "Activity 2", "Activity 3", "Activity 4"]
      }
    ]
  },
  "included": [
    {
      "icon": "✈️",
      "label": "Flights",
      "description": "Round-trip flights from major cities"
    },
    {
      "icon": "🏨", 
      "label": "Hotels",
      "description": "4-star accommodations with breakfast"
    },
    {
      "icon": "🍽️",
      "label": "Meals", 
      "description": "Daily breakfast and 3 special dinners"
    },
    {
      "icon": "🚗",
      "label": "Transfers",
      "description": "Private AC vehicle with driver"
    },
    {
      "icon": "🏖️",
      "label": "Activities",
      "description": "All mentioned activities and tours"
    },
    {
      "icon": "🤖",
      "label": "AI Guide",
      "description": "24/7 AI travel assistant"
    }
  ]
}

Requirements:
- Generate a realistic price based on the budget and trip type
- Create an original price that's 10-20% higher than the actual price
- Choose an appropriate destination based on the trip type and location
- Generate a high-quality Unsplash image URL that matches the destination and trip type. Use search terms like "destination name landscape", "destination name travel", "destination name tourism" to get relevant images
- Example image URLs for reference:
  * Mountains: https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80
  * Beaches: https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=80
  * Cities: https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=800&q=80
  * Temples: https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=800&q=80
- Create 6 meaningful highlights for the trip
- Generate a day-by-day itinerary with 4 activities per day
- Use appropriate emojis for the included services
- Make the response realistic and detailed for the given parameters
- Return ONLY the JSON object, no other text.`}]}]};try{console.log("Calling Gemini API..."),console.log("API URL:",Nj),console.log("Request body:",h);const _=await Oe.post(Nj,h,{headers:{"Content-Type":"application/json"}});console.log("Raw Gemini API Response:",_.data);const b=(j=(N=(y=(p=(m=(f=_==null?void 0:_.data)==null?void 0:f.candidates)==null?void 0:m[0])==null?void 0:p.content)==null?void 0:y.parts)==null?void 0:N[0])==null?void 0:j.text;if(!b)throw new Error("No response from Gemini API");console.log("Gemini Response Text:",b);let x;try{let C=b.trim();C=C.replace(/```json\s*/g,"").replace(/```\s*/g,"");const R=C.indexOf("{"),O=C.lastIndexOf("}");R!==-1&&O!==-1&&O>R&&(C=C.substring(R,O+1)),C=C.replace(/^[^{]*/,"").replace(/}[^}]*$/,"}"),console.log("Cleaned JSON text:",C),x=JSON.parse(C)}catch(C){console.error("JSON Parse Error:",C),console.error("Original text:",b);try{const R=b.match(/\{[\s\S]*\}/);if(R){const O=R[0];console.log("Extracted JSON:",O),x=JSON.parse(O)}else throw new Error("No JSON object found in response")}catch(R){throw console.error("Second parsing attempt failed:",R),new Error("Failed to parse Gemini response as JSON. Response was: "+b.substring(0,200)+"...")}}if(console.log("Parsed Trip Object:",x),!x.trip)throw new Error("No trip found in Gemini response");return x}catch(_){return console.error("Gemini API Error:",_),_.response?(console.error("Error Response Status:",_.response.status),console.error("Error Response Data:",_.response.data),console.error("Error Response Headers:",_.response.headers)):_.request?console.error("Error Request:",_.request):console.error("Error Message:",_.message),console.log("Using mock response as fallback..."),jj}}const y4=(t=null)=>{const{user:e}=jt(),[n,s]=T.useState([]),[r,a]=T.useState(!0),[o,l]=T.useState(null);T.useEffect(()=>{if(!(e!=null&&e.uid)){a(!1);return}(async()=>{a(!0),l(null);try{const f=await H1(e.uid,t);f.success?s(f.data):l(f.error)}catch(f){l(f.message)}finally{a(!1)}})()},[e==null?void 0:e.uid,t]);const c=async()=>{if(e!=null&&e.uid){a(!0),l(null);try{const h=await H1(e.uid,t);h.success?s(h.data):l(h.error)}catch(h){l(h.message)}finally{a(!1)}}},u=h=>n.filter(f=>f.status===h);return{bookings:n,loading:r,error:o,refetch:c,upcomingBookings:u("UPCOMING"),activeBookings:u("ACTIVE"),completedBookings:u("COMPLETED"),cancelledBookings:u("CANCELLED")}},TH=()=>{const{user:t}=jt(),[e,n]=T.useState([]),[s,r]=T.useState(!0),[a,o]=T.useState(null);return T.useEffect(()=>{if(!(t!=null&&t.uid)){r(!1);return}(async()=>{r(!0),o(null);try{const u=await q1(t.uid);if(u.success){const h=u.data.filter(f=>f.itinerary&&Array.isArray(f.itinerary)&&f.itinerary.length>0);n(h)}else o(u.error)}catch(u){o(u.message)}finally{r(!1)}})()},[t==null?void 0:t.uid]),{bookings:e,loading:s,error:a,refetch:async()=>{if(t!=null&&t.uid){r(!0),o(null);try{const c=await q1(t.uid);if(c.success){const u=c.data.filter(h=>h.itinerary&&Array.isArray(h.itinerary)&&h.itinerary.length>0);n(u)}else o(c.error)}catch(c){o(c.message)}finally{r(!1)}}}}},EH=()=>{const{user:t}=jt(),[e,n]=T.useState([]),[s,r]=T.useState(!0),[a,o]=T.useState(null);return T.useEffect(()=>{(async()=>{if(!(t!=null&&t.uid)){r(!1);return}try{r(!0);const h=await ua(t.uid);h.success?n(h.data):o(h.error||"Failed to fetch saved items")}catch(h){o(h.message||"Error fetching saved items")}finally{r(!1)}})()},[t==null?void 0:t.uid]),{savedItems:e,loading:s,error:a,addToSaved:async u=>{if(!(t!=null&&t.uid))return{success:!1,error:"User not authenticated"};try{const h=await addToSaved(t.uid,u);return h.success&&n(f=>[h.data,...f]),h}catch(h){return{success:!1,error:h.message}}},removeFromSaved:async u=>{if(!(t!=null&&t.uid))return{success:!1,error:"User not authenticated"};try{const h=await removeFromSaved(u);return h.success&&n(f=>f.filter(m=>m.id!==u)),h}catch(h){return{success:!1,error:h.message}}}}},_j=[{value:0,label:"Adventure",icon:"🏔️"},{value:1,label:"Relaxation",icon:"🧘"},{value:2,label:"Spiritual",icon:"🕉️"}],Tj=[{value:0,label:"Solo",icon:"👤"},{value:1,label:"Couple",icon:"💕"},{value:2,label:"Family",icon:"👨‍👩‍👧‍👦"}],Ej=[{value:0,label:"Budget",icon:"💰",range:"₹15,000 - ₹50,000"},{value:1,label:"Comfort",icon:"💎",range:"₹50,000 - ₹1,50,000"},{value:2,label:"Luxury",icon:"👑",range:"₹1,50,000+"}],Ai=[{id:"budget",title:"Budget",subtitle:"Set your budget range",icon:ss},{id:"duration",title:"Duration",subtitle:"How many days?",icon:$t},{id:"type",title:"Trip Type",subtitle:"What kind of trip?",icon:us},{id:"companion",title:"Companion",subtitle:"Who's traveling?",icon:yn},{id:"location",title:"Location",subtitle:"Where do you want to go?",icon:Fe}],SH=()=>{var bn,_t,Ot,pt,Nn,et,Z,ne,ue;const{isDark:t}=ye(),{user:e}=jt(),n=mt(),s=Yn(),r=((bn=s.state)==null?void 0:bn.sharedTrip)||null,a=((_t=s.state)==null?void 0:_t.mode)||"create",[o,l]=T.useState(0),[c,u]=T.useState((r==null?void 0:r.minBudget)||5e4),[h,f]=T.useState(1),[m,p]=T.useState((r==null?void 0:r.duration)||5),[y,N]=T.useState(0),[j,_]=T.useState(0),[b,x]=T.useState(1),[C,R]=T.useState(0),[O,E]=T.useState(!1),[w,k]=T.useState((r==null?void 0:r.location)||"Bangalore"),[A,$]=T.useState([]),[D,P]=T.useState(!1),[ae,pe]=T.useState(null),[ge,re]=T.useState(!1),{bookings:q,loading:Y}=y4(),M=q&&q.length>0?q[0]:null;T.useEffect(()=>{O&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(X=>{k("Your Location")})},[O]),T.useEffect(()=>{a==="create"&&M&&!Y&&re(!0)},[M,Y,a]),T.useEffect(()=>{if(a==="customize"&&r){u(r.minBudget||5e4),p(r.duration||5),k(r.location||"Bangalore");const X={Adventure:0,Relaxation:1,Spiritual:2};N(X[r.category]||0);const fe={solo:0,couple:1,family:2,friends:2,group:2};_(fe[r.companion]||0),l(Ai.length-1),$([{...r,type:X[r.category]||0,companion:fe[r.companion]||0,days:r.duration||5,minBudget:r.minBudget||5e4,maxBudget:r.maxBudget||1e5,image:r.image}])}},[a,r]);const H=()=>{o<Ai.length-1?l(o+1):ze()},se=()=>{o>0&&l(o-1)},xe=X=>{l(X)},Be=()=>{a==="customize"?(l(0),$([]),pe(null)):(re(!1),l(0),u(5e4),f(1),p(5),N(0),_(0),x(1),R(0),E(!1),k("Bangalore"),pe(null))};async function ze(){P(!0),pe(null);const X={budget:c,budgetType:h,selectedDays:m,selectedType:y,selectedCompanion:j,adults:b,children:C,autoLocation:O,currentLocation:w};console.log("🚀 Starting trip generation with data:",X);try{if(a==="customize"&&r){const fe={...r,duration:m,minBudget:c,maxBudget:c*2,location:w,customized:!0,baseTrip:r.name};console.log("✅ Trip customized successfully:",fe),n("/trip-details",{state:{trip:fe,included:[],isCustomized:!0,originalTrip:r}})}else{const{trip:fe,included:He}=await d0(X);console.log("✅ Trip generated successfully:",{trip:fe,included:He}),n("/trip-details",{state:{trip:fe,included:He}})}}catch(fe){console.error("❌ Error generating trip:",fe),pe(fe.message||"Error generating trip. Please try again.")}finally{P(!1)}}const _e="bg-gradient-to-br from-navy via-gray-900 to-blue-900",Ze=()=>{switch(o){case 0:return i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-lg font-semibold mb-4 ${t?"text-white":"text-navy"}`,children:"What's your budget?"}),i.jsx("input",{type:"number",value:c,onChange:X=>u(Number(X.target.value)),min:0,className:`w-full p-4 text-xl rounded-xl border-2 ${t?"border-gray-600 bg-navy/50 text-white focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20":"border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}`,placeholder:"50000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-lg font-semibold mb-4 ${t?"text-white":"text-navy"}`,children:"Budget Type"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Ej.map(X=>i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(X.value),className:`p-6 rounded-xl border-2 transition-all text-center ${h===X.value?t?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":t?"border-gray-600 text-white hover:border-yellow-400":"border-gray-300 text-gray-700 hover:border-blue-500"}`,children:[i.jsx("div",{className:"text-3xl mb-2",children:X.icon}),i.jsx("h3",{className:"font-bold text-lg mb-1",children:X.label}),i.jsx("p",{className:"text-sm opacity-80",children:X.range})]},X.value))})]})]});case 1:return i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-lg font-semibold mb-4 ${t?"text-white":"text-navy"}`,children:"How many days?"}),i.jsx("input",{type:"number",value:m,onChange:X=>p(Number(X.target.value)),min:1,max:30,className:`w-full p-4 text-xl rounded-xl border-2 ${t?"border-gray-600 bg-navy/50 text-white focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20":"border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}`})]}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[3,5,7,10,14,21].map(X=>i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(X),className:`p-4 rounded-xl border-2 transition-all text-center ${m===X?t?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":t?"border-gray-600 text-white hover:border-yellow-400":"border-gray-300 text-gray-700 hover:border-blue-500"}`,children:[i.jsx("div",{className:"text-2xl font-bold",children:X}),i.jsx("div",{className:"text-sm",children:"days"})]},X))})]});case 2:return i.jsx(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-lg font-semibold mb-4",children:"What type of trip?"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:_j.map(X=>i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(X.value),className:`p-6 rounded-xl border-2 transition-all text-center ${y===X.value?t?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":t?"border-gray-600 text-white hover:border-yellow-400":"border-gray-300 text-gray-700 hover:border-blue-500"}`,children:[i.jsx("div",{className:"text-4xl mb-2",children:X.icon}),i.jsx("h3",{className:"font-bold text-lg",children:X.label})]},X.value))})]})});case 3:return i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-lg font-semibold mb-4",children:"Who's traveling?"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Tj.map(X=>i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>_(X.value),className:`p-6 rounded-xl border-2 transition-all text-center ${j===X.value?t?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":t?"border-gray-600 text-white hover:border-yellow-400":"border-gray-300 text-gray-700 hover:border-blue-500"}`,children:[i.jsx("div",{className:"text-4xl mb-2",children:X.icon}),i.jsx("h3",{className:"font-bold text-lg",children:X.label})]},X.value))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold mb-2",children:"Adults"}),i.jsx("input",{type:"number",value:b,onChange:X=>x(Number(X.target.value)),min:1,className:`w-full p-3 rounded-lg border ${t?"border-gray-600 bg-navy/50 text-white":"border-gray-300"}`})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold mb-2",children:"Children"}),i.jsx("input",{type:"number",value:C,onChange:X=>R(Number(X.target.value)),min:0,className:`w-full p-3 rounded-lg border ${t?"border-gray-600 bg-navy/50 text-white":"border-gray-300"}`})]})]})]});case 4:return i.jsx(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("label",{className:`block text-lg font-semibold mb-4 ${t?"text-yellow-400":"text-navy"}`,children:"Destination"}),i.jsx("input",{type:"text",value:w,onChange:X=>k(X.target.value),className:`w-full p-4 text-xl rounded-xl border-2 ${t?"border-gray-600 bg-navy/50 text-white focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20":"border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}`,placeholder:"Where do you want to go? (e.g., Paris, Tokyo, Goa)"})]})});default:return null}};return D?i.jsx("div",{className:`min-h-screen ${_e} flex items-center justify-center`,children:i.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[i.jsx(Qn,{size:"xl"}),i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 space-y-4",children:[i.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-navy"}`,children:"🤖 AI is crafting your perfect trip"}),i.jsx("div",{className:"space-y-3",children:["🔍 Analyzing your preferences...","🌍 Finding the best destinations...","📅 Optimizing your itinerary...","✨ Adding special experiences..."].map((X,fe)=>i.jsx(S.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+fe*.5},className:`text-left ${t?"text-gray-300":"text-gray-600"}`,children:X},fe))})]})]})}):Y?i.jsx("div",{className:`min-h-screen ${_e} flex items-center justify-center`,children:i.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[i.jsx(Qn,{size:"xl"}),i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 space-y-4",children:[i.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-navy"}`,children:"Loading your recent trips..."}),i.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"Checking for your latest AI-generated trip plans"})]})]})}):i.jsxs("div",{className:`min-h-screen flex flex-col ${_e}`,children:[i.jsx(xs,{}),i.jsx("div",{className:"max-w-5xl mx-auto w-full px-6 pt-8 pb-2",children:i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`text-4xl font-bold mb-2 ${t?"text-yellow-400":"text-navy"}`,children:a==="customize"?"Customize Your Trip":"AI Trip Planner"}),i.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:a==="customize"?"Customize this shared trip plan according to your preferences and requirements.":"Plan your next adventure with our AI-powered trip planner. Fill in your preferences and let us do the magic!"})]})}),a==="customize"&&r&&i.jsx("div",{className:"max-w-5xl mx-auto w-full px-6 mb-8",children:i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${t?"bg-navy/70":"bg-white/90"} rounded-2xl shadow p-8`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:`text-2xl font-bold mb-2 ${t?"text-yellow-400":"text-navy"}`,children:["Customizing: ",r.name]}),i.jsxs("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:["Shared by ",r.creatorName||"Travel Enthusiast"," • ",r.location," • ",r.duration," days"]})]}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("/explore"),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all ${t?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[i.jsx(Ph,{className:"w-5 h-5"}),i.jsx("span",{children:"Back to Explore"})]})]}),i.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[i.jsx("img",{src:r.image,alt:r.name,className:"w-24 h-24 rounded-xl object-cover"}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:`font-semibold ${t?"text-gray-400":"text-gray-600"}`,children:"Duration:"}),i.jsxs("p",{className:`${t?"text-white":"text-gray-800"}`,children:[r.duration," days"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:`font-semibold ${t?"text-gray-400":"text-gray-600"}`,children:"Budget:"}),i.jsxs("p",{className:`${t?"text-white":"text-gray-800"}`,children:["₹",(Ot=r.minBudget)==null?void 0:Ot.toLocaleString()," - ₹",(pt=r.maxBudget)==null?void 0:pt.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("span",{className:`font-semibold ${t?"text-gray-400":"text-gray-600"}`,children:"Category:"}),i.jsx("p",{className:`${t?"text-white":"text-gray-800"}`,children:r.category})]}),i.jsxs("div",{children:[i.jsx("span",{className:`font-semibold ${t?"text-gray-400":"text-gray-600"}`,children:"Rating:"}),i.jsxs("p",{className:`${t?"text-white":"text-gray-800"}`,children:[((Nn=r.averageRating)==null?void 0:Nn.toFixed(1))||"N/A"," ⭐"]})]})]})})]}),i.jsx("div",{className:`p-4 rounded-lg ${t?"bg-blue-500/20 border border-blue-500/30":"bg-blue-50 border border-blue-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:`text-sm ${t?"text-blue-200":"text-blue-800"}`,children:"💡 You can modify the duration, budget, and other preferences below to customize this trip plan according to your needs."}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(0),className:`ml-4 px-4 py-2 rounded-lg font-semibold transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Customize Now"})]})})]})}),ge&&M&&a==="create"&&i.jsx("div",{className:"max-w-5xl mx-auto w-full px-6 mb-8",children:i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${t?"bg-navy/70":"bg-white/90"} rounded-2xl shadow p-8`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:`text-2xl font-bold mb-2 ${t?"text-yellow-400":"text-navy"}`,children:"Your Recent Trip"}),i.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"Here's your latest AI-generated trip plan"})]}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Be,className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(us,{className:"w-5 h-5"}),i.jsx("span",{children:"Plan New Trip"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[i.jsx("img",{src:M.image||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",alt:M.tripName||M.title,className:"w-full h-64 object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[i.jsx("h3",{className:"text-xl font-bold mb-1",children:M.tripName||M.title}),i.jsx("p",{className:"text-sm opacity-90",children:M.location})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`text-lg font-semibold mb-3 ${t?"text-white":"text-navy"}`,children:"Trip Overview"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-navy/50":"bg-gray-50"}`,children:[i.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Duration"}),i.jsxs("div",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:[M.days," days"]})]}),i.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-navy/50":"bg-gray-50"}`,children:[i.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Price"}),i.jsx("div",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:M.price})]}),i.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-navy/50":"bg-gray-50"}`,children:[i.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Rating"}),i.jsx("div",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:M.rating||"N/A"})]}),i.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-navy/50":"bg-gray-50"}`,children:[i.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Status"}),i.jsx("div",{className:`font-semibold ${t?"text-green-400":"text-green-600"}`,children:M.status||"Booked"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:`text-lg font-semibold mb-3 ${t?"text-white":"text-navy"}`,children:"Highlights"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(et=M.highlights)==null?void 0:et.slice(0,4).map((X,fe)=>i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t?"bg-yellow-400/20 text-yellow-400":"bg-blue-100 text-blue-700"}`,children:X},fe))})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("/trip-details",{state:{trip:M}}),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${t?"bg-navy/50 text-white hover:bg-navy/70":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Details"}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Be,className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Plan New Trip"})]})]})]})]})}),!ge&&i.jsxs("div",{className:"max-w-5xl mx-auto w-full px-6 pb-16 flex flex-col md:flex-row gap-12",children:[i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:`w-full h-3 rounded-full ${t?"bg-gray-700":"bg-gray-200"} overflow-hidden`,children:i.jsx(S.div,{initial:{width:0},animate:{width:`${(o+1)/Ai.length*100}%`},transition:{duration:.5},className:`h-full rounded-full ${t?"bg-yellow-400":"bg-blue-600"}`})})}),i.jsx("div",{className:"flex justify-between mb-8 overflow-x-auto pb-2",children:Ai.map((X,fe)=>{const He=X.icon,sn=fe<o,ws=fe===o;return i.jsxs(S.button,{onClick:()=>xe(fe),className:`flex flex-col items-center space-y-2 p-2 rounded-lg transition-all min-w-0 ${ws?t?"bg-yellow-400/20":"bg-blue-600/20":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${sn?"bg-green-500 border-green-500 text-white":ws?t?"bg-yellow-400 border-yellow-400 text-navy":"bg-blue-600 border-blue-600 text-white":t?"border-gray-600 text-gray-400":"border-gray-300 text-gray-500"}`,children:sn?i.jsx(os,{className:"w-5 h-5"}):i.jsx(He,{className:"w-5 h-5"})}),i.jsx("span",{className:`text-xs font-medium text-center ${ws?t?"text-yellow-400":"text-blue-600":t?"text-gray-400":"text-gray-600"}`,children:X.title})]},X.id)})}),i.jsxs("div",{className:`${t?"bg-navy/70":"bg-white/90"} rounded-2xl shadow p-10 mb-10`,children:[i.jsx("h2",{className:`text-2xl font-bold mb-2 ${t?"text-yellow-400":"text-navy"}`,children:Ai[o].title}),i.jsx("p",{className:`text-lg mb-8 ${t?"text-gray-300":"text-gray-600"}`,children:Ai[o].subtitle}),i.jsx("div",{className:"mb-8",children:Ze()}),i.jsx("hr",{className:`${t?"border-gray-700":"border-gray-200"} my-8`}),i.jsxs("div",{className:"flex justify-between",children:[o>0?i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:se,className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all ${t?"bg-navy/50 text-yellow-400 hover:bg-navy/70":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[i.jsx(Ph,{className:"w-5 h-5"}),i.jsx("span",{children:"Previous"})]}):i.jsx("div",{}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all ${t?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o===Ai.length-1?a==="customize"?i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"w-5 h-5"}),i.jsx("span",{children:"Apply Customizations"})]}):i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"w-5 h-5"}),i.jsx("span",{children:"Generate My Trip"})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Continue"}),i.jsx(da,{className:"w-5 h-5"})]})})]})]}),ae&&i.jsx("div",{className:`mt-6 text-center font-semibold ${t?"text-red-400":"text-red-600"}`,children:ae})]}),i.jsxs("aside",{className:"w-full md:w-1/3 flex flex-col gap-8",children:[i.jsxs("div",{className:`${t?"bg-navy/80 text-white":"bg-blue-100"} rounded-2xl shadow p-8 mb-4`,children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${t?"text-yellow-400":"text-navy"}`,children:"Trip Summary"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:"Budget:"}),i.jsxs("span",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:["₹",c.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:"Type:"}),i.jsx("span",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:(Z=Ej.find(X=>X.value===h))==null?void 0:Z.label})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:"Duration:"}),i.jsxs("span",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:[m," days"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:"Trip Type:"}),i.jsx("span",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:(ne=_j.find(X=>X.value===y))==null?void 0:ne.label})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:"Companion:"}),i.jsx("span",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:(ue=Tj.find(X=>X.value===j))==null?void 0:ue.label})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:"Travelers:"}),i.jsxs("span",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:[b+C," people"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:"Destination:"}),i.jsx("span",{className:`font-semibold ${t?"text-yellow-400":"text-navy"}`,children:w})]})]})]}),i.jsxs("div",{className:`${t?"bg-navy/70 text-white":"bg-white/90"} rounded-2xl shadow p-6 mb-4`,children:[i.jsx("h4",{className:`font-semibold mb-2 ${t?"text-yellow-400":"text-navy"}`,children:"How it works"}),i.jsxs("ul",{className:`text-sm space-y-2 ${t?"text-gray-300":"text-gray-700"}`,children:[i.jsx("li",{children:"1. Fill in your preferences step by step."}),i.jsx("li",{children:"2. Our AI analyzes your input and finds the best options."}),i.jsx("li",{children:"3. Get a personalized trip plan instantly!"})]})]}),i.jsxs("div",{className:`${t?"bg-navy/70 text-white":"bg-white/90"} rounded-2xl shadow p-6`,children:[i.jsx("h4",{className:`font-semibold mb-2 ${t?"text-yellow-400":"text-navy"}`,children:"Need Help?"}),i.jsx("p",{className:`text-sm mb-3 ${t?"text-gray-300":"text-gray-600"}`,children:"Contact our support team for assistance or questions about planning your trip."}),i.jsx("a",{href:"mailto:help@sanchari.com",className:`${t?"text-yellow-400":"text-blue-600"} font-semibold hover:underline`,children:"help@sanchari.com"})]})]})]}),i.jsx("footer",{className:`${t?"bg-navy text-yellow-400":"bg-navy text-white"} w-full py-8 mt-auto`,children:i.jsxs("div",{className:"max-w-5xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"text-sm",children:["© ",new Date().getFullYear()," Sanchari. All rights reserved."]}),i.jsxs("div",{className:"flex gap-6 text-sm",children:[i.jsx("a",{href:"#",className:"hover:underline",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"hover:underline",children:"Terms of Service"}),i.jsx("a",{href:"#",className:"hover:underline",children:"Contact"})]})]})})]})},Io=()=>[{id:"demo-1",name:"Himalayan Adventure Trek",description:"Experience the breathtaking beauty of the Himalayas with this carefully planned 7-day trek. Includes accommodation, meals, and professional guides.",location:"Himachal Pradesh, India",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80",days:7,minBudget:25e3,maxBudget:35e3,type:0,companion:0,difficulty:"hard",season:"summer",category:"Adventure",tags:["trekking","mountains","adventure","hiking","nature"],creatorName:"Rajesh Kumar",usageCount:45,averageRating:4.8,totalRatings:12,ratings:[]},{id:"demo-2",name:"Kerala Backwaters & Spice Gardens",description:"Discover the serene backwaters of Kerala and aromatic spice gardens. Perfect for couples seeking romance and relaxation.",location:"Kerala, India",image:"https://images.unsplash.com/photo-1502086223501-7ea6ecd79368?auto=format&fit=crop&w=800&q=80",days:5,minBudget:3e4,maxBudget:5e4,type:1,companion:1,difficulty:"easy",season:"winter",category:"Relaxation",tags:["backwaters","houseboat","spices","kerala","romantic","peaceful"],creatorName:"Priya Sharma",usageCount:32,averageRating:4.6,totalRatings:8,ratings:[]},{id:"demo-3",name:"Rajasthan Cultural Heritage",description:"Explore the royal heritage of Rajasthan with visits to majestic palaces, forts, and desert landscapes.",location:"Rajasthan, India",image:"https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=800&q=80",days:8,minBudget:4e4,maxBudget:7e4,type:3,companion:2,difficulty:"medium",season:"winter",category:"Cultural",tags:["rajasthan","palaces","forts","desert","cultural","heritage","royal"],creatorName:"Meera Rajput",usageCount:28,averageRating:4.7,totalRatings:10,ratings:[]},{id:"demo-4",name:"Goa Beach Paradise",description:"Relax on pristine beaches, enjoy water sports, and experience the vibrant nightlife of Goa.",location:"Goa, India",image:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=80",days:6,minBudget:2e4,maxBudget:4e4,type:1,companion:3,difficulty:"easy",season:"winter",category:"Beach",tags:["goa","beaches","nightlife","water sports","relaxation","party"],creatorName:"Arjun Patel",usageCount:67,averageRating:4.5,totalRatings:15,ratings:[]},{id:"demo-5",name:"Spiritual Journey to Varanasi",description:"Immerse yourself in the spiritual heart of India. Experience ancient rituals, temple visits, and the sacred Ganges.",location:"Varanasi, India",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=800&q=80",days:4,minBudget:15e3,maxBudget:25e3,type:2,companion:2,difficulty:"easy",season:"any",category:"Spiritual",tags:["spiritual","temples","ganges","rituals","meditation","heritage"],creatorName:"Anand Mishra",usageCount:23,averageRating:4.9,totalRatings:6,ratings:[]},{id:"demo-6",name:"Andaman Island Escape",description:"Dive into crystal clear waters, explore coral reefs, and enjoy pristine beaches in the Andaman Islands.",location:"Andaman Islands, India",image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?auto=format&fit=crop&w=800&q=80",days:7,minBudget:5e4,maxBudget:8e4,type:0,companion:1,difficulty:"medium",season:"winter",category:"Adventure",tags:["andaman","islands","diving","snorkeling","beaches","coral reefs"],creatorName:"Kavya Nair",usageCount:19,averageRating:4.8,totalRatings:5,ratings:[]}],x4=(t={})=>{const[e,n]=T.useState([]),[s,r]=T.useState(!0),[a,o]=T.useState(null);return T.useEffect(()=>{(async()=>{var u,h;try{r(!0),o(null);const f=await WM(t);f.success?n(f.data||[]):(console.error("Failed to fetch shared trips:",f.error),(u=f.error)!=null&&u.includes("permissions")||(h=f.error)!=null&&h.includes("Missing or insufficient")?(n(Io()),o("Using demo data - Firebase permissions need to be configured")):o(f.error))}catch(f){console.error("Error fetching shared trips:",f),o(f.message),n(Io())}finally{r(!1)}})()},[JSON.stringify(t)]),{sharedTrips:e,loading:s,error:a,refetch:()=>{fetchSharedTrips()}}},kH=(t=10)=>{const[e,n]=T.useState([]),[s,r]=T.useState(!0),[a,o]=T.useState(null);return T.useEffect(()=>{(async()=>{var c,u;try{r(!0),o(null);const h=await QM(t);if(h.success)n(h.data||[]);else{console.error("Failed to fetch popular trips:",h.error);const f=Io().sort((m,p)=>p.usageCount-m.usageCount).slice(0,t);n(f),(c=h.error)!=null&&c.includes("permissions")||(u=h.error)!=null&&u.includes("Missing or insufficient")?o("Using demo data - Firebase permissions need to be configured"):o(h.error)}}catch(h){console.error("Error fetching popular trips:",h),o(h.message);const f=Io().sort((m,p)=>p.usageCount-m.usageCount).slice(0,t);n(f)}finally{r(!1)}})()},[t]),{popularTrips:e,loading:s,error:a}},IH=(t=10)=>{const[e,n]=T.useState([]),[s,r]=T.useState(!0),[a,o]=T.useState(null);return T.useEffect(()=>{(async()=>{var c,u;try{r(!0),o(null);const h=await YM(t);if(h.success)n(h.data||[]);else{console.error("Failed to fetch trending trips:",h.error);const f=Io().sort((m,p)=>p.averageRating-m.averageRating).slice(0,t);n(f),(c=h.error)!=null&&c.includes("permissions")||(u=h.error)!=null&&u.includes("Missing or insufficient")?o("Using demo data - Firebase permissions need to be configured"):o(h.error)}}catch(h){console.error("Error fetching trending trips:",h),o(h.message);const f=Io().sort((m,p)=>p.averageRating-m.averageRating).slice(0,t);n(f)}finally{r(!1)}})()},[t]),{trendingTrips:e,loading:s,error:a}},v4=()=>{const[t,e]=T.useState(!1),[n,s]=T.useState(null);return{useTrip:async(o,l)=>{try{if(e(!0),s(null),o.startsWith("demo-"))return console.log("Demo trip usage - redirecting to trip planner"),{success:!0,message:"Demo trip - proceeding to customization"};const c=await GM(o,l);return c.success||(console.error("Failed to use trip:",c.error),s(c.error)),c}catch(c){return console.error("Error using trip:",c),s(c.message),{success:!1,error:c.message}}finally{e(!1)}},rateTrip:async(o,l,c,u="")=>{try{if(e(!0),s(null),o.startsWith("demo-"))return console.log("Demo trip rating - simulating success"),{success:!0,message:"Demo trip rating simulated"};const h=await KM(o,l,c,u);return h.success||(console.error("Failed to rate trip:",h.error),s(h.error)),h}catch(h){return console.error("Error rating trip:",h),s(h.message),{success:!1,error:h.message}}finally{e(!1)}},loading:t,error:n}},CH=()=>{const{isDark:t}=ye(),{user:e}=jt(),n=mt(),s=Yn(),[r,a]=T.useState("All"),[o,l]=T.useState(!1),[c,u]=T.useState(!1),[h,f]=T.useState(""),[m,p]=T.useState(!1),[y,N]=T.useState(new Set),[j,_]=T.useState({}),[b,x]=T.useState(3),[C,R]=T.useState("grid"),[O,E]=T.useState("popular"),[w,k]=T.useState(1),[A,$]=T.useState(null),[D,P]=T.useState(null),[ae,pe]=T.useState([]),[ge,re]=T.useState([]),[q,Y]=T.useState(!1),[M,H]=T.useState(!1),[se,xe]=T.useState(""),Be=12,{sharedTrips:ze,loading:_e,error:Ze}=x4({sortBy:O,searchQuery:h,category:r!=="All"?r:null,...j}),{popularTrips:bn}=kH(5),{trendingTrips:_t}=IH(5),{useTrip:Ot,rateTrip:pt}=v4(),{pois:Nn}=Bx(D),[et,Z]=T.useState([]),[ne,ue]=T.useState("all"),X=["All","Adventure","Relaxation","Spiritual","Cultural","Nature","Beach","Mountains","City","Luxury"],fe=[{value:"popular",label:"Most Popular"},{value:"newest",label:"Newest"},{value:"rating",label:"Highest Rated"},{value:"budget-low",label:"Budget: Low to High"},{value:"budget-high",label:"Budget: High to Low"}];T.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const Q=await ua(e.uid);if(Q.success){const we=new Set(Q.data.map(Pe=>Pe.itemId));N(we)}}catch(Q){console.error("Error loading saved items:",Q)}})()},[e==null?void 0:e.uid]),T.useEffect(()=>{(async()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async Q=>{const we=Q.coords.latitude,Pe=Q.coords.longitude;P({lat:we,lon:Pe});try{const We=await Oe.get(`https://nominatim.openstreetmap.org/reverse?lat=${we}&lon=${Pe}&format=json`),rn=We.data.address.city||We.data.address.town||We.data.address.village||We.data.address.state||"Your Location";xe(rn)}catch(We){console.error("Error fetching location name:",We),xe(`${we.toFixed(2)}, ${Pe.toFixed(2)}`)}H(!0);try{const We=await Oe.get(`https://api.open-meteo.com/v1/forecast?latitude=${we}&longitude=${Pe}&current_weather=true&hourly=temperature_2m,relative_humidity_2m,wind_speed_10m&timezone=auto`),rn=We.data.current_weather;$({temperature:`${Math.round(rn.temperature)}°C`,condition:He(rn.weathercode),windSpeed:`${rn.windspeed} km/h`,humidity:We.data.hourly.relative_humidity_2m[0]||0,recommendation:sn(rn.weathercode,rn.temperature)})}catch(We){console.error("Error fetching weather data:",We)}finally{H(!1)}},Q=>{console.error("Error getting location:",Q)})})()},[]),T.useEffect(()=>{(async()=>{if(D&&!q&&ae.length===0){Y(!0);try{const we=await d0({location:se,budget:"moderate",interests:["culture","nature","adventure"],duration:"3-5 days"});we&&we.trip&&pe([we.trip])}catch(Q){console.error("Error generating AI recommendations:",Q)}finally{Y(!1)}}})()},[D,se,q,ae.length]);const He=z=>({0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Foggy",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",80:"Slight showers",81:"Moderate showers",82:"Violent showers",95:"Thunderstorm",96:"Thunderstorm with hail",99:"Heavy thunderstorm"})[z]||"Unknown",sn=(z,Q)=>z===0||z===1?Q>25?"Perfect for outdoor activities!":"Great day for sightseeing!":z>=61&&z<=65?"Consider indoor attractions or pack an umbrella":z>=71&&z<=75?"Winter activities or cozy indoor experiences":z>=95?"Stay indoors and plan for tomorrow":"Check weather before heading out";T.useEffect(()=>{let z=[];switch(ne){case"popular":z=[...bn];break;case"trending":z=[..._t];break;default:z=[...ze]}r!=="All"&&(z=z.filter(Q=>{var we;return Q.category===r||((we=Q.tags)==null?void 0:we.includes(r.toLowerCase()))})),Z(z),k(1)},[ze,bn,_t,ne,r,j]),T.useEffect(()=>{var z;(z=s.state)!=null&&z.searchQuery&&(f(s.state.searchQuery),ws(s.state.searchQuery))},[s.state]);const ws=z=>{f(z),p(!0),z.length>3&&Qf(z),setTimeout(()=>p(!1),800)},Qf=async z=>{try{const Q=`Based on the search query "${z}" and location "${se}", suggest relevant travel destinations and activities. Focus on practical recommendations.`;console.log("Enhanced search query:",Q)}catch(Q){console.error("Error generating search suggestions:",Q)}},ji=()=>{if(!A)return[];const z=[],Q=parseInt(A.temperature);return Q>25&&A.condition.includes("clear")?z.push("Beach destinations","Outdoor adventures","Hiking trails"):Q<15?z.push("Mountain retreats","Cozy cafes","Museums"):A.condition.includes("rain")&&z.push("Indoor attractions","Shopping centers","Spa resorts"),z},_i=async z=>{if(!(e!=null&&e.uid)){n("/login");return}try{const Q=et.find(we=>we.id===z);if(!Q)return;if(y.has(z)){const we=await ua(e.uid);if(we.success){const Pe=we.data.find(We=>We.itemId===z);Pe&&(await cx(Pe.id),N(We=>{const rn=new Set(We);return rn.delete(z),rn}))}}else{const we={itemId:z,itemType:"SharedTrip",title:Q.name,subtitle:Q.location,price:Q.minBudget?`₹${Q.minBudget} - ₹${Q.maxBudget}`:"Varies",image:Q.image,description:Q.description,rating:Q.averageRating,savedDate:new Date};(await lx(e.uid,we)).success&&N(We=>new Set([...We,z]))}}catch(Q){console.error("Error saving trip:",Q)}},Ta=async z=>{if(!(e!=null&&e.uid)){n("/login");return}try{if((await Ot(z,e.uid)).success){const we=et.find(Pe=>Pe.id===z);n("/trip-planner",{state:{sharedTrip:we,mode:"customize"}})}}catch(Q){console.error("Error using trip:",Q)}},ot=async(z,Q,we)=>{if(!(e!=null&&e.uid)){n("/login");return}try{const Pe=await pt(z,e.uid,Q,we);return Pe.success,Pe}catch(Pe){return console.error("Error rating trip:",Pe),{success:!1,error:Pe.message}}},Tt=z=>{_(z),p(!0),setTimeout(()=>p(!1),600)},Ti=()=>{_({}),a("All"),f("")},cu=()=>{k(z=>z+1)},uu=et.slice(0,w*Be),Yf=et.length>w*Be,Bs="bg-gradient-to-br from-navy via-gray-900 to-blue-900";return _e||m?i.jsx("div",{className:`min-h-screen ${Bs} flex items-center justify-center`,children:i.jsx(Qn,{size:"xl",text:h?`Searching for "${h}"...`:"Loading shared trips..."})}):Ze&&!ze.length?i.jsx("div",{className:`min-h-screen ${Bs} flex items-center justify-center`,children:i.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Demo Mode Active"}),i.jsx("p",{className:"text-gray-300 mb-6",children:"Firebase permissions need to be configured for full functionality. Currently showing demo data."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 rounded-xl font-semibold bg-yellow-400 text-navy hover:bg-yellow-500 transition-colors",children:"Retry Connection"}),i.jsx("button",{onClick:()=>setError(null),className:"w-full px-6 py-3 rounded-xl font-semibold bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Continue with Demo"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Demo data includes 6 sample trips from across India"})]})}):i.jsxs("div",{className:`min-h-screen ${Bs} pb-20 md:pb-0`,children:[i.jsx(xs,{onSearchOpen:()=>l(!0),onNotificationOpen:()=>{},notificationCount:b,cartCount:2}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[Ze&&ze.length>0&&i.jsx(S.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-yellow-400/20 border border-yellow-400/30 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-yellow-300 font-medium text-sm",children:"Demo Mode Active"}),i.jsx("p",{className:"text-yellow-200 text-xs",children:"Showing sample trips. Configure Firebase permissions for full functionality."})]})]})}),i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 text-white truncate",children:"Discover Shared Trips"}),h&&i.jsxs("p",{className:"text-sm sm:text-base lg:text-lg font-normal text-gray-300 truncate",children:[et.length,' results for "',h,'"']}),i.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-300 hidden sm:block",children:"Explore trips created by fellow travelers and customize them for your journey"})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-xl bg-navy/50 text-white hover:bg-opacity-70 transition-all min-w-0 flex-1 sm:flex-none sm:min-w-[200px]",children:[i.jsx(Os,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base truncate",children:h||"Search..."})]}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"p-2 sm:p-3 rounded-xl bg-navy/50 backdrop-blur-sm relative flex-shrink-0",children:[i.jsx(g7,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-400"}),Object.keys(j).length>0&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),i.jsx("div",{className:"hidden sm:block",children:i.jsx(s0,{viewMode:C,setViewMode:R})})]})]}),(Object.keys(j).length>0||h||r!=="All")&&i.jsxs(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 flex flex-wrap items-center gap-2 overflow-hidden",children:[i.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-300 flex-shrink-0",children:"Filters:"}),i.jsxs("div",{className:"flex flex-wrap gap-2 min-w-0",children:[h&&i.jsxs("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2 bg-yellow-400 text-navy max-w-[150px] sm:max-w-none",children:[i.jsxs("span",{className:"truncate",children:['Search: "',h,'"']}),i.jsx("button",{onClick:()=>f(""),className:"flex-shrink-0",children:i.jsx(Cn,{className:"w-3 h-3"})})]}),r!=="All"&&i.jsxs("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2 bg-yellow-400 text-navy",children:[i.jsxs("span",{className:"truncate",children:["Category: ",r]}),i.jsx("button",{onClick:()=>a("All"),className:"flex-shrink-0",children:i.jsx(Cn,{className:"w-3 h-3"})})]}),Object.entries(j).map(([z,Q])=>i.jsxs("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2 bg-gray-600 text-white max-w-[120px] sm:max-w-none",children:[i.jsxs("span",{className:"truncate",children:[z,": ",Array.isArray(Q)?Q.join("-"):Q]}),i.jsx("button",{onClick:()=>{const we={...j};delete we[z],_(we)},className:"flex-shrink-0",children:i.jsx(Cn,{className:"w-3 h-3"})})]},z))]}),i.jsx("button",{onClick:Ti,className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium text-yellow-400 hover:bg-yellow-400/20 transition-colors flex-shrink-0",children:"Clear all"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8",children:[i.jsxs("div",{className:"lg:col-span-9 min-w-0",children:[A&&i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:i.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-500/20 to-purple-500/20 backdrop-blur-sm border border-blue-500/30",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(JB,{className:"w-8 h-8 text-yellow-400"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-white font-semibold",children:se}),i.jsx("span",{className:"text-2xl font-bold text-white",children:A.temperature})]}),i.jsx("p",{className:"text-sm text-gray-300",children:A.condition})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm text-gray-300",children:["Wind: ",A.windSpeed]}),i.jsxs("p",{className:"text-sm text-gray-300",children:["Humidity: ",A.humidity,"%"]})]})]}),i.jsx("div",{className:"mt-3 p-3 bg-blue-500/10 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-200 flex items-center",children:[i.jsx(us,{className:"w-4 h-4 mr-2"}),A.recommendation]})})]})}),ae.length>0&&i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(sj,{className:"w-6 h-6 text-purple-400 mr-2"}),i.jsx("h3",{className:"font-bold text-lg text-white",children:"AI Recommendations"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ae.map((z,Q)=>i.jsxs(S.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Q*.1},className:"p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-500/30",children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:z.title}),i.jsx("p",{className:"text-sm text-gray-300 mb-3",children:z.subtitle}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-lg font-bold text-yellow-400",children:z.price}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-purple-500 text-white rounded-lg text-sm hover:bg-purple-600 transition-colors",children:"View Details"})]})]},Q))})]}),ji().length>0&&i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(kc,{className:"w-6 h-6 text-blue-400 mr-2"}),i.jsx("h3",{className:"font-bold text-lg text-white",children:"Perfect for Today's Weather"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:ji().map((z,Q)=>i.jsx(S.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Q*.1},className:"px-3 py-1 bg-blue-500/20 text-blue-200 rounded-full text-sm border border-blue-500/30",children:z},Q))})]}),bn.length>0&&ne==="all"&&i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(n0,{className:"w-6 h-6 text-yellow-400 mr-2"}),i.jsx("h3",{className:"font-bold text-lg text-white",children:"Popular Shared Trips"})]}),i.jsx(S.button,{whileHover:{scale:1.05},onClick:()=>ue("popular"),className:"text-sm text-yellow-400 hover:text-yellow-300 transition-colors",children:"View All"})]}),i.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100",children:bn.slice(0,5).map((z,Q)=>i.jsx("div",{className:"min-w-[280px]",children:i.jsx(pp,{trip:z,index:Q,viewMode:"grid",onUse:Ta,onRate:ot,onSave:()=>_i(z.id),isSaved:y.has(z.id),currentUserId:e==null?void 0:e.uid})},z.id))})]}),_t.length>0&&ne==="all"&&i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Jr,{className:"w-6 h-6 text-green-400 mr-2"}),i.jsx("h3",{className:"font-bold text-lg text-white",children:"Trending This Week"})]}),i.jsx(S.button,{whileHover:{scale:1.05},onClick:()=>ue("trending"),className:"text-sm text-green-400 hover:text-green-300 transition-colors",children:"View All"})]}),i.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100",children:_t.slice(0,5).map((z,Q)=>i.jsx("div",{className:"min-w-[280px]",children:i.jsx(pp,{trip:z,index:Q,viewMode:"grid",onUse:Ta,onRate:ot,onSave:()=>_i(z.id),isSaved:y.has(z.id),currentUserId:e==null?void 0:e.uid})},z.id))})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"flex items-center bg-navy/50 rounded-xl p-1",children:[{id:"all",label:"All Trips",icon:kc},{id:"popular",label:"Popular",icon:n0},{id:"trending",label:"Trending",icon:Jr}].map(z=>{const Q=z.icon;return i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ue(z.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${ne===z.id?"bg-yellow-400 text-navy font-semibold":"text-gray-300 hover:text-white"}`,children:[i.jsx(Q,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:z.label})]},z.id)})}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[i.jsx(Jt,{className:"w-4 h-4"}),i.jsxs("span",{children:[et.length," trips available"]})]})]}),i.jsx(zI,{categories:X,activeFilter:r,setActiveFilter:a}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 min-w-0",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-300 flex-shrink-0",children:[et.length," shared trips found"]}),et.length>0&&i.jsxs("span",{className:"text-xs sm:text-sm text-gray-400 truncate",children:["Showing ",Math.min(w*Be,et.length)," of ",et.length]})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsx("div",{className:"sm:hidden",children:i.jsx(s0,{viewMode:C,setViewMode:R})}),i.jsx(HI,{sortBy:O,setSortBy:E,options:fe})]})]}),et.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:C==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6":"space-y-4 sm:space-y-6",children:uu.map((z,Q)=>i.jsx(pp,{trip:z,index:Q,viewMode:C,onUse:Ta,onRate:ot,onSave:()=>_i(z.id),isSaved:y.has(z.id),currentUserId:e==null?void 0:e.uid},z.id))}),Yf&&i.jsx(S.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center mt-8 sm:mt-12",children:i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:cu,className:"px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-sm sm:text-base bg-yellow-400 text-navy hover:opacity-90 transition-opacity",children:"Load More Trips"})})]}):i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 sm:py-16",children:[i.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center bg-navy/50",children:i.jsx(Os,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-400"})}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4 text-white",children:"No shared trips found"}),i.jsx("p",{className:"text-base sm:text-lg mb-4 sm:mb-6 text-gray-300 px-4",children:"Try adjusting your search or filters, or be the first to share a trip!"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ti,className:"px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-semibold text-sm sm:text-base bg-yellow-400 text-navy hover:opacity-90 transition-opacity",children:"Clear All Filters"}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("/trip-planner"),className:"px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-semibold text-sm sm:text-base bg-blue-500 text-white hover:bg-blue-600 transition-colors flex items-center gap-2",children:[i.jsx(Ac,{className:"w-4 h-4"}),i.jsx("span",{children:"Create & Share Trip"})]})]})]})]}),i.jsxs("div",{className:"lg:col-span-3 min-w-0",children:[i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"mb-6 sm:mb-8",children:[i.jsx("h3",{className:"font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-white truncate",children:"Smart Filters"}),i.jsxs("div",{className:"p-4 sm:p-6 rounded-xl bg-navy/50 backdrop-blur-sm space-y-4",children:[A&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold mb-2 text-white",children:"Weather-based Suggestions"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:ji().slice(0,4).map((z,Q)=>i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ws(z),className:"p-2 text-xs bg-blue-500/20 text-blue-200 rounded-lg hover:bg-blue-500/30 transition-colors",children:z},Q))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold mb-2 text-white",children:"Price Range"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"number",placeholder:"Min",className:"flex-1 p-2 rounded-lg border-0 text-sm bg-navy/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 min-w-0",onChange:z=>{var Pe;const Q=parseInt(z.target.value)||0,we=((Pe=j.priceRange)==null?void 0:Pe[1])||1e5;_(We=>({...We,priceRange:[Q,we]}))}}),i.jsx("input",{type:"number",placeholder:"Max",className:"flex-1 p-2 rounded-lg border-0 text-sm bg-navy/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 min-w-0",onChange:z=>{var Pe;const Q=parseInt(z.target.value)||1e5,we=((Pe=j.priceRange)==null?void 0:Pe[0])||0;_(We=>({...We,priceRange:[we,Q]}))}})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold mb-2 text-white",children:"Minimum Rating"}),i.jsx("div",{className:"flex space-x-2",children:[4,4.5,5].map(z=>i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(Q=>({...Q,rating:z})),className:`flex-1 px-2 py-2 rounded-lg border text-sm ${j.rating===z?"bg-yellow-400 border-yellow-400 text-navy":"border-gray-600 text-white hover:border-yellow-400"} transition-colors`,children:[z,"+"]},z))})]}),D&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold mb-2 text-white",children:"Distance from You"}),i.jsx("div",{className:"flex space-x-2",children:["10km","50km","100km","Any"].map(z=>i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(Q=>({...Q,distance:z})),className:`flex-1 px-2 py-2 rounded-lg border text-xs ${j.distance===z?"bg-green-400 border-green-400 text-navy":"border-gray-600 text-white hover:border-green-400"} transition-colors`,children:z},z))})]})]})]}),i.jsx(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"mb-6 sm:mb-8",children:i.jsxs("div",{className:"p-4 sm:p-6 rounded-xl bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm border border-purple-500/30",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(sj,{className:"w-6 h-6 text-purple-400 mr-2"}),i.jsx("h3",{className:"font-bold text-lg text-white",children:"AI Travel Assistant"})]}),i.jsx("p",{className:"text-sm mb-4 text-gray-300",children:"Get personalized recommendations based on your preferences and current location"}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{Y(!0);try{const Q=await d0({location:se,budget:"moderate",interests:["culture","nature","adventure"],duration:"3-5 days"});Q&&Q.trip&&pe([Q.trip])}catch(z){console.error("Error generating AI recommendations:",z)}finally{Y(!1)}},disabled:q,className:`w-full px-4 py-2 rounded-lg font-semibold text-sm ${q?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600"} transition-all flex items-center justify-center space-x-2`,children:[q?i.jsx(VI,{className:"w-4 h-4 animate-spin"}):i.jsx(us,{className:"w-4 h-4"}),i.jsx("span",{children:q?"Generating...":"Get AI Suggestions"})]})]})}),i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"mb-6 sm:mb-8",children:[i.jsx("h3",{className:"font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-white truncate",children:"Smart Travel Tips"}),i.jsx("div",{className:"p-4 sm:p-6 rounded-xl bg-navy/50 backdrop-blur-sm space-y-4",children:[{icon:$t,title:"Best Time to Book",desc:"Book 6-8 weeks in advance for best deals",color:"bg-blue-500",tip:A?`Perfect weather for ${A.condition.toLowerCase()}`:"Check weather forecasts"},{icon:Fe,title:"Local Insights",desc:D?`${(Nn==null?void 0:Nn.length)||0} attractions near you`:"Enable location for personalized tips",color:"bg-green-500",tip:se?`Currently in ${se}`:"Location services disabled"},{icon:yn,title:"Group Benefits",desc:"Travel with 4+ people for group rates",color:"bg-purple-500",tip:"Save 15-25% with group bookings"}].map((z,Q)=>{const we=z.icon;return i.jsxs(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*Q},className:"flex items-start space-x-3",children:[i.jsx(S.div,{whileHover:{scale:1.1},className:`w-6 h-6 sm:w-8 sm:h-8 ${z.color} rounded-full flex items-center justify-center flex-shrink-0`,children:i.jsx(we,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-semibold text-sm sm:text-base text-white truncate",children:z.title}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:z.desc}),i.jsxs("p",{className:"text-xs text-blue-300 mt-1 leading-relaxed",children:["💡 ",z.tip]})]})]},Q)})})]}),i.jsx(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"mb-6 sm:mb-8",children:i.jsxs("div",{className:"p-4 sm:p-6 rounded-xl bg-gradient-to-r from-yellow-400 to-orange-400",children:[i.jsx("h3",{className:"font-bold text-lg sm:text-xl mb-2 text-navy truncate",children:"Stay Updated"}),i.jsxs("p",{className:"text-sm mb-4 text-navy",children:["Get weather alerts, AI recommendations, and exclusive deals for ",se||"your area"]}),i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[i.jsx("input",{type:"email",placeholder:"Your email",className:"flex-1 p-2 rounded-lg border-0 text-sm bg-navy/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 min-w-0"}),i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg font-semibold text-sm bg-navy text-white hover:opacity-90 transition-opacity flex-shrink-0 flex items-center space-x-2",children:[i.jsx(us,{className:"w-4 h-4"}),i.jsx("span",{children:"Subscribe"})]})]}),A&&i.jsx("div",{className:"mt-3 p-2 bg-navy/20 rounded-lg",children:i.jsxs("p",{className:"text-xs text-navy",children:["🌤️ Current: ",A.temperature," • ",A.condition]})})]})})]})]})]}),i.jsx(Lx,{isOpen:o,onClose:()=>l(!1),onSearch:ws}),i.jsx(BI,{isOpen:c,onClose:()=>u(!1),onApplyFilters:Tt,currentFilters:j}),i.jsx(gr,{cartCount:2})]})},AH=()=>{var x,C,R,O;const t=mt(),e=Yn(),{isDark:n}=ye(),[s,r]=T.useState("overview"),[a,o]=T.useState(!1),[l,c]=T.useState(3),[u,h]=T.useState(!1),[f,m]=T.useState(!1),{user:p}=jt(),y=(x=e.state)==null?void 0:x.trip,N=(C=e.state)==null?void 0:C.included,j=(y==null?void 0:y.id)&&(y==null?void 0:y.createdAt),_="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",b=[{id:"overview",label:"Overview"},{id:"itinerary",label:"Itinerary"},{id:"included",label:"What's Included"}];return y?f?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-navy via-gray-900 to-blue-900",children:i.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[i.jsx(Qn,{size:"xl"}),i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 space-y-4",children:[i.jsx("h2",{className:`text-2xl font-bold ${n?"text-yellow-400":"text-navy"}`,children:"Booking your trip..."}),i.jsx("p",{className:`text-lg ${n?"text-gray-300":"text-gray-600"}`,children:"Please wait while we confirm your booking and prepare your itinerary."})]})]})}):i.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-navy via-gray-900 to-blue-900",children:[i.jsx(xs,{onSearchOpen:()=>{},onNotificationOpen:()=>{},notificationCount:l,cartCount:2}),i.jsx("div",{className:`max-w-7xl mx-auto w-full px-6 pt-6 pb-2 text-sm ${n?"text-gray-400":"text-gray-500"}`,children:i.jsxs("nav",{className:"flex items-center space-x-2","aria-label":"Breadcrumb",children:[i.jsx("button",{onClick:()=>t("/"),className:`${n?"hover:underline text-yellow-400":"hover:underline text-blue-600"}`,children:"Home"}),i.jsx("span",{children:"/"}),i.jsx("button",{onClick:()=>t(-1),className:`${n?"hover:underline text-yellow-400":"hover:underline text-blue-600"}`,children:"Trips"}),i.jsx("span",{children:"/"}),i.jsx("span",{className:`${n?"text-yellow-400":"text-navy"} font-semibold`,children:y.tripName||y.title})]})}),i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:u||!y.image?_:y.image,alt:y.tripName||y.title,className:"w-full h-80 object-cover object-center",onError:()=>h(!0)}),i.jsx("div",{className:`absolute inset-0 ${n?"bg-gradient-to-t from-navy/90 via-navy/60 to-transparent":"bg-gradient-to-t from-black/70 to-transparent"}`}),i.jsxs("div",{className:"absolute bottom-0 left-0 w-full px-8 py-6 flex flex-col md:flex-row md:items-end md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`text-3xl md:text-4xl font-bold mb-2 drop-shadow ${n?"text-yellow-400":"text-white"}`,children:y.tripName||y.title}),i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx(Fe,{className:"w-5 h-5 text-yellow-400"}),i.jsx("span",{className:"text-lg font-medium drop-shadow text-white",children:y.location})]}),i.jsx("p",{className:`text-lg drop-shadow ${n?"text-gray-200":"text-white/90"}`,children:y.subtitle})]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[i.jsxs("div",{className:`flex items-center space-x-2 ${n?"bg-navy/70":"bg-white/20"} backdrop-blur-sm px-3 py-2 rounded-lg`,children:[i.jsx($t,{className:`w-5 h-5 ${n?"text-yellow-400":"text-white"}`}),i.jsxs("span",{className:`font-semibold ${n?"text-yellow-400":"text-white"}`,children:[y.days," days"]})]}),i.jsxs("div",{className:`flex items-center space-x-2 ${n?"bg-navy/70":"bg-white/20"} backdrop-blur-sm px-3 py-2 rounded-lg`,children:[i.jsx(yn,{className:`w-5 h-5 ${n?"text-yellow-400":"text-white"}`}),i.jsxs("span",{className:`font-semibold ${n?"text-yellow-400":"text-white"}`,children:[y.people," people"]})]})]})]})]}),i.jsxs("div",{className:"max-w-7xl mx-auto w-full px-6 py-12 flex flex-col md:flex-row gap-12",children:[i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsx("div",{className:`border-b ${n?"border-navy":"border-gray-200"} mb-8`,children:i.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:b.map(E=>i.jsx("button",{onClick:()=>r(E.id),className:`whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-lg transition-all ${s===E.id?n?"border-yellow-400 text-yellow-400":"border-blue-600 text-blue-600":n?"border-transparent text-gray-400 hover:text-yellow-400 hover:border-yellow-400/60":"border-transparent text-gray-500 hover:text-blue-600 hover:border-blue-300"}`,children:E.label},E.id))})}),i.jsxs("div",{className:`${n?"bg-navy/70 text-white":"bg-white"} rounded-xl shadow p-8 mb-8`,children:[s==="overview"&&i.jsxs("div",{children:[i.jsx("h2",{className:`text-2xl font-bold mb-4 ${n?"text-yellow-400":"text-navy"}`,children:"Highlights"}),i.jsx("ul",{className:`list-disc pl-6 space-y-2 text-lg ${n?"text-gray-200":"text-gray-700"}`,children:(R=y.highlights)==null?void 0:R.map((E,w)=>i.jsx("li",{children:E},w))})]}),s==="itinerary"&&i.jsxs("div",{children:[i.jsx("h2",{className:`text-2xl font-bold mb-4 ${n?"text-yellow-400":"text-navy"}`,children:"Itinerary"}),i.jsx("div",{className:"space-y-8",children:(O=y.itinerary)==null?void 0:O.map((E,w)=>{var k;return i.jsxs("div",{className:`${n?"bg-navy/50 border-l-4 border-yellow-400":"bg-blue-50 border-l-4 border-blue-600"} p-6 rounded-xl`,children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[i.jsxs("span",{className:`text-xl font-bold ${n?"text-yellow-400":"text-blue-600"}`,children:["Day ",E.day]}),i.jsx("span",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:E.title})]}),i.jsx("ul",{className:`list-disc pl-6 space-y-1 text-base ${n?"text-gray-200":"text-gray-700"}`,children:(k=E.activities)==null?void 0:k.map((A,$)=>i.jsx("li",{children:A},$))})]},w)})})]}),s==="included"&&i.jsxs("div",{children:[i.jsx("h2",{className:`text-2xl font-bold mb-4 ${n?"text-yellow-400":"text-navy"}`,children:"What's Included"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N==null?void 0:N.map((E,w)=>i.jsxs("div",{className:`${n?"bg-navy/50":"bg-blue-50"} flex items-start space-x-4 p-4 rounded-xl`,children:[i.jsx("span",{className:"text-2xl",children:E.icon}),i.jsxs("div",{children:[i.jsx("div",{className:`font-semibold ${n?"text-yellow-400":"text-navy"}`,children:E.label}),i.jsx("div",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:E.description})]})]},w))})]})]})]}),i.jsxs("aside",{className:"w-full md:w-1/3 flex flex-col gap-8",children:[i.jsxs("div",{className:`${n?"bg-navy/70 text-white":"bg-white"} rounded-xl shadow p-8 mb-4`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:`text-xl font-bold ${n?"text-yellow-400":"text-navy"}`,children:"Trip Summary"}),i.jsx("button",{onClick:()=>o(!a),className:`p-2 rounded-full border ${a?n?"border-red-400 bg-red-900/30":"border-red-400 bg-red-50":n?"border-gray-600 bg-navy/50":"border-gray-200 bg-gray-50"} transition-all`,"aria-label":"Save trip",children:i.jsx(en,{className:`w-6 h-6 ${a?"text-red-500 fill-current":n?"text-yellow-400":"text-gray-400"}`})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-500"}`,children:"Price:"}),i.jsx("span",{className:`font-semibold ${n?"text-yellow-400":"text-blue-600"} text-lg`,children:y.price})]}),y.originalPrice&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-500"}`,children:"Original:"}),i.jsx("span",{className:"line-through text-gray-400",children:y.originalPrice})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-500"}`,children:"Duration:"}),i.jsxs("span",{className:`font-semibold ${n?"text-yellow-400":"text-navy"}`,children:[y.days," days"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-500"}`,children:"People:"}),i.jsx("span",{className:`font-semibold ${n?"text-yellow-400":"text-navy"}`,children:y.people})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-500"}`,children:"Rating:"}),i.jsxs("span",{className:`font-semibold ${n?"text-yellow-400":"text-yellow-500"} flex items-center gap-1`,children:[y.rating," ",i.jsx(Qe,{className:"w-4 h-4 inline"})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-500"}`,children:"Reviews:"}),i.jsx("span",{className:`font-semibold ${n?"text-yellow-400":"text-navy"}`,children:y.reviews})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[j?i.jsx("button",{className:`flex-1 px-6 py-3 rounded-lg font-semibold text-lg transition-all shadow ${n?"bg-green-500 text-white hover:bg-green-600":"bg-green-600 text-white hover:bg-green-700"}`,onClick:()=>t("/mybookings",{state:{tripName:y.tripName}}),children:"View in My Bookings"}):i.jsx("button",{className:`flex-1 px-6 py-3 rounded-lg font-semibold text-lg transition-all shadow ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,onClick:async()=>{m(!0);try{await zM(p.uid,{...y,tripName:y.tripName||y.title,createdAt:new Date}),setTimeout(()=>{t("/mybookings",{state:{tripName:y.tripName||y.title}})},1800)}catch(E){m(!1),alert("Booking failed: "+(E.message||E))}},children:"Book Now"}),i.jsx("button",{className:`p-2 rounded-full border ml-2 ${n?"border-gray-600 bg-navy/50":"border-gray-200 bg-gray-50"}`,"aria-label":"Share trip",children:i.jsx(p7,{className:`w-6 h-6 ${n?"text-yellow-400":"text-gray-500"}`})})]})]}),i.jsxs("div",{className:`${n?"bg-navy/70 text-white":"bg-white"} rounded-xl shadow p-6`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${n?"text-yellow-400":"text-navy"}`,children:"Need Help?"}),i.jsx("p",{className:`text-sm mb-3 ${n?"text-gray-300":"text-gray-600"}`,children:"Contact our travel experts for personalized assistance or questions about this trip."}),i.jsx("a",{href:"mailto:help@sanchari.com",className:`${n?"text-yellow-400":"text-blue-600"} font-semibold hover:underline`,children:"help@sanchari.com"})]})]})]}),i.jsx("footer",{className:`${n?"bg-navy text-yellow-400":"bg-navy text-white"} w-full py-8 mt-auto`,children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"text-sm",children:["© ",new Date().getFullYear()," Sanchari. All rights reserved."]}),i.jsxs("div",{className:"flex gap-6 text-sm",children:[i.jsx("a",{href:"#",className:"hover:underline",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"hover:underline",children:"Terms of Service"}),i.jsx("a",{href:"#",className:"hover:underline",children:"Contact"})]})]})})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-navy",children:"No trip data found"}),i.jsx("button",{onClick:()=>t(-1),className:"mt-4 px-6 py-3 rounded-xl font-semibold bg-blue-600 text-white",children:"Go Back"})]})})},PH=()=>{var ge,re,q,Y;const{tripId:t}=WP(),e=mt(),n=Yn(),{isDark:s}=ye(),{user:r}=jt(),[a,o]=T.useState(((ge=n.state)==null?void 0:ge.trip)||null),[l,c]=T.useState(!a),[u,h]=T.useState(!1),[f,m]=T.useState(!1),[p,y]=T.useState(0),[N,j]=T.useState(""),[_,b]=T.useState("overview"),[x,C]=T.useState(!1),{useTrip:R,rateTrip:O,loading:E}=v4(),{sharedTrips:w}=x4({});T.useEffect(()=>{if(!a&&t&&w.length>0){const M=w.find(H=>H.id===t);M&&(o(M),c(!1))}},[a,t,w]),T.useEffect(()=>{(async()=>{if(r!=null&&r.uid&&(a!=null&&a.id))try{const H=await ua(r.uid);if(H.success){const se=new Set(H.data.map(xe=>xe.itemId));h(se.has(a.id))}}catch(H){console.error("Error checking saved status:",H)}})()},[r==null?void 0:r.uid,a==null?void 0:a.id]);const k=async()=>{if(!(r!=null&&r.uid)){e("/login");return}try{if(u){const M=await ua(r.uid);if(M.success){const H=M.data.find(se=>se.itemId===a.id);H&&(await cx(H.id),h(!1))}}else{const M={itemId:a.id,itemType:"SharedTrip",title:a.name,subtitle:a.location,price:a.minBudget?`₹${a.minBudget} - ₹${a.maxBudget}`:"Varies",image:a.image,description:a.description,rating:a.averageRating,savedDate:new Date};(await lx(r.uid,M)).success&&h(!0)}}catch(M){console.error("Error saving trip:",M)}},A=async()=>{if(!(r!=null&&r.uid)){e("/login");return}try{(await R(a.id,r.uid)).success&&e("/trip-planner",{state:{sharedTrip:a,mode:"customize"}})}catch(M){console.error("Error using trip:",M)}},$=async()=>{if(!(r!=null&&r.uid)){e("/login");return}if(p>0)try{const M=await O(a.id,r.uid,p,N);if(M.success){m(!1),y(0),j("");const H={...a,averageRating:M.newRating};o(H)}}catch(M){console.error("Error rating trip:",M)}},D=(M,H)=>!M&&!H?"Budget varies":M?H?`₹${M==null?void 0:M.toLocaleString()} - ₹${H==null?void 0:H.toLocaleString()}`:`From ₹${M==null?void 0:M.toLocaleString()}`:`Up to ₹${H==null?void 0:H.toLocaleString()}`,P=M=>{const H={solo:{label:"Solo Travel",icon:dn,color:"bg-purple-500"},couple:{label:"Couple",icon:yn,color:"bg-pink-500"},family:{label:"Family",icon:yn,color:"bg-blue-500"},friends:{label:"Friends",icon:yn,color:"bg-green-500"},group:{label:"Group",icon:v7,color:"bg-orange-500"}};return H[M]||H.solo},ae="bg-gradient-to-br from-navy via-gray-900 to-blue-900";if(l)return i.jsx("div",{className:`min-h-screen ${ae} flex items-center justify-center`,children:i.jsx(Qn,{size:"xl",text:"Loading trip details..."})});if(!a)return i.jsx("div",{className:`min-h-screen ${ae} flex items-center justify-center`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Trip Not Found"}),i.jsx("p",{className:"text-gray-300 mb-6",children:"The trip you're looking for doesn't exist or has been removed."}),i.jsx("button",{onClick:()=>e("/explore"),className:"px-6 py-3 bg-yellow-400 text-navy rounded-xl font-semibold hover:bg-yellow-500 transition-colors",children:"Back to Explore"})]})});const pe=P(a.companion);return i.jsxs("div",{className:`min-h-screen ${ae} pb-20 md:pb-0`,children:[i.jsx(xs,{}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[i.jsx(Ph,{className:"w-5 h-5"}),i.jsx("span",{children:"Back"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:k,className:"p-3 rounded-full bg-navy/50 hover:bg-navy/70 transition-colors",children:i.jsx(en,{className:`w-6 h-6 ${u?"fill-red-500 text-red-500":"text-gray-300"}`})}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 rounded-full bg-navy/50 hover:bg-navy/70 transition-colors",children:i.jsx(Ac,{className:"w-6 h-6 text-gray-300"})}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 rounded-full bg-navy/50 hover:bg-navy/70 transition-colors",children:i.jsx(i7,{className:"w-6 h-6 text-gray-300"})})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl mb-6",children:[i.jsx("img",{src:a.image,alt:a.name,className:"w-full h-64 md:h-80 object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:`p-2 rounded-full ${pe.color}`,children:i.jsx(pe.icon,{className:"w-5 h-5 text-white"})}),i.jsx("span",{className:"px-3 py-1 bg-black/50 text-white rounded-full text-sm",children:pe.label}),a.category&&i.jsx("span",{className:"px-3 py-1 bg-yellow-400/20 text-yellow-300 rounded-full text-sm",children:a.category})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:a.name}),i.jsxs("div",{className:"flex items-center gap-4 text-white/90",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fe,{className:"w-4 h-4"}),i.jsx("span",{children:a.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($t,{className:"w-4 h-4"}),i.jsxs("span",{children:[a.duration," days"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-navy/50 rounded-xl p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Qe,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),i.jsx("span",{className:"text-xl font-bold text-white",children:((re=a.averageRating)==null?void 0:re.toFixed(1))||0})]}),i.jsxs("p",{className:"text-sm text-gray-300",children:[a.totalRatings||0," ratings"]})]}),i.jsxs("div",{className:"bg-navy/50 rounded-xl p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Jt,{className:"w-5 h-5 text-blue-400"}),i.jsx("span",{className:"text-xl font-bold text-white",children:a.usageCount||0})]}),i.jsx("p",{className:"text-sm text-gray-300",children:"times used"})]}),i.jsxs("div",{className:"bg-navy/50 rounded-xl p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(ss,{className:"w-5 h-5 text-green-400"}),i.jsx("span",{className:"text-lg font-bold text-white",children:D(a.minBudget,a.maxBudget)})]}),i.jsx("p",{className:"text-sm text-gray-300",children:"budget range"})]}),i.jsxs("div",{className:"bg-navy/50 rounded-xl p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Un,{className:"w-5 h-5 text-purple-400"}),i.jsx("span",{className:"text-xl font-bold text-white",children:a.duration||0})]}),i.jsx("p",{className:"text-sm text-gray-300",children:"days"})]})]})]}),i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:i.jsx("div",{className:"flex items-center bg-navy/50 rounded-xl p-1",children:[{id:"overview",label:"Overview",icon:kc},{id:"itinerary",label:"Itinerary",icon:h7},{id:"reviews",label:"Reviews",icon:e0},{id:"creator",label:"Creator",icon:dn}].map(M=>{const H=M.icon;return i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(M.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg transition-all flex-1 justify-center ${_===M.id?"bg-yellow-400 text-navy font-semibold":"text-gray-300 hover:text-white"}`,children:[i.jsx(H,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:M.label})]},M.id)})})}),i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[_==="overview"&&i.jsxs("div",{className:"bg-navy/50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Trip Overview"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:"Description"}),i.jsxs("p",{className:"text-gray-300 leading-relaxed",children:[x?a.description:`${(q=a.description)==null?void 0:q.substring(0,300)}...`,((Y=a.description)==null?void 0:Y.length)>300&&i.jsx("button",{onClick:()=>C(!x),className:"text-blue-400 ml-2 hover:text-blue-300",children:x?"Show less":"Show more"})]})]}),a.tags&&a.tags.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((M,H)=>i.jsxs("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:["#",M]},H))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:"Best For"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm",children:pe.label}),a.category&&i.jsxs("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:[a.category," Travel"]})]})]})]})]}),_==="itinerary"&&i.jsxs("div",{className:"bg-navy/50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Trip Itinerary"}),i.jsx("div",{className:"space-y-6",children:a.itinerary&&a.itinerary.length>0?a.itinerary.map((M,H)=>{var se,xe,Be,ze;return i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex-shrink-0 relative",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full flex items-center justify-center font-bold text-navy",children:H+1}),H<a.itinerary.length-1&&i.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 w-0.5 h-16 bg-gradient-to-b from-yellow-400 to-transparent"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs("h4",{className:"text-xl font-bold text-white",children:["Day ",H+1]}),i.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:M.date||`Day ${H+1}`})]}),i.jsxs("div",{className:"space-y-4",children:[(se=M.activities)==null?void 0:se.map((_e,Ze)=>i.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx(Un,{className:"w-4 h-4 text-blue-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-blue-300 font-semibold text-sm",children:_e.time||`${8+Ze*2}:00 AM`}),i.jsx("span",{className:"text-gray-400",children:"•"}),i.jsx("span",{className:"text-gray-300 text-sm",children:_e.duration||"2-3 hours"})]}),i.jsx("h5",{className:"font-semibold text-white mb-1",children:_e.title||_e.name||_e}),i.jsx("p",{className:"text-gray-300 text-sm mb-2",children:_e.description||`Experience ${_e.title||_e.name||_e} with guided tours and local insights.`}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fe,{className:"w-3 h-3"}),i.jsx("span",{children:_e.location||"Location included"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ss,{className:"w-3 h-3"}),i.jsx("span",{children:_e.cost||"Included"})]})]})]})]})},Ze)),i.jsxs("div",{className:"bg-green-500/10 rounded-lg p-4 border border-green-500/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Dh,{className:"w-5 h-5 text-green-400"}),i.jsx("h5",{className:"font-semibold text-white",children:"Meals"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[i.jsxs("div",{className:"text-gray-300",children:[i.jsx("span",{className:"text-green-300 font-medium",children:"Breakfast:"})," ",((xe=M.meals)==null?void 0:xe.breakfast)||"Local cuisine"]}),i.jsxs("div",{className:"text-gray-300",children:[i.jsx("span",{className:"text-green-300 font-medium",children:"Lunch:"})," ",((Be=M.meals)==null?void 0:Be.lunch)||"Traditional dishes"]}),i.jsxs("div",{className:"text-gray-300",children:[i.jsx("span",{className:"text-green-300 font-medium",children:"Dinner:"})," ",((ze=M.meals)==null?void 0:ze.dinner)||"Regional specialties"]})]})]}),i.jsxs("div",{className:"bg-purple-500/10 rounded-lg p-4 border border-purple-500/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Rh,{className:"w-5 h-5 text-purple-400"}),i.jsx("h5",{className:"font-semibold text-white",children:"Accommodation"})]}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("span",{className:"text-purple-300 font-medium",children:"Stay:"})," ",M.accommodation||"Comfortable hotel/resort with modern amenities"]})]}),M.transportation&&i.jsxs("div",{className:"bg-orange-500/10 rounded-lg p-4 border border-orange-500/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(rj,{className:"w-5 h-5 text-orange-400"}),i.jsx("h5",{className:"font-semibold text-white",children:"Transportation"})]}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("span",{className:"text-orange-300 font-medium",children:"Transport:"})," ",M.transportation]})]})]})]})]})},H)}):i.jsxs("div",{className:"space-y-6",children:[Array.from({length:a.duration||3},(M,H)=>{var se;return i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex-shrink-0 relative",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full flex items-center justify-center font-bold text-navy",children:H+1}),H<(a.duration||3)-1&&i.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 w-0.5 h-16 bg-gradient-to-b from-yellow-400 to-transparent"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs("h4",{className:"text-xl font-bold text-white",children:["Day ",H+1]}),i.jsxs("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:["Day ",H+1]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx(Un,{className:"w-4 h-4 text-blue-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-blue-300 font-semibold text-sm",children:"9:00 AM"}),i.jsx("span",{className:"text-gray-400",children:"•"}),i.jsx("span",{className:"text-gray-300 text-sm",children:"3 hours"})]}),i.jsx("h5",{className:"font-semibold text-white mb-1",children:H===0?"Arrival & Check-in":`Explore ${a.location} - Morning`}),i.jsx("p",{className:"text-gray-300 text-sm mb-2",children:H===0?"Welcome to your destination! Check into your accommodation and get oriented with the local area.":`Discover the beauty of ${a.location} with guided tours and local experiences.`}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fe,{className:"w-3 h-3"}),i.jsx("span",{children:a.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ss,{className:"w-3 h-3"}),i.jsx("span",{children:"Included"})]})]})]})]})}),i.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx(Un,{className:"w-4 h-4 text-blue-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-blue-300 font-semibold text-sm",children:"2:00 PM"}),i.jsx("span",{className:"text-gray-400",children:"•"}),i.jsx("span",{className:"text-gray-300 text-sm",children:"2-3 hours"})]}),i.jsx("h5",{className:"font-semibold text-white mb-1",children:a.category==="Adventure"?"Adventure Activities":a.category==="Cultural"?"Cultural Exploration":a.category==="Nature"?"Nature Walk":"Sightseeing Tour"}),i.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Experience the best of ",(se=a.category)==null?void 0:se.toLowerCase()," activities with expert guides and local insights."]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fe,{className:"w-3 h-3"}),i.jsx("span",{children:"Various locations"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ss,{className:"w-3 h-3"}),i.jsx("span",{children:"Included"})]})]})]})]})}),i.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx(Un,{className:"w-4 h-4 text-blue-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-blue-300 font-semibold text-sm",children:"6:00 PM"}),i.jsx("span",{className:"text-gray-400",children:"•"}),i.jsx("span",{className:"text-gray-300 text-sm",children:"2 hours"})]}),i.jsx("h5",{className:"font-semibold text-white mb-1",children:H===(a.duration||3)-1?"Farewell Dinner":"Evening Relaxation"}),i.jsx("p",{className:"text-gray-300 text-sm mb-2",children:H===(a.duration||3)-1?"Enjoy a memorable farewell dinner with local cuisine and cultural performances.":"Unwind with local entertainment, shopping, or peaceful evening activities."}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fe,{className:"w-3 h-3"}),i.jsx("span",{children:"Hotel/Local area"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ss,{className:"w-3 h-3"}),i.jsx("span",{children:"Included"})]})]})]})]})}),i.jsxs("div",{className:"bg-green-500/10 rounded-lg p-4 border border-green-500/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Dh,{className:"w-5 h-5 text-green-400"}),i.jsx("h5",{className:"font-semibold text-white",children:"Meals"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[i.jsxs("div",{className:"text-gray-300",children:[i.jsx("span",{className:"text-green-300 font-medium",children:"Breakfast:"})," Continental buffet"]}),i.jsxs("div",{className:"text-gray-300",children:[i.jsx("span",{className:"text-green-300 font-medium",children:"Lunch:"})," Local cuisine"]}),i.jsxs("div",{className:"text-gray-300",children:[i.jsx("span",{className:"text-green-300 font-medium",children:"Dinner:"})," Traditional dishes"]})]})]}),i.jsxs("div",{className:"bg-purple-500/10 rounded-lg p-4 border border-purple-500/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Rh,{className:"w-5 h-5 text-purple-400"}),i.jsx("h5",{className:"font-semibold text-white",children:"Accommodation"})]}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("span",{className:"text-purple-300 font-medium",children:"Stay:"}),H===(a.duration||3)-1?" Check-out and departure assistance":" Comfortable hotel with modern amenities and local charm"]})]}),i.jsxs("div",{className:"bg-orange-500/10 rounded-lg p-4 border border-orange-500/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(rj,{className:"w-5 h-5 text-orange-400"}),i.jsx("h5",{className:"font-semibold text-white",children:"Transportation"})]}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("span",{className:"text-orange-300 font-medium",children:"Transport:"}),H===0?" Airport pickup and transfer to hotel":H===(a.duration||3)-1?" Hotel to airport departure transfer":" Private vehicle with driver for sightseeing"]})]})]})]})]})},H)}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl p-6 border border-blue-500/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(us,{className:"w-6 h-6 text-yellow-400"}),i.jsx("h3",{className:"text-lg font-bold text-white",children:"What's Included"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(Ts,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{children:"Professional guide services"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(Ts,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{children:"All accommodation as per itinerary"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(Ts,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{children:"Transportation between destinations"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(Ts,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{children:"Entry fees to attractions"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(Ts,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{children:"Meals as specified in itinerary"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(Ts,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{children:"24/7 customer support"})]})]})]})]})})]}),_==="reviews"&&i.jsxs("div",{className:"bg-navy/50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Reviews & Ratings"}),i.jsx("div",{className:"space-y-4",children:a.reviews&&a.reviews.length>0?a.reviews.map((M,H)=>i.jsxs("div",{className:"border-b border-gray-600 pb-4 last:border-b-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:i.jsx(dn,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:M.userName}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((se,xe)=>i.jsx(Qe,{className:`w-4 h-4 ${xe<M.rating?"text-yellow-400 fill-yellow-400":"text-gray-400"}`},xe))}),i.jsx("span",{className:"text-sm text-gray-400",children:M.date})]})]})]}),i.jsx("p",{className:"text-gray-300 text-sm",children:M.comment})]},H)):i.jsx("p",{className:"text-gray-400",children:"No reviews yet. Be the first to review this trip!"})})]}),_==="creator"&&i.jsxs("div",{className:"bg-navy/50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Trip Creator"}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:i.jsx(dn,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white",children:a.creatorName||"Travel Enthusiast"}),i.jsx("p",{className:"text-gray-300 text-sm",children:a.creatorBio||"Passionate about exploring new places"}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsxs("span",{className:"text-sm text-gray-400",children:[a.creatorTripsCount||1," trips shared"]}),i.jsxs("span",{className:"text-sm text-gray-400",children:[a.creatorRating||4.5,"⭐ rating"]})]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"View Profile"}),i.jsx("button",{className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Message"})]})]})]},_)]}),i.jsxs("div",{className:"lg:col-span-1",children:[i.jsx(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-6 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(us,{className:"w-12 h-12 text-navy mx-auto mb-3"}),i.jsx("h3",{className:"text-xl font-bold text-navy mb-2",children:"Use This Plan for Better Experience"}),i.jsx("p",{className:"text-navy/80 text-sm mb-4",children:"Get this amazing travel plan and customize it according to your preferences for a perfect trip to new areas."}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,disabled:E,className:"w-full px-6 py-3 bg-navy text-white rounded-xl font-semibold hover:bg-navy/90 transition-colors disabled:opacity-50",children:E?"Processing...":"Use This Plan"})]})}),i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-navy/50 rounded-xl p-6 mb-6",children:[i.jsx("h3",{className:"font-bold text-white mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center gap-3 p-3 bg-yellow-500/20 text-yellow-300 rounded-lg hover:bg-yellow-500/30 transition-colors",children:[i.jsx(Qe,{className:"w-5 h-5"}),i.jsx("span",{children:"Rate This Trip"})]}),i.jsxs("button",{onClick:k,className:"w-full flex items-center gap-3 p-3 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:[i.jsx(en,{className:`w-5 h-5 ${u?"fill-current":""}`}),i.jsx("span",{children:u?"Saved":"Save Trip"})]}),i.jsxs("button",{className:"w-full flex items-center gap-3 p-3 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:[i.jsx(Ac,{className:"w-5 h-5"}),i.jsx("span",{children:"Share Trip"})]}),i.jsxs("button",{className:"w-full flex items-center gap-3 p-3 bg-purple-500/20 text-purple-300 rounded-lg hover:bg-purple-500/30 transition-colors",children:[i.jsx($x,{className:"w-5 h-5"}),i.jsx("span",{children:"Download PDF"})]})]})]}),i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-navy/50 rounded-xl p-6",children:[i.jsx("h3",{className:"font-bold text-white mb-4",children:"Similar Trips"}),i.jsx("div",{className:"space-y-3",children:w.filter(M=>M.id!==a.id&&M.category===a.category).slice(0,3).map((M,H)=>{var se;return i.jsxs(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:H*.1},className:"flex items-center gap-3 p-3 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors cursor-pointer",onClick:()=>e(`/trip-details/${M.id}`,{state:{trip:M}}),children:[i.jsx("img",{src:M.image,alt:M.name,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-white text-sm truncate",children:M.name}),i.jsx("p",{className:"text-gray-400 text-xs truncate",children:M.location}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qe,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),i.jsx("span",{className:"text-xs text-gray-300",children:((se=M.averageRating)==null?void 0:se.toFixed(1))||0})]}),i.jsx("span",{className:"text-xs text-gray-400",children:"•"}),i.jsxs("span",{className:"text-xs text-gray-400",children:[M.duration," days"]})]})]})]},M.id)})})]})]})]})]}),f&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-navy rounded-xl p-6 max-w-md w-full mx-4",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Rate This Trip"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Rating"}),i.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(M=>i.jsx("button",{onClick:()=>y(M),className:`w-8 h-8 ${M<=p?"text-yellow-400 fill-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,children:i.jsx(Qe,{className:"w-full h-full"})},M)),i.jsxs("span",{className:"text-white ml-2",children:[p,"/5"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Comment (optional)"}),i.jsx("textarea",{value:N,onChange:M=>j(M.target.value),className:"w-full p-3 bg-navy/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Share your experience with this trip..."})]}),i.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[i.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:$,disabled:p===0,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Rating"})]})]})]})}),i.jsx(gr,{})]})};function RH(){return null}const DH=()=>{var f,m;const t=mt(),{isDark:e}=ye(),{user:n}=jt(),[s,r]=T.useState(3),[a,o]=T.useState(!1),l=[{label:"Trips",value:"24",icon:Kn,color:"text-blue-500"},{label:"Reviews",value:"156",icon:Qe,color:"text-yellow-500"},{label:"Photos",value:"89",icon:Wl,color:"text-purple-500"},{label:"Countries",value:"12",icon:Fe,color:"text-green-500"}],c=[{icon:$t,title:"My Bookings",subtitle:"View and manage trips",color:"text-orange-500",route:"/bookings"},{icon:en,title:"Favorites",subtitle:"Saved places & activities",color:"text-red-500",route:"/saved"},{icon:au,title:"Payment Methods",subtitle:"Cards & payment options",color:"text-green-500",route:"/settings"},{icon:Ic,title:"Referral Program",subtitle:"Invite friends & earn rewards",color:"text-purple-500"},{icon:So,title:"Achievements",subtitle:"Travel milestones & badges",color:"text-yellow-500"},{icon:rr,title:"Help & Support",subtitle:"Get assistance",color:"text-blue-500",route:"/settings"},{icon:Ox,title:"Settings",subtitle:"Privacy & preferences",color:"text-gray-500",route:"/settings"}],u=[{destination:"Maldives",date:"Dec 2024",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80",status:"Upcoming"},{destination:"Dubai",date:"Oct 2024",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?auto=format&fit=crop&w=400&q=80",status:"Completed"},{destination:"Santorini",date:"Aug 2024",image:"https://images.unsplash.com/photo-1613395877344-13d4a8e0d49e?auto=format&fit=crop&w=400&q=80",status:"Completed"}],h=e?"bg-gradient-to-br from-navy via-gray-900 to-blue-900":"bg-gradient-to-br from-amber-100 via-blue-50 to-purple-100";return i.jsxs("div",{className:`min-h-screen ${h} pb-20 md:pb-0`,children:[i.jsx(xs,{onSearchOpen:()=>{},onNotificationOpen:()=>{},notificationCount:s,cartCount:2}),i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:i.jsx("h1",{className:`text-2xl lg:text-3xl font-bold ${e?"text-white":"text-navy"}`,children:"My Profile"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-8",children:[i.jsx("div",{className:`p-8 rounded-2xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm mb-8`,children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 lg:mb-0",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center",children:n!=null&&n.photoURL?i.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-full h-full rounded-full object-cover"}):i.jsx("span",{className:"text-3xl font-bold text-navy",children:((f=n==null?void 0:n.displayName)==null?void 0:f.charAt(0))||((m=n==null?void 0:n.email)==null?void 0:m.charAt(0))||"U"})}),i.jsx("button",{className:`absolute -bottom-1 -right-1 w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(l7,{className:`w-4 h-4 ${e?"text-navy":"text-white"}`})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:`text-3xl font-bold ${e?"text-white":"text-navy"} mb-2`,children:(n==null?void 0:n.displayName)||"User"}),i.jsx("p",{className:`text-lg ${e?"text-gray-300":"text-gray-600"} mb-2`,children:n==null?void 0:n.email}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Qe,{className:"w-5 h-5 text-yellow-400 fill-current"}),i.jsx("span",{className:`font-semibold ${e?"text-white":"text-navy"}`,children:"4.9 Premium Member"}),i.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-semibold ${e?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:"Elite"})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsx(Un,{className:`w-4 h-4 ${e?"text-gray-400":"text-gray-500"}`}),i.jsxs("span",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["Member since ",n!=null&&n.createdAt?new Date(n.createdAt).getFullYear():"2023"]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:`p-4 rounded-xl ${e?"bg-yellow-400":"bg-blue-600"} text-center`,children:[i.jsx("div",{className:`text-2xl font-bold ${e?"text-navy":"text-white"}`,children:"2,450"}),i.jsx("div",{className:`text-sm font-semibold ${e?"text-navy":"text-white"}`,children:"Travel Points"})]}),i.jsxs("div",{className:`p-4 rounded-xl ${e?"bg-blue-600":"bg-purple-600"} text-center`,children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"3"}),i.jsx("div",{className:"text-sm font-semibold text-yellow-400",children:"Upcoming"})]})]})]})}),i.jsxs("div",{className:`p-6 rounded-2xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm mb-8`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:`font-bold text-xl ${e?"text-white":"text-navy"}`,children:"Account Security"}),i.jsx(fr,{className:`w-6 h-6 ${n!=null&&n.emailVerified?"text-green-500":"text-orange-500"}`})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${n!=null&&n.emailVerified?"bg-green-500":"bg-orange-500"}`}),i.jsxs("span",{className:`text-sm ${e?"text-white":"text-navy"}`,children:["Email ",n!=null&&n.emailVerified?"Verified":"Pending"]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:`text-sm ${e?"text-white":"text-navy"}`,children:"2FA Enabled"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:`text-sm ${e?"text-white":"text-navy"}`,children:"Secure Login"})]})]})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:l.map((p,y)=>{const N=p.icon;return i.jsxs("div",{className:`p-6 rounded-xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm text-center`,children:[i.jsx(N,{className:`w-8 h-8 mx-auto mb-3 ${p.color}`}),i.jsx("div",{className:`text-2xl font-bold ${e?"text-white":"text-navy"}`,children:p.value}),i.jsx("div",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:p.label})]},y)})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:c.map((p,y)=>{const N=p.icon;return i.jsx(S.div,{whileHover:{scale:1.02},onClick:()=>p.route&&t(p.route),className:`p-6 rounded-xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm cursor-pointer`,children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl ${p.color} bg-opacity-20 flex items-center justify-center`,children:i.jsx(N,{className:`w-6 h-6 ${p.color}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-bold ${e?"text-white":"text-navy"}`,children:p.title}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:p.subtitle})]}),i.jsx("div",{className:`w-6 h-6 ${e?"text-gray-400":"text-gray-500"}`,children:"→"})]})},y)})}),i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(!0),className:"w-full py-4 bg-red-500/20 rounded-2xl font-semibold text-red-500 flex items-center justify-center space-x-2 mb-4 border border-red-200",children:[i.jsx(ko,{className:"w-5 h-5"}),i.jsx("span",{children:"Sign Out"})]}),i.jsx("p",{className:`text-center text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Sanchari v2.1.0"})]}),i.jsxs("div",{className:"lg:col-span-4",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-navy"}`,children:"Recent Trips"}),i.jsx("div",{className:"space-y-4",children:u.map((p,y)=>i.jsxs("div",{className:`p-4 rounded-xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm flex items-center space-x-4`,children:[i.jsx("img",{src:p.image,alt:p.destination,className:"w-16 h-16 rounded-xl object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`font-bold ${e?"text-white":"text-navy"}`,children:p.destination}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:p.date}),i.jsx("span",{className:`inline-block px-2 py-1 rounded-lg text-xs font-semibold mt-1 ${p.status==="Upcoming"?"bg-orange-500 text-white":"bg-green-500 text-white"}`,children:p.status})]})]},y))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-navy"}`,children:"Travel Preferences"}),i.jsx("div",{className:`p-6 rounded-xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold mb-2 ${e?"text-white":"text-navy"}`,children:"Favorite Destinations"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Beach","Mountains","Cities"].map(p=>i.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-semibold ${e?"bg-yellow-400 text-navy":"bg-blue-600 text-white"}`,children:p},p))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold mb-2 ${e?"text-white":"text-navy"}`,children:"Travel Style"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Luxury","Adventure","Culture"].map(p=>i.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-semibold ${e?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:p},p))})]})]})})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-navy"}`,children:"Recent Achievements"}),i.jsxs("div",{className:`p-6 rounded-xl ${e?"bg-navy/50":"bg-white/50"} backdrop-blur-sm space-y-4`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center",children:i.jsx(So,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${e?"text-white":"text-navy"}`,children:"Globe Trotter"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Visited 10+ countries"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsx(Qe,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${e?"text-white":"text-navy"}`,children:"Review Master"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"100+ helpful reviews"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center",children:i.jsx(Jr,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${e?"text-white":"text-navy"}`,children:"Elite Member"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Premium status achieved"})]})]})]})]})]})]})]}),i.jsx(gr,{cartCount:2}),i.jsx(UI,{isOpen:a,onClose:()=>o(!1)})]})},$H=()=>{const t=mt(),{isDark:e}=ye(),[n,s]=T.useState(3),[r,a]=T.useState({email:!0,push:!0,sms:!1,marketing:!0}),[o,l]=T.useState(null),[c,u]=T.useState({firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 123-4567",dateOfBirth:"1990-05-15",location:"New York, NY",bio:"Travel enthusiast who loves exploring new cultures and destinations.",profileImage:null}),[h,f]=T.useState({language:"en-US",currency:"USD",region:"US"}),[m,p]=T.useState(!0),y=[{title:"Account",items:[{icon:dn,title:"Personal Information",subtitle:"Name, email, phone number",color:"text-amber-600",action:()=>l("personalInfo")},{icon:au,title:"Payment Methods",subtitle:"Cards, wallets, billing",color:"text-blue-600",action:()=>l("paymentMethods")},{icon:fr,title:"Privacy & Security",subtitle:"Password, biometrics, data",color:"text-purple-600",action:()=>l("privacySecurity")},{icon:Sc,title:"Notifications",subtitle:"Email, push, SMS preferences",color:"text-green-600",expandable:!0}]},{title:"Preferences",items:[{icon:ha,title:"Language & Currency",subtitle:`${h.language.split("-")[0].toUpperCase()} • ${h.currency}`,color:"text-orange-600",action:()=>l("languageCurrency")},{icon:Fe,title:"Location Services",subtitle:m?"Always allow":"Disabled",color:"text-blue-600",toggle:!0,action:()=>p(!m)}]},{title:"Data & Privacy",items:[{icon:$x,title:"Download Data",subtitle:"Export your travel data",color:"text-blue-600",action:()=>{alert("Data export request submitted. You will receive an email with download link within 24 hours.")}},{icon:Jt,title:"Privacy Settings",subtitle:"Control data visibility",color:"text-purple-600",action:()=>l("privacySecurity")},{icon:Pc,title:"Delete Account",subtitle:"Permanently remove account",color:"text-red-600",action:()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&alert("Account deletion request submitted. You will receive a confirmation email.")}}]},{title:"Support & About",items:[{icon:rr,title:"Help & Support",subtitle:"Get assistance",color:"text-amber-600",action:()=>l("helpSupport")},{icon:ZB,title:"Terms & Conditions",subtitle:"Legal information",color:"text-orange-600",action:()=>window.open("/terms","_blank")},{icon:fr,title:"Privacy Policy",subtitle:"How we protect your data",color:"text-green-600",action:()=>window.open("/privacy","_blank")},{icon:RI,title:"About Sanchari",subtitle:"Version 2.4.1",color:"text-blue-600",action:()=>l("about")}]}],[N,j]=T.useState(null),_="bg-gradient-to-br from-navy via-gray-900 to-blue-900",b=O=>{a(E=>({...E,[O]:!E[O]}))},x=O=>{u(O),console.log("User info saved:",O)},C=O=>{f(O),console.log("Language/Currency settings saved:",O)},R=()=>{confirm("Are you sure you want to sign out?")&&t("/login")};return i.jsxs("div",{className:`min-h-screen ${_} pb-20 md:pb-0`,children:[i.jsx(xs,{onSearchOpen:()=>{},onNotificationOpen:()=>{},notificationCount:n,cartCount:2}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:i.jsx("h1",{className:`text-2xl lg:text-3xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Settings"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-8",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:i.jsx("div",{className:`p-6 rounded-2xl ${e?"bg-navy/70":"bg-white/80 border border-gray-200"} backdrop-blur-sm`,children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center",children:c.profileImage?i.jsx("img",{src:c.profileImage,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):i.jsxs("span",{className:"text-2xl font-bold text-navy",children:[c.firstName[0],c.lastName[0]]})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h2",{className:`font-bold text-xl ${e?"text-white":"text-gray-900"}`,children:[c.firstName," ",c.lastName]}),i.jsx("p",{className:`${e?"text-gray-300":"text-gray-700"}`,children:c.email}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[i.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full"}),i.jsx("span",{className:`text-sm font-semibold ${e?"text-yellow-400":"text-blue-600"}`,children:"Premium Member"})]})]}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l("personalInfo"),className:`px-4 py-2 rounded-lg font-semibold ${e?"bg-yellow-400 text-navy":"bg-blue-600 text-white"} hover:opacity-90 transition-opacity`,children:"Edit Profile"})]})})}),i.jsx("div",{className:"space-y-8",children:y.map((O,E)=>i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-gray-900"}`,children:O.title}),i.jsx("div",{className:"space-y-3",children:O.items.map((w,k)=>{const A=w.icon,$=N===`${E}-${k}`;return i.jsxs("div",{children:[i.jsx(S.div,{whileHover:{scale:1.01},onClick:()=>{w.expandable?j($?null:`${E}-${k}`):w.action&&w.action()},className:`p-6 rounded-2xl ${e?"bg-navy/50":"bg-white/80 border border-gray-200"} backdrop-blur-sm cursor-pointer transition-all hover:shadow-lg`,children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl ${w.color} bg-opacity-20 flex items-center justify-center`,children:i.jsx(A,{className:`w-6 h-6 ${w.color}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`font-bold ${e?"text-white":"text-gray-900"}`,children:w.title}),w.subtitle&&i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:w.subtitle})]}),w.toggle?i.jsxs("div",{className:"flex items-center space-x-2",children:[w.title==="Theme"&&i.jsx("span",{className:`text-sm font-semibold ${e?"text-white":"text-gray-900"}`,children:e?"Dark":"Light"}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",checked:w.title==="Theme"?e:m,onChange:w.action}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-500"})]})]}):i.jsx("div",{className:`w-6 h-6 ${e?"text-gray-400":"text-gray-600"}`,children:w.expandable?$?"−":"+":"→"})]})}),w.expandable&&$&&i.jsxs(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`mt-3 p-6 rounded-2xl ${e?"bg-navy/30":"bg-white/60 border border-gray-200"} backdrop-blur-sm`,children:[i.jsx("h5",{className:`font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Notification Preferences"}),i.jsx("div",{className:"space-y-4",children:Object.entries(r).map(([D,P])=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h6",{className:`font-semibold ${e?"text-white":"text-gray-900"}`,children:[D.charAt(0).toUpperCase()+D.slice(1)," Notifications"]}),i.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[D==="email"&&"Receive updates via email",D==="push"&&"Get push notifications on your device",D==="sms"&&"Receive SMS for urgent updates",D==="marketing"&&"Get promotional offers and deals"]})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",checked:P,onChange:()=>b(D)}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},D))})]})]},k)})})]},E))}),i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8",children:i.jsxs(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:R,className:"w-full py-4 bg-red-500/20 rounded-2xl font-semibold text-red-600 flex items-center justify-center space-x-2 hover:bg-red-500/30 transition-colors border border-red-200",children:[i.jsx(ko,{className:"w-5 h-5"}),i.jsx("span",{children:"Sign Out"})]})})]}),i.jsxs("div",{className:"lg:col-span-4",children:[i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-gray-900"}`,children:"Account Overview"}),i.jsxs("div",{className:`p-6 rounded-xl ${e?"bg-navy/50":"bg-white/80 border border-gray-200"} backdrop-blur-sm space-y-4`,children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${e?"text-gray-300":"text-gray-700"}`,children:"Member Since"}),i.jsx("span",{className:`font-semibold ${e?"text-white":"text-gray-900"}`,children:"Jan 2023"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${e?"text-gray-300":"text-gray-700"}`,children:"Total Trips"}),i.jsx("span",{className:`font-semibold ${e?"text-white":"text-gray-900"}`,children:"24"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${e?"text-gray-300":"text-gray-700"}`,children:"Countries Visited"}),i.jsx("span",{className:`font-semibold ${e?"text-white":"text-gray-900"}`,children:"12"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${e?"text-gray-300":"text-gray-700"}`,children:"Travel Points"}),i.jsx("span",{className:`font-semibold ${e?"text-yellow-400":"text-blue-600"}`,children:"2,450"})]})]})]}),i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-gray-900"}`,children:"Security Status"}),i.jsxs("div",{className:`p-6 rounded-xl ${e?"bg-navy/50":"bg-white/80 border border-gray-200"} backdrop-blur-sm space-y-4`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(os,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${e?"text-white":"text-gray-900"}`,children:"Two-Factor Authentication"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Enabled"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(os,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${e?"text-white":"text-gray-900"}`,children:"Strong Password"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Last updated 2 months ago"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:i.jsx(Ff,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${e?"text-white":"text-gray-900"}`,children:"Email Verification"}),i.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Pending verification"})]})]})]})]}),i.jsxs(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"mb-8",children:[i.jsx("h3",{className:`font-bold text-xl mb-4 ${e?"text-white":"text-gray-900"}`,children:"Quick Actions"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("paymentMethods"),className:`w-full p-4 rounded-xl font-semibold text-left ${e?"bg-yellow-400 text-navy":"bg-blue-600 text-white"} hover:opacity-90 transition-opacity`,children:"Update Payment Method"}),i.jsx(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("privacySecurity"),className:`w-full p-4 rounded-xl font-semibold text-left ${e?"bg-navy/50 text-white":"bg-white/80 text-gray-900 border border-gray-200"} hover:opacity-80 transition-opacity`,children:"Change Password"}),i.jsx(S.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full p-4 rounded-xl font-semibold text-left ${e?"bg-navy/50 text-white":"bg-white/80 text-gray-900 border border-gray-200"} hover:opacity-80 transition-opacity`,children:"Manage Subscriptions"})]})]}),i.jsx(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"mb-8",children:i.jsxs("div",{className:`p-6 rounded-xl ${e?"bg-yellow-400":"bg-blue-600"} text-center`,children:[i.jsx("h3",{className:`font-bold text-lg mb-2 ${e?"text-navy":"text-white"}`,children:"Sanchari v2.4.1"}),i.jsx("p",{className:`text-sm mb-4 ${e?"text-navy":"text-white"}`,children:"You're using the latest version"}),i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 rounded-lg font-semibold ${e?"bg-navy text-white":"bg-white text-blue-600"} hover:opacity-90 transition-opacity`,children:"Check for Updates"})]})})]})]})]}),i.jsx(_7,{isOpen:o==="personalInfo",onClose:()=>l(null),userInfo:c,onSave:x}),i.jsx(T7,{isOpen:o==="paymentMethods",onClose:()=>l(null)}),i.jsx(E7,{isOpen:o==="privacySecurity",onClose:()=>l(null)}),i.jsx(S7,{isOpen:o==="languageCurrency",onClose:()=>l(null),currentSettings:h,onSave:C}),i.jsx(k7,{isOpen:o==="helpSupport",onClose:()=>l(null)}),i.jsx(gr,{cartCount:2})]})},OH=()=>{const{isDark:t}=ye(),{user:e}=jt(),n=mt(),[s,r]=T.useState("All"),[a,o]=T.useState("grid"),[l,c]=T.useState(3),[u,h]=T.useState(""),{savedItems:f,loading:m,error:p,removeFromSaved:y}=EH(),N=["All","Places","Hotels","Activities","Restaurants"],j="bg-gradient-to-br from-navy via-gray-900 to-blue-900",_=f.filter(x=>{var O,E;const C=s==="All"||x.itemType===s.slice(0,-1),R=!u||((O=x.title)==null?void 0:O.toLowerCase().includes(u.toLowerCase()))||((E=x.subtitle)==null?void 0:E.toLowerCase().includes(u.toLowerCase()));return C&&R}),b=[{label:"Total Saved",value:f.length.toString()},{label:"Places",value:f.filter(x=>x.itemType==="Place").length.toString()},{label:"Hotels",value:f.filter(x=>x.itemType==="Hotel").length.toString()},{label:"Activities",value:f.filter(x=>x.itemType==="Activity").length.toString()}];return m?i.jsx("div",{className:`min-h-screen ${j} flex items-center justify-center`,children:i.jsx(Qn,{size:"xl",text:"Loading saved items..."})}):p?i.jsx("div",{className:`min-h-screen ${j} flex items-center justify-center`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Error Loading Saved Items"}),i.jsx("p",{className:"text-gray-300 mb-4",children:p}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl font-semibold bg-yellow-400 text-navy",children:"Try Again"})]})}):i.jsxs("div",{className:`min-h-screen ${j} pb-20 md:pb-0`,children:[i.jsx(xs,{onSearchOpen:()=>{},onNotificationOpen:()=>{},notificationCount:l,cartCount:2}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white",children:"Saved Items"}),i.jsx("div",{className:"px-3 py-1 rounded-full bg-yellow-400",children:i.jsxs("span",{className:"text-sm font-bold text-navy",children:[f.length," items"]})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative hidden lg:block",children:[i.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search saved items...",value:u,onChange:x=>h(x.target.value),className:"pl-10 pr-4 py-2 rounded-xl border-0 w-64 bg-navy/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded-lg ${a==="grid"?"bg-yellow-400 text-navy":"bg-navy/50 text-white"}`,children:i.jsx(PI,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded-lg ${a==="list"?"bg-yellow-400 text-navy":"bg-navy/50 text-white"}`,children:i.jsx(OI,{className:"w-5 h-5"})})]}),i.jsx("button",{className:"p-2 rounded-xl bg-navy/50 backdrop-blur-sm",children:i.jsx(Uf,{className:"w-6 h-6 text-yellow-400"})})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-9",children:[i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:N.map(x=>i.jsx("button",{onClick:()=>r(x),className:`px-6 py-3 rounded-full whitespace-nowrap font-semibold transition-all ${s===x?"bg-yellow-400 text-navy":"bg-navy/50 text-white hover:bg-navy/70"}`,children:x},x))})}),a==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:_.map((x,C)=>i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},whileHover:{scale:1.02},className:"rounded-2xl overflow-hidden bg-navy/50 backdrop-blur-sm cursor-pointer group",onClick:()=>n("/trip-details",{state:{trip:x}}),children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:x.image,alt:x.title,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsx("div",{className:"absolute top-4 left-4",children:i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white bg-blue-500",children:x.itemType||"Booking"})}),i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("button",{onClick:R=>{R.stopPropagation(),y(x.id)},className:"w-10 h-10 bg-white/80 rounded-full flex items-center justify-center hover:bg-red-500 transition-colors",children:i.jsx(Pc,{className:"w-5 h-5 text-red-500 hover:text-white"})})}),i.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:i.jsxs("div",{className:"text-white/80 text-xs mb-1",children:["Saved ",x.savedDate?new Date(x.savedDate.toDate()).toLocaleDateString():"Recently"]})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"font-bold text-xl mb-2 text-white",children:x.title}),i.jsx("p",{className:"text-sm mb-3 text-gray-300",children:x.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-sm text-gray-300",children:x.subtitle})]}),i.jsx("span",{className:"font-bold text-yellow-400",children:x.price})]})]})]},x.id))}):i.jsx("div",{className:"space-y-4",children:_.map((x,C)=>i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},whileHover:{scale:1.01},className:"p-6 rounded-2xl bg-navy/50 backdrop-blur-sm cursor-pointer",onClick:()=>n("/trip-details",{state:{trip:x}}),children:i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsx("img",{src:x.image,alt:x.title,className:"w-24 h-24 rounded-xl object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-bold text-white bg-blue-500",children:x.itemType||"Booking"}),i.jsxs("span",{className:"text-xs text-gray-400",children:["Saved ",x.savedDate?new Date(x.savedDate.toDate()).toLocaleDateString():"Recently"]})]}),i.jsx("h3",{className:"font-bold text-xl mb-1 text-white",children:x.title}),i.jsx("p",{className:"text-sm mb-2 text-gray-300",children:x.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-sm text-gray-300",children:x.subtitle})]}),i.jsx("span",{className:"font-bold text-lg text-yellow-400",children:x.price})]})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx("button",{onClick:R=>{R.stopPropagation(),y(x.id)},className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center hover:bg-red-500 transition-colors",children:i.jsx(Pc,{className:"w-5 h-5 text-red-500 hover:text-white"})}),i.jsx("button",{className:"px-4 py-2 rounded-lg font-semibold text-sm bg-yellow-400 text-navy hover:opacity-90 transition-opacity",children:"View"})]})]})},x.id))})]}),i.jsxs("div",{className:"lg:col-span-3",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"font-bold text-xl mb-4 text-white",children:"Your Collection"}),i.jsx("div",{className:"p-6 rounded-xl bg-navy/50 backdrop-blur-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map((x,C)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-white",children:x.value}),i.jsx("div",{className:"text-sm text-gray-300",children:x.label})]},C))})})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"font-bold text-xl mb-4 text-white",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>n("/trip-planner"),className:"w-full p-4 rounded-xl font-semibold text-left bg-yellow-400 text-navy hover:opacity-90 transition-opacity",children:"Plan Trip with Saved Items"}),i.jsx("button",{className:"w-full p-4 rounded-xl font-semibold text-left bg-navy/50 text-white hover:opacity-80 transition-opacity",children:"Create Wishlist"}),i.jsx("button",{className:"w-full p-4 rounded-xl font-semibold text-left bg-navy/50 text-white hover:opacity-80 transition-opacity",children:"Share Collection"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"font-bold text-xl mb-4 text-white",children:"Recently Saved"}),i.jsx("div",{className:"p-6 rounded-xl bg-navy/50 backdrop-blur-sm space-y-4",children:f.slice(0,3).map((x,C)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:x.image,alt:x.title,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-sm text-white",children:x.title}),i.jsx("p",{className:"text-xs text-gray-400",children:x.savedDate?new Date(x.savedDate.toDate()).toLocaleDateString():"Recently"})]}),i.jsx(en,{className:"w-4 h-4 text-red-500 fill-current"})]},C))})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:`p-6 rounded-xl ${t?"bg-yellow-400":"bg-blue-600"} text-center`,children:[i.jsx("h3",{className:`font-bold text-lg mb-2 ${t?"text-navy":"text-white"}`,children:"💡 Smart Suggestion"}),i.jsx("p",{className:`text-sm mb-4 ${t?"text-navy":"text-white"}`,children:"Based on your saved items, we recommend exploring Mediterranean destinations"}),i.jsx("button",{className:`px-4 py-2 rounded-lg font-semibold ${t?"bg-navy text-white":"bg-white text-blue-600"} hover:opacity-90 transition-opacity`,children:"Explore Now"})]})})]})]})]}),i.jsx(gr,{cartCount:2})]})},VH=()=>{var C;const t=mt(),e=Yn(),{isDark:n}=ye(),[s,r]=T.useState(3),[a,o]=T.useState(new Set([0,1])),[l,c]=T.useState(null),[u,h]=T.useState(!0),f=((C=e.state)==null?void 0:C.tripName)||null,{bookings:m,loading:p,error:y}=y4(f);function N(R){return/🚗|taxi|drive|travel|airport|station|ghat/i.test(R)?{label:"Open Maps",url:"https://maps.google.com",icon:s7}:/🛕|temple|stupa|sightseeing|explore|visit/i.test(R)?{label:"View on Guide App",url:"https://guide.sanchari.com",icon:ij}:/🍽️|breakfast|lunch|dinner|food|restaurant|cafe/i.test(R)?{label:"Reserve on Zomato",url:"https://zomato.com",icon:Dh}:/🛏️|hotel|check-in|stay/i.test(R)?{label:"Open Booking",url:"https://booking.com",icon:Rh}:/🎭|concert|event|aarti|music|cultural/i.test(R)?{label:"Explore More",url:"https://events.sanchari.com",icon:Qe}:/🛍️|shop|market/i.test(R)?{label:"Details",url:"https://shopping.sanchari.com",icon:Vx}:{label:"Details",url:"https://sanchari.com",icon:RI}}const j=R=>{const O=new Set(a);O.has(R)?O.delete(R):O.add(R),o(O)},_=R=>{switch(R){case"completed":return"text-green-400";case"active":return"text-yellow-400";case"upcoming":return"text-gray-400";default:return"text-gray-400"}},b=R=>{switch(R){case"completed":return"bg-green-400";case"active":return"bg-yellow-400";case"upcoming":return"bg-gray-400";default:return"bg-gray-400"}};return T.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(R=>{const{latitude:O,longitude:E}=R.coords;c(`${O.toFixed(4)}, ${E.toFixed(4)}`),h(!1)},()=>{c(null),h(!1)}):(c(null),h(!1))},[]),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-navy via-gray-900 to-blue-900 pb-20 md:pb-0",children:[i.jsx(xs,{onSearchOpen:()=>{},onNotificationOpen:()=>{},notificationCount:s,cartCount:2}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:()=>t(-1),className:`p-2 rounded-lg ${n?"hover:bg-white/10":"hover:bg-navy/10"} transition-colors`,children:i.jsx(Ph,{className:`w-6 h-6 ${n?"text-white":"text-navy"}`})}),i.jsx("div",{children:i.jsx("h1",{className:`text-2xl lg:text-3xl font-bold ${n?"text-white":"text-navy"}`,children:f?`My Booking - ${f}`:"My Bookings"})})]})})}),p?i.jsx("div",{className:"flex justify-center items-center min-h-[300px]",children:i.jsx(Qn,{size:"xl",text:"Loading your bookings..."})}):y?i.jsx("div",{className:"text-center text-red-500 font-semibold py-12",children:y}):!m||m.length===0?i.jsx("div",{className:"text-center text-gray-500 font-semibold py-12",children:f?`No booking found for "${f}".`:"No bookings found."}):i.jsx("div",{className:"space-y-16",children:m.map((R,O)=>{let E=[];return E.push({id:`home-${O}`,type:"home",title:"Home (Current Location)",subtitle:u?"Detecting your location...":l?`Current Location: ${l}`:"",status:"completed",icon:Cc,details:{address:R.homeAddress||"",estimatedTime:R.homeEstimatedTime||""},action:{label:"Get Directions",icon:a7,url:"https://maps.google.com"}}),R.accommodation&&E.push({id:`accommodation-${O}`,type:"accommodation",title:"Recommended Stay",subtitle:R.accommodation.hotelName||"",status:"upcoming",icon:Rh,details:R.accommodation,action:{label:"Book Now",icon:ij,url:R.accommodation.bookingUrl||"https://booking.com"}}),R.itinerary&&Array.isArray(R.itinerary)&&R.itinerary.forEach((w,k)=>{E.push({id:`itinerary-day-${w.day}-${O}`,type:"itinerary-day",title:`Day ${w.day}: ${w.title}`,subtitle:"",status:k<1?"completed":k===1?"active":"upcoming",icon:Gl,details:{activities:w.activities},date:w.date||new Date(Date.now()+k*864e5).toISOString().slice(0,10)})}),R.returnJourney&&E.push({id:`return-${O}`,type:"return",title:"Return Journey",subtitle:R.returnJourney.subtitle||"",status:"upcoming",icon:x7,details:R.returnJourney,action:{label:"Track Train",icon:c7,url:"#"}}),E.push({id:`back-home-${O}`,type:"home",title:"Back Home",subtitle:"Trip Complete",status:"upcoming",icon:Cc,details:{estimatedArrival:R.estimatedArrival||"",totalDistance:R.totalDistance||"",tripDuration:R.tripDuration||""},action:{label:"Share Experience",icon:Ac,url:"#"}}),i.jsxs("div",{className:"bg-white/70 dark:bg-navy/60 rounded-2xl shadow-lg p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:`text-xl font-bold ${n?"text-yellow-400":"text-blue-600"}`,children:R.destinationName||R.title}),i.jsxs("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:[R.checkInDate||""," – ",R.checkOutDate||""," • ",R.travelers||""," travelers"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-yellow-400 via-blue-500 to-green-400"}),i.jsx("div",{className:"space-y-8",children:E.map((w,k)=>{const A=w.icon,$=a.has(w.id),D=w.status==="active",P=w.status==="completed",ae=w.type==="itinerary-day";let pe=w.subtitle;return w.type==="home"&&w.id.startsWith("home")&&(pe=u?"Detecting your location...":l?`Current Location: ${l}`:""),i.jsxs(S.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:k*.1},className:"relative",children:[i.jsxs("div",{className:"absolute left-6 top-6 w-4 h-4 rounded-full border-4 border-white shadow-lg z-10",children:[i.jsx("div",{className:`w-full h-full rounded-full ${b(w.status)}`}),D&&i.jsx(S.div,{className:"absolute inset-0 rounded-full bg-yellow-400",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0}})]}),i.jsxs("div",{className:`ml-16 p-6 rounded-2xl backdrop-blur-sm transition-all duration-300 ${n?"bg-navy/50 border border-white/10":"bg-white/50 border border-gray-200"} ${D?"ring-2 ring-yellow-400/50":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:`p-3 rounded-xl ${n?"bg-white/10":"bg-navy/10"}`,children:i.jsx(A,{className:`w-6 h-6 ${_(w.status)}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h3",{className:`text-lg font-bold ${n?"text-white":"text-navy"}`,children:w.title}),P&&i.jsx(Ts,{className:"w-5 h-5 text-green-400"}),D&&i.jsxs(S.div,{className:"flex items-center space-x-1",animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),i.jsx("span",{className:"text-xs text-yellow-400 font-semibold",children:"LIVE"})]}),ae&&w.date===new Date().toISOString().slice(0,10)&&i.jsx("span",{className:"ml-2 px-2 py-1 rounded bg-yellow-400 text-navy text-xs font-bold",children:"Today"})]}),i.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:pe})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[w.action&&i.jsxs(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open(w.action.url,"_blank"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-semibold transition-all ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(w.action.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:w.action.label})]}),i.jsx("button",{onClick:()=>j(w.id),className:`p-2 rounded-lg transition-colors ${n?"hover:bg-white/10":"hover:bg-navy/10"}`,children:$?i.jsx(XB,{className:`w-5 h-5 ${n?"text-white":"text-navy"}`}):i.jsx(Rx,{className:`w-5 h-5 ${n?"text-white":"text-navy"}`})})]})]}),i.jsx(Nt,{children:$&&i.jsxs(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-6 pt-6 border-t border-gray-300/20",children:[w.type==="home"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fe,{className:`w-5 h-5 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:w.details.address})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{className:`w-5 h-5 ${n?"text-yellow-400":"text-blue-600"}`}),i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:w.details.estimatedTime})]})]}),w.type==="accommodation"&&w.details&&i.jsxs("div",{className:"space-y-4",children:[w.details.image&&i.jsx("img",{src:w.details.image,alt:w.details.hotelName,className:"w-full h-48 object-cover rounded-xl"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:`font-bold text-lg ${n?"text-white":"text-navy"}`,children:w.details.hotelName}),w.details.rating&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:w.details.rating})]})]}),i.jsx("p",{className:`${n?"text-gray-300":"text-gray-600"}`,children:w.details.address}),i.jsxs("div",{className:"flex items-center justify-between",children:[w.details.price&&i.jsx("span",{className:`text-lg font-bold ${n?"text-yellow-400":"text-blue-600"}`,children:w.details.price}),i.jsx("div",{className:"flex space-x-1",children:w.details.amenities&&w.details.amenities.map((ge,re)=>i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n?"bg-white/10 text-white":"bg-navy/10 text-navy"}`,children:ge},re))})]})]})]}),w.type==="return"&&w.details&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:"Train"}),i.jsxs("span",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:[w.details.trainNumber," - ",w.details.trainName]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:"Time"}),i.jsx("span",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:w.details.departureTime})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:"Platform"}),i.jsx("span",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:w.details.platform})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:"Coach"}),i.jsx("span",{className:`font-semibold ${n?"text-white":"text-navy"}`,children:w.details.coach})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:"Status"}),i.jsx("span",{className:`font-semibold ${w.details.status==="On Time"?"text-green-400":w.details.status==="Delayed"?"text-red-400":n?"text-white":"text-navy"}`,children:w.details.status})]}),w.details.delay&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:`${n?"text-gray-300":"text-gray-600"}`,children:"Delay"}),i.jsx("span",{className:"font-semibold text-red-400",children:w.details.delay})]})]})]}),w.type==="itinerary-day"&&w.details&&i.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-yellow-400",children:w.details.activities&&w.details.activities.map((ge,re)=>{const q=N(ge);return i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:ge[0]}),i.jsx("span",{className:"text-base",children:ge.slice(2)})]}),i.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:`ml-4 px-3 py-1 rounded-lg font-semibold text-xs flex items-center gap-1 transition-all ${n?"bg-yellow-400 text-navy hover:bg-yellow-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(q.icon,{className:"w-4 h-4"}),q.label]})]},re)})})]})})]})]},w.id)})})]})]},R.id||O)})})]}),i.jsx(gr,{})]})},jl=t=>{if(t.status)return t.status;const e=new Date,n=new Date(t.checkInDate||t.createdAt),s=new Date(t.checkOutDate||t.createdAt);return s<e?"Completed":n<=e&&s>=e?"Active":(n>e,"Upcoming")},LH=t=>{switch(t.toLowerCase()){case"completed":return"text-green-500";case"active":return"text-blue-500";case"upcoming":return"text-yellow-500";case"cancelled":return"text-red-500";default:return"text-gray-500"}},MH=t=>{switch(t.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"upcoming":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},FH=()=>{const{isDark:t}=ye(),{user:e}=jt(),n=mt(),s=Yn(),[r,a]=T.useState("All"),[o,l]=T.useState(!1),[c,u]=T.useState(!1),[h,f]=T.useState(""),[m,p]=T.useState(!1),[y,N]=T.useState(new Set),[j,_]=T.useState({}),[b,x]=T.useState(3),[C,R]=T.useState("grid"),[O,E]=T.useState("recent"),[w,k]=T.useState(1),[A,$]=T.useState(new Set),[D,P]=T.useState(!1),ae=12,{bookings:pe,loading:ge,error:re,refetch:q}=TH(),[Y,M]=T.useState([]),H=["All","Upcoming","Active","Completed","Cancelled"],se=[{value:"recent",label:"Most Recent"},{value:"departure",label:"Departure Date"},{value:"created",label:"Booking Date"},{value:"destination",label:"Destination A-Z"},{value:"price-high",label:"Price: High to Low"},{value:"price-low",label:"Price: Low to High"},{value:"rating",label:"Highest Rated"}];T.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const ne=await ua(e.uid);if(ne.success){const ue=new Set(ne.data.map(X=>X.itemId));N(ue)}}catch(ne){console.error("Error loading saved items:",ne)}})()},[e==null?void 0:e.uid]),T.useEffect(()=>{let Z=[...pe];if(h&&(Z=Z.filter(ne=>{var ue,X,fe,He;return((ue=ne.tripName)==null?void 0:ue.toLowerCase().includes(h.toLowerCase()))||((X=ne.location)==null?void 0:X.toLowerCase().includes(h.toLowerCase()))||((fe=ne.subtitle)==null?void 0:fe.toLowerCase().includes(h.toLowerCase()))||((He=ne.destinationName)==null?void 0:He.toLowerCase().includes(h.toLowerCase()))})),r!=="All"&&(Z=Z.filter(ne=>jl(ne).toLowerCase()===r.toLowerCase())),j.priceRange){const[ne,ue]=j.priceRange;Z=Z.filter(X=>{var He;const fe=parseInt(((He=X.price)==null?void 0:He.replace(/[^\d]/g,""))||"0");return fe>=ne&&fe<=ue})}if(j.rating&&(Z=Z.filter(ne=>parseFloat(ne.rating||0)>=j.rating)),j.dateRange){const[ne,ue]=j.dateRange;Z=Z.filter(X=>{const fe=new Date(X.createdAt);return fe>=ne&&fe<=ue})}switch(O){case"departure":Z.sort((ne,ue)=>new Date(ne.checkInDate||ne.createdAt)-new Date(ue.checkInDate||ue.createdAt));break;case"created":Z.sort((ne,ue)=>new Date(ue.createdAt)-new Date(ne.createdAt));break;case"destination":Z.sort((ne,ue)=>(ne.tripName||"").localeCompare(ue.tripName||""));break;case"price-high":Z.sort((ne,ue)=>{var He,sn;const X=parseInt(((He=ne.price)==null?void 0:He.replace(/[^\d]/g,""))||"0");return parseInt(((sn=ue.price)==null?void 0:sn.replace(/[^\d]/g,""))||"0")-X});break;case"price-low":Z.sort((ne,ue)=>{var He,sn;const X=parseInt(((He=ne.price)==null?void 0:He.replace(/[^\d]/g,""))||"0"),fe=parseInt(((sn=ue.price)==null?void 0:sn.replace(/[^\d]/g,""))||"0");return X-fe});break;case"rating":Z.sort((ne,ue)=>parseFloat(ue.rating||0)-parseFloat(ne.rating||0));break;default:Z.sort((ne,ue)=>new Date(ue.createdAt)-new Date(ne.createdAt))}M(Z),k(1)},[pe,h,j,O,r]),T.useEffect(()=>{var Z;(Z=s.state)!=null&&Z.searchQuery&&f(s.state.searchQuery)},[s.state]);const xe=Z=>{f(Z),p(!0),setTimeout(()=>p(!1),300)},Be=async Z=>{if(!(e!=null&&e.uid)){n("/login");return}try{const ne=pe.find(ue=>ue.id===Z);if(!ne)return;if(y.has(Z)){const ue=await ua(e.uid);if(ue.success){const X=ue.data.find(fe=>fe.itemId===Z);X&&(await cx(X.id),N(fe=>{const He=new Set(fe);return He.delete(Z),He}))}}else{const ue={itemId:Z,itemType:"Booking",title:ne.tripName||ne.title,subtitle:ne.location,price:ne.price,image:ne.image,description:ne.subtitle,rating:ne.rating,savedDate:new Date};(await lx(e.uid,ue)).success&&N(fe=>new Set([...fe,Z]))}}catch(ne){console.error("Error saving item:",ne)}},ze=Z=>{_(Z),p(!0),setTimeout(()=>p(!1),600)},_e=()=>{_({}),a("All"),f("")},Ze=Z=>{$(ne=>{const ue=new Set(ne);return ue.has(Z)?ue.delete(Z):ue.add(Z),P(ue.size>0),ue})},bn=()=>{A.size===Y.length?($(new Set),P(!1)):($(new Set(Y.map(Z=>Z.id))),P(!0))},_t=async Z=>{console.log(`Bulk ${Z} for bookings:`,Array.from(A)),$(new Set),P(!1)},Ot=()=>{k(Z=>Z+1)},pt=Y.slice(0,w*ae),Nn=Y.length>w*ae,et="bg-gradient-to-br from-navy via-gray-900 to-blue-900";return ge||m?i.jsx("div",{className:`min-h-screen ${et} flex items-center justify-center`,children:i.jsx(Qn,{size:"xl",text:h?`Searching bookings for "${h}"...`:"Loading your bookings..."})}):re?i.jsx("div",{className:`min-h-screen ${et} flex items-center justify-center`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Error Loading Bookings"}),i.jsx("p",{className:"text-gray-300 mb-4",children:re}),i.jsx("button",{onClick:q,className:"px-6 py-3 rounded-xl font-semibold bg-yellow-400 text-navy hover:bg-yellow-300 transition-colors",children:"Try Again"})]})}):i.jsxs("div",{className:`min-h-screen ${et} pb-20 md:pb-0`,children:[i.jsx(xs,{onSearchOpen:()=>l(!0),onNotificationOpen:()=>{},notificationCount:b,cartCount:2}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:i.jsxs("div",{className:"flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 text-white truncate",children:"My Bookings"}),h&&i.jsxs("p",{className:"text-sm sm:text-base lg:text-lg font-normal text-gray-300 truncate",children:[Y.length,' results for "',h,'"']})]}),i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-shrink-0",children:[i.jsx("button",{onClick:()=>l(!0),className:"p-2 sm:p-3 rounded-xl text-white bg-white/10 hover:bg-white/20 transition-colors",children:i.jsx(Os,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:()=>u(!0),className:"p-2 sm:p-3 rounded-xl text-white bg-white/10 hover:bg-white/20 transition-colors relative",children:[i.jsx(Uf,{className:"w-5 h-5"}),Object.keys(j).length>0&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full"})]})]})]})}),i.jsx(Nt,{children:D&&i.jsx(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-4 bg-blue-600/20 border border-blue-400/30 rounded-xl backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-white font-medium",children:[A.size," booking",A.size!==1?"s":""," selected"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>_t("download"),className:"px-3 py-1 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors flex items-center gap-1",children:[i.jsx($x,{className:"w-4 h-4"}),"Download"]}),i.jsxs("button",{onClick:()=>_t("share"),className:"px-3 py-1 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors flex items-center gap-1",children:[i.jsx(Ac,{className:"w-4 h-4"}),"Share"]}),i.jsxs("button",{onClick:()=>_t("delete"),className:"px-3 py-1 rounded-lg bg-red-500/20 text-red-300 hover:bg-red-500/30 transition-colors flex items-center gap-1",children:[i.jsx(Pc,{className:"w-4 h-4"}),"Delete"]})]})]})})}),i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Bookings",value:pe.length,color:"text-blue-400"},{label:"Active Trips",value:pe.filter(Z=>jl(Z)==="Active").length,color:"text-green-400"},{label:"Upcoming",value:pe.filter(Z=>jl(Z)==="Upcoming").length,color:"text-yellow-400"},{label:"Completed",value:pe.filter(Z=>jl(Z)==="Completed").length,color:"text-purple-400"}].map((Z,ne)=>i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[i.jsx("div",{className:`text-2xl font-bold ${Z.color}`,children:Z.value}),i.jsx("div",{className:"text-sm text-gray-300",children:Z.label})]},ne))})}),i.jsx(zI,{categories:H,activeFilter:r,setActiveFilter:a}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:A.size===Y.length&&Y.length>0,onChange:bn,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsxs("span",{className:"text-sm font-medium text-gray-300 flex-shrink-0",children:[Y.length," booking",Y.length!==1?"s":""," found"]})]}),Y.length>0&&i.jsxs("span",{className:"text-xs sm:text-sm text-gray-400 truncate",children:["Showing ",Math.min(w*ae,Y.length)," of ",Y.length]})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsx("div",{className:"sm:hidden",children:i.jsx(s0,{viewMode:C,setViewMode:R})}),i.jsx(HI,{sortBy:O,setSortBy:E,options:se})]})]}),Y.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:C==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6":"space-y-4 sm:space-y-6",children:pt.map((Z,ne)=>i.jsx(UH,{booking:Z,index:ne,viewMode:C,isSaved:y.has(Z.id),isSelected:A.has(Z.id),onSave:()=>Be(Z.id),onSelect:()=>Ze(Z.id),onClick:()=>n("/trip-details",{state:{trip:Z}}),onViewDetails:()=>n("/mybookings",{state:{tripName:Z.tripName}})},Z.id))}),Nn&&i.jsx(S.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center mt-8 sm:mt-12",children:i.jsx(S.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ot,className:"px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-sm sm:text-base bg-yellow-400 text-navy hover:opacity-90 transition-opacity",children:"Load More Bookings"})})]}):i.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 sm:py-16",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx($t,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:h?"No bookings found":"No bookings yet"}),i.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:h?`No bookings match "${h}". Try different keywords.`:"Start planning your next adventure! Browse destinations and create your first booking."})]}),i.jsxs("div",{className:"space-y-3",children:[h&&i.jsx("button",{onClick:()=>f(""),className:"w-full px-6 py-3 rounded-xl font-semibold bg-white/10 text-white hover:bg-white/20 transition-colors",children:"Clear Search"}),i.jsx("button",{onClick:()=>n("/explore"),className:"w-full px-6 py-3 rounded-xl font-semibold bg-yellow-400 text-navy hover:bg-yellow-300 transition-colors",children:"Explore Destinations"})]})]})})]}),i.jsx(Lx,{isOpen:o,onClose:()=>l(!1),onSearch:xe,searchQuery:h,placeholder:"Search bookings..."}),i.jsx(BI,{isOpen:c,onClose:()=>u(!1),appliedFilters:j,onApplyFilters:ze,onClearFilters:_e}),i.jsx(gr,{})]})},UH=({booking:t,index:e,viewMode:n,isSaved:s,isSelected:r,onSave:a,onSelect:o,onClick:l,onViewDetails:c})=>{const{isDark:u}=ye(),h=jl(t);return i.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},className:`group relative ${n==="list"?"flex":"block"} bg-white/10 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-white/20 transition-all duration-300 ${r?"ring-2 ring-blue-400":""}`,children:[i.jsx("div",{className:"absolute top-3 left-3 z-10",children:i.jsx("input",{type:"checkbox",checked:r,onChange:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),i.jsx("div",{className:"absolute top-3 right-3 z-10",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${MH(h)}`,children:h})}),i.jsxs("div",{className:`${n==="list"?"w-48 flex-shrink-0":"w-full"} h-48 relative overflow-hidden`,children:[i.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",alt:t.tripName||t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),i.jsxs("div",{className:`${n==="list"?"flex-1":"w-full"} p-4 sm:p-6`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-1 truncate",children:t.tripName||t.title}),i.jsxs("p",{className:"text-sm text-gray-300 truncate flex items-center gap-1",children:[i.jsx(Fe,{className:"w-3 h-3 flex-shrink-0"}),t.location||t.destinationName]})]}),i.jsx("button",{onClick:f=>{f.stopPropagation(),a()},className:`p-2 rounded-lg transition-colors ${s?"text-red-400 hover:text-red-300":"text-gray-400 hover:text-white"}`,children:i.jsx(en,{className:`w-5 h-5 ${s?"fill-current":""}`})})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx($t,{className:"w-4 h-4"}),t.checkInDate?new Date(t.checkInDate).toLocaleDateString():"Date TBD"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(yn,{className:"w-4 h-4"}),t.travelers||"1 traveler"]})]}),t.rating&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-sm font-medium text-white",children:t.rating}),i.jsxs("span",{className:"text-xs text-gray-400",children:["(",t.reviews||0," reviews)"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl font-bold text-yellow-400",children:t.price||"Price TBD"}),i.jsx("span",{className:`text-sm ${LH(h)}`,children:h})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:f=>{f.stopPropagation(),c()},className:"p-2 rounded-lg bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 transition-colors",title:"View Details",children:i.jsx(Jt,{className:"w-4 h-4"})}),i.jsx("button",{onClick:f=>{f.stopPropagation(),l()},className:"px-3 py-1 rounded-lg bg-yellow-400 text-navy hover:bg-yellow-300 transition-colors font-medium text-sm",children:"View Trip"})]})]})]})]})},BH=t=>t.reduce((e,n)=>(e[n.category]||(e[n.category]=[]),e[n.category].push(n),e),{}),zH=()=>{const{isDark:t}=ye(),[e,n]=T.useState(null),{pois:s,loading:r,error:a}=Bx(e);T.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(u=>{n({lat:u.coords.latitude,lon:u.coords.longitude})},()=>{n(null)})},[]);const o=t?"bg-gradient-to-br from-navy via-gray-900 to-blue-900":"bg-gradient-to-br from-amber-100 via-blue-50 to-purple-100",l=BH(s),c=Object.keys(l).sort();return i.jsxs("div",{className:`min-h-screen ${o} pb-20 md:pb-0`,children:[i.jsx(xs,{}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[i.jsx("h2",{className:`font-bold text-3xl mb-8 ${t?"text-white":"text-navy"}`,children:"Nearby Points of Interest"}),r?i.jsx("div",{className:"flex items-center justify-center py-16",children:i.jsx(Qn,{size:"xl",text:"Loading nearby places..."})}):a?i.jsx("div",{className:"text-red-500 text-center py-8",children:a}):s.length===0?i.jsx("div",{className:"text-gray-500 text-center py-8",children:"No nearby points of interest found."}):c.map(u=>i.jsxs("div",{className:"mb-10",children:[i.jsx("h3",{className:`font-bold text-2xl mb-4 ${t?"text-yellow-400":"text-blue-600"}`,children:u}),i.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100",children:l[u].map((h,f)=>i.jsx(g4,{poi:h,index:f},h.id))})]},u))]}),i.jsx(gr,{})]})};function HH(){return i.jsx(f5,{children:i.jsx(h5,{children:i.jsx(XM,{children:i.jsxs("div",{className:"min-h-screen",children:[i.jsxs(c5,{children:[i.jsx(Bt,{path:"/",element:i.jsx(O7,{})}),i.jsx(Bt,{path:"/login",element:i.jsx(L7,{})}),i.jsx(Bt,{path:"/profile-setup",element:i.jsx(F7,{})}),i.jsx(Bt,{path:"/dashboard",element:i.jsx(On,{children:i.jsx(_H,{})})}),i.jsx(Bt,{path:"/trip-planner",element:i.jsx(On,{children:i.jsx(SH,{})})}),i.jsx(Bt,{path:"/explore",element:i.jsx(On,{children:i.jsx(CH,{})})}),i.jsx(Bt,{path:"/trip-details",element:i.jsx(On,{children:i.jsx(AH,{})})}),i.jsx(Bt,{path:"/trip-details/:tripId",element:i.jsx(On,{children:i.jsx(PH,{})})}),i.jsx(Bt,{path:"/cart",element:i.jsx(On,{children:i.jsx(RH,{})})}),i.jsx(Bt,{path:"/profile",element:i.jsx(On,{children:i.jsx(DH,{})})}),i.jsx(Bt,{path:"/settings",element:i.jsx(On,{children:i.jsx($H,{})})}),i.jsx(Bt,{path:"/saved",element:i.jsx(On,{children:i.jsx(OH,{})})}),i.jsx(Bt,{path:"/mybookings",element:i.jsx(On,{children:i.jsx(VH,{})})}),i.jsx(Bt,{path:"/bookings",element:i.jsx(On,{children:i.jsx(FH,{})})}),i.jsx(Bt,{path:"/nearby-pois",element:i.jsx(On,{children:i.jsx(zH,{})})})]}),i.jsx(j7,{})]})})})})}vp.createRoot(document.getElementById("root")).render(i.jsx(Ao.StrictMode,{children:i.jsx(HH,{})}));
